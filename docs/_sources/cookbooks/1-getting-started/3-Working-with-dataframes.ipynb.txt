{
  "cells": [
    {
      "cell_type": "markdown",
      "metadata": {
        "Collapsed": "false",
        "id": "8XNB2EeXR4DA"
      },
      "source": [
        "# The Dimcli Python library: Working with Pandas Dataframes\n",
        "\n",
        "[Dimcli](https://github.com/lambdamusic/dimcli) includes a few utilities that make it easier to transform Dimensions JSON data into Pandas [dataframe objects](https://pandas.pydata.org/pandas-docs/stable/getting_started/dsintro.html#dataframe).\n",
        "\n",
        "Dataframes are then easy to sort, analyse, export as CSV and use within visualisation softwares.\n",
        "\n",
        ">  [pandas](https://pandas.pydata.org/pandas-docs/stable/) is a popular software library written for the Python programming language for data manipulation and analysis.\n"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 1,
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "AX6GU4bvBCIu",
        "outputId": "5f4a1ffd-cf3d-48bc-89f5-3d029ed681f9"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "==\n",
            "CHANGELOG\n",
            "This notebook was last run on Jul 28, 2023\n",
            "==\n"
          ]
        }
      ],
      "source": [
        "import datetime\n",
        "print(\"==\\nCHANGELOG\\nThis notebook was last run on %s\\n==\" % datetime.date.today().strftime('%b %d, %Y'))"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "Collapsed": "false",
        "id": "hMaQlB7DG8Vw"
      },
      "source": [
        "## Prerequisites\n",
        "\n",
        "This notebook assumes you have installed the [Dimcli](https://pypi.org/project/dimcli/) library and are familiar with the ['Getting Started' tutorial](https://api-lab.dimensions.ai/cookbooks/1-getting-started/1-Using-the-Dimcli-library-to-query-the-API.html)."
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 2,
      "metadata": {
        "Collapsed": "false",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "J2XpKv-sBCIw",
        "outputId": "3f6a1d70-921b-49bd-b45e-9fe37649d678"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "\u001b[2K     \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m240.6/240.6 kB\u001b[0m \u001b[31m3.1 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n",
            "\u001b[2K     \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m1.6/1.6 MB\u001b[0m \u001b[31m41.3 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n",
            "\u001b[2K     \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m51.1/51.1 kB\u001b[0m \u001b[31m4.0 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n",
            "\u001b[?25h==\n",
            "Logging in..\n",
            "API Key: ··········\n",
            "\u001b[2mDimcli - Dimensions API Client (v1.1)\u001b[0m\n",
            "\u001b[2mConnected to: <https://app.dimensions.ai/api/dsl> - DSL v2.7\u001b[0m\n",
            "\u001b[2mMethod: manual login\u001b[0m\n"
          ]
        }
      ],
      "source": [
        "!pip install dimcli --quiet\n",
        "\n",
        "import dimcli\n",
        "from dimcli.utils import *\n",
        "import json\n",
        "import sys\n",
        "import pandas as pd\n",
        "#\n",
        "\n",
        "print(\"==\\nLogging in..\")\n",
        "# https://digital-science.github.io/dimcli/getting-started.html#authentication\n",
        "ENDPOINT = \"https://app.dimensions.ai\"\n",
        "if 'google.colab' in sys.modules:\n",
        "  import getpass\n",
        "  KEY = getpass.getpass(prompt='API Key: ')\n",
        "  dimcli.login(key=KEY, endpoint=ENDPOINT)\n",
        "else:\n",
        "  KEY = \"\"\n",
        "  dimcli.login(key=KEY, endpoint=ENDPOINT)\n",
        "dsl = dimcli.Dsl()"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "Collapsed": "false",
        "id": "oMLG9WL0R4DE"
      },
      "source": [
        "## 1. General method to transform JSON query results into a dataframe\n",
        "\n",
        "The `DslDataset.as_dataframe` method allows to quickly turn any query results into a dataframe."
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 3,
      "metadata": {
        "Collapsed": "false",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "19qgos2dR4DF",
        "outputId": "2a38637a-0b9d-42c9-fb95-9ad45af2c923"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "Returned Publications: 1000 (total = 504784)\n",
            "\u001b[2mTime: 3.92s\u001b[0m\n",
            "WARNINGS [1]\n",
            "Field current_organization_id of the authors field is deprecated and will be removed in the next major release.\n"
          ]
        }
      ],
      "source": [
        "# we'll reuse this query later on\n",
        "query = \"\"\"search publications for \"graphene\"\n",
        "            where year in [2013:2019]\n",
        "            return publications[id+type+volume+year+issue+title+journal+authors] sort by times_cited limit 1000\"\"\"\n",
        "res = dsl.query(query)"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 4,
      "metadata": {
        "Collapsed": "false",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 5672
        },
        "id": "6LCGKJPwR4DG",
        "outputId": "9a192fbd-8efa-42ea-d0ba-8a2cceef3ddb"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "               id                                              title  \\\n",
              "0  pub.1024857999                     Van der Waals heterostructures   \n",
              "1  pub.1050119463  The chemistry of two-dimensional layered trans...   \n",
              "2  pub.1007330696  Combining theory and experiment in electrocata...   \n",
              "3  pub.1019126274     The Li-Ion Rechargeable Battery: A Perspective   \n",
              "4  pub.1032956475          Black phosphorus field-effect transistors   \n",
              "5  pub.1036410643                         Review of Particle Physics   \n",
              "6  pub.1055085164  Aggregation-Induced Emission: Together We Shin...   \n",
              "7  pub.1004394295  Interface engineering of highly efficient pero...   \n",
              "8  pub.1045181228            The emergence of perovskite solar cells   \n",
              "9  pub.1015305822  Raman spectroscopy as a versatile tool for stu...   \n",
              "\n",
              "                                             authors issue     type volume  \\\n",
              "0  [{'affiliations': [{'city': 'Manchester', 'cit...  7459  article    499   \n",
              "1  [{'affiliations': [{'city': 'New Brunswick', '...     4  article      5   \n",
              "2  [{'affiliations': [{'city': 'Stanford', 'city_...  6321  article    355   \n",
              "3  [{'affiliations': [{'city': 'Austin', 'city_id...     4  article    135   \n",
              "4  [{'affiliations': [{'city': 'Shanghai', 'city_...     5  article      9   \n",
              "5  [{'affiliations': [], 'corresponding': '', 'cu...     9  article     38   \n",
              "6  [{'affiliations': [{'city': 'Shenzhen', 'city_...    21  article    115   \n",
              "7  [{'affiliations': [{'city': 'Los Angeles', 'ci...  6196  article    345   \n",
              "8  [{'affiliations': [{'city': 'Sydney', 'city_id...     7  article      8   \n",
              "9  [{'affiliations': [{'city': 'Cambridge', 'city...     4  article      8   \n",
              "\n",
              "   year    journal.id                             journal.title  \n",
              "0  2013  jour.1018957                                    Nature  \n",
              "1  2013  jour.1041224                          Nature Chemistry  \n",
              "2  2017  jour.1346339                                   Science  \n",
              "3  2013  jour.1081898  Journal of the American Chemical Society  \n",
              "4  2014  jour.1037429                     Nature Nanotechnology  \n",
              "5  2014  jour.1327822                         Chinese Physics C  \n",
              "6  2015  jour.1077147                          Chemical Reviews  \n",
              "7  2014  jour.1346339                                   Science  \n",
              "8  2014  jour.1037430                          Nature Photonics  \n",
              "9  2013  jour.1037429                     Nature Nanotechnology  "
            ],
            "text/html": [
              "\n",
              "\n",
              "  <div id=\"df-ada638f9-6d93-4735-99ab-7c385606992d\">\n",
              "    <div class=\"colab-df-container\">\n",
              "      <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>id</th>\n",
              "      <th>title</th>\n",
              "      <th>authors</th>\n",
              "      <th>issue</th>\n",
              "      <th>type</th>\n",
              "      <th>volume</th>\n",
              "      <th>year</th>\n",
              "      <th>journal.id</th>\n",
              "      <th>journal.title</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>0</th>\n",
              "      <td>pub.1024857999</td>\n",
              "      <td>Van der Waals heterostructures</td>\n",
              "      <td>[{'affiliations': [{'city': 'Manchester', 'cit...</td>\n",
              "      <td>7459</td>\n",
              "      <td>article</td>\n",
              "      <td>499</td>\n",
              "      <td>2013</td>\n",
              "      <td>jour.1018957</td>\n",
              "      <td>Nature</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1</th>\n",
              "      <td>pub.1050119463</td>\n",
              "      <td>The chemistry of two-dimensional layered trans...</td>\n",
              "      <td>[{'affiliations': [{'city': 'New Brunswick', '...</td>\n",
              "      <td>4</td>\n",
              "      <td>article</td>\n",
              "      <td>5</td>\n",
              "      <td>2013</td>\n",
              "      <td>jour.1041224</td>\n",
              "      <td>Nature Chemistry</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>2</th>\n",
              "      <td>pub.1007330696</td>\n",
              "      <td>Combining theory and experiment in electrocata...</td>\n",
              "      <td>[{'affiliations': [{'city': 'Stanford', 'city_...</td>\n",
              "      <td>6321</td>\n",
              "      <td>article</td>\n",
              "      <td>355</td>\n",
              "      <td>2017</td>\n",
              "      <td>jour.1346339</td>\n",
              "      <td>Science</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>3</th>\n",
              "      <td>pub.1019126274</td>\n",
              "      <td>The Li-Ion Rechargeable Battery: A Perspective</td>\n",
              "      <td>[{'affiliations': [{'city': 'Austin', 'city_id...</td>\n",
              "      <td>4</td>\n",
              "      <td>article</td>\n",
              "      <td>135</td>\n",
              "      <td>2013</td>\n",
              "      <td>jour.1081898</td>\n",
              "      <td>Journal of the American Chemical Society</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>4</th>\n",
              "      <td>pub.1032956475</td>\n",
              "      <td>Black phosphorus field-effect transistors</td>\n",
              "      <td>[{'affiliations': [{'city': 'Shanghai', 'city_...</td>\n",
              "      <td>5</td>\n",
              "      <td>article</td>\n",
              "      <td>9</td>\n",
              "      <td>2014</td>\n",
              "      <td>jour.1037429</td>\n",
              "      <td>Nature Nanotechnology</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>5</th>\n",
              "      <td>pub.1036410643</td>\n",
              "      <td>Review of Particle Physics</td>\n",
              "      <td>[{'affiliations': [], 'corresponding': '', 'cu...</td>\n",
              "      <td>9</td>\n",
              "      <td>article</td>\n",
              "      <td>38</td>\n",
              "      <td>2014</td>\n",
              "      <td>jour.1327822</td>\n",
              "      <td>Chinese Physics C</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>6</th>\n",
              "      <td>pub.1055085164</td>\n",
              "      <td>Aggregation-Induced Emission: Together We Shin...</td>\n",
              "      <td>[{'affiliations': [{'city': 'Shenzhen', 'city_...</td>\n",
              "      <td>21</td>\n",
              "      <td>article</td>\n",
              "      <td>115</td>\n",
              "      <td>2015</td>\n",
              "      <td>jour.1077147</td>\n",
              "      <td>Chemical Reviews</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>7</th>\n",
              "      <td>pub.1004394295</td>\n",
              "      <td>Interface engineering of highly efficient pero...</td>\n",
              "      <td>[{'affiliations': [{'city': 'Los Angeles', 'ci...</td>\n",
              "      <td>6196</td>\n",
              "      <td>article</td>\n",
              "      <td>345</td>\n",
              "      <td>2014</td>\n",
              "      <td>jour.1346339</td>\n",
              "      <td>Science</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>8</th>\n",
              "      <td>pub.1045181228</td>\n",
              "      <td>The emergence of perovskite solar cells</td>\n",
              "      <td>[{'affiliations': [{'city': 'Sydney', 'city_id...</td>\n",
              "      <td>7</td>\n",
              "      <td>article</td>\n",
              "      <td>8</td>\n",
              "      <td>2014</td>\n",
              "      <td>jour.1037430</td>\n",
              "      <td>Nature Photonics</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>9</th>\n",
              "      <td>pub.1015305822</td>\n",
              "      <td>Raman spectroscopy as a versatile tool for stu...</td>\n",
              "      <td>[{'affiliations': [{'city': 'Cambridge', 'city...</td>\n",
              "      <td>4</td>\n",
              "      <td>article</td>\n",
              "      <td>8</td>\n",
              "      <td>2013</td>\n",
              "      <td>jour.1037429</td>\n",
              "      <td>Nature Nanotechnology</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-ada638f9-6d93-4735-99ab-7c385606992d')\"\n",
              "              title=\"Convert this dataframe to an interactive table.\"\n",
              "              style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "       width=\"24px\">\n",
              "    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n",
              "    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n",
              "  </svg>\n",
              "      </button>\n",
              "\n",
              "\n",
              "\n",
              "    <div id=\"df-fdd158ac-f1c6-4534-8653-b2a76b55c148\">\n",
              "      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-fdd158ac-f1c6-4534-8653-b2a76b55c148')\"\n",
              "              title=\"Suggest charts.\"\n",
              "              style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "      </button>\n",
              "    </div>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "    background-color: #E8F0FE;\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: #1967D2;\n",
              "    height: 32px;\n",
              "    padding: 0 0 0 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: #E2EBFA;\n",
              "    box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: #174EA6;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "    background-color: #3B4455;\n",
              "    fill: #D2E3FC;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart:hover {\n",
              "    background-color: #434B5C;\n",
              "    box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "    filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "    fill: #FFFFFF;\n",
              "  }\n",
              "</style>\n",
              "\n",
              "    <script>\n",
              "      async function quickchart(key) {\n",
              "        const containerElement = document.querySelector('#' + key);\n",
              "        const charts = await google.colab.kernel.invokeFunction(\n",
              "            'suggestCharts', [key], {});\n",
              "      }\n",
              "    </script>\n",
              "\n",
              "      <script>\n",
              "\n",
              "function displayQuickchartButton(domScope) {\n",
              "  let quickchartButtonEl =\n",
              "    domScope.querySelector('#df-fdd158ac-f1c6-4534-8653-b2a76b55c148 button.colab-df-quickchart');\n",
              "  quickchartButtonEl.style.display =\n",
              "    google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "}\n",
              "\n",
              "        displayQuickchartButton(document);\n",
              "      </script>\n",
              "      <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      flex-wrap:wrap;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "      <script>\n",
              "        const buttonEl =\n",
              "          document.querySelector('#df-ada638f9-6d93-4735-99ab-7c385606992d button.colab-df-convert');\n",
              "        buttonEl.style.display =\n",
              "          google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "        async function convertToInteractive(key) {\n",
              "          const element = document.querySelector('#df-ada638f9-6d93-4735-99ab-7c385606992d');\n",
              "          const dataTable =\n",
              "            await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                     [key], {});\n",
              "          if (!dataTable) return;\n",
              "\n",
              "          const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "            + ' to learn more about interactive tables.';\n",
              "          element.innerHTML = '';\n",
              "          dataTable['output_type'] = 'display_data';\n",
              "          await google.colab.output.renderOutput(dataTable, element);\n",
              "          const docLink = document.createElement('div');\n",
              "          docLink.innerHTML = docLinkHtml;\n",
              "          element.appendChild(docLink);\n",
              "        }\n",
              "      </script>\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.module+javascript": "\n      import \"https://ssl.gstatic.com/colaboratory/data_table/881c4a0d49046431/data_table.js\";\n\n      const table = window.createDataTable({\n        data: [[{\n            'v': 0,\n            'f': \"0\",\n        },\n\"pub.1024857999\",\n\"Van der Waals heterostructures\",\n[\"{'affiliations': [{'city': 'Manchester', 'city_id': 2643123, 'country': 'United Kingdom', 'country_code': 'GB', 'id': 'grid.5379.8', 'name': 'University of Manchester', 'raw_affiliation': 'School of Physics and Astronomy, University of Manchester, Manchester M13 9PL, UK', 'state': None, 'state_code': None}, {'city': 'Manchester', 'city_id': 2643123, 'country': 'United Kingdom', 'country_code': 'GB', 'id': 'grid.5379.8', 'name': 'University of Manchester', 'raw_affiliation': 'Centre for Mesoscience and Nanotechnology, University of Manchester, Manchester M13 9PL, UK', 'state': None, 'state_code': None}], 'corresponding': '', 'current_organization_id': 'grid.5379.8', 'first_name': 'A. K.', 'last_name': 'Geim', 'orcid': ['0000-0003-2861-8331'], 'raw_affiliation': ['School of Physics and Astronomy, University of Manchester, Manchester M13 9PL, UK', 'Centre for Mesoscience and Nanotechnology, University of Manchester, Manchester M13 9PL, UK'], 'researcher_id': 'ur.0721730631.45'}\", \"{'affiliations': [{'city': 'Manchester', 'city_id': 2643123, 'country': 'United Kingdom', 'country_code': 'GB', 'id': 'grid.5379.8', 'name': 'University of Manchester', 'raw_affiliation': 'School of Physics and Astronomy, University of Manchester, Manchester M13 9PL, UK', 'state': None, 'state_code': None}], 'corresponding': True, 'current_organization_id': 'grid.5379.8', 'first_name': 'I. V.', 'last_name': 'Grigorieva', 'orcid': ['0000-0001-5991-7778'], 'raw_affiliation': ['School of Physics and Astronomy, University of Manchester, Manchester M13 9PL, UK'], 'researcher_id': 'ur.0767105504.29'}\"],\n\"7459\",\n\"article\",\n\"499\",\n{\n            'v': 2013,\n            'f': \"2013\",\n        },\n\"jour.1018957\",\n\"Nature\"],\n [{\n            'v': 1,\n            'f': \"1\",\n        },\n\"pub.1050119463\",\n\"The chemistry of two-dimensional layered transition metal dichalcogenide nanosheets\",\n[\"{'affiliations': [{'city': 'New Brunswick', 'city_id': 5101717, 'country': 'United States', 'country_code': 'US', 'id': 'grid.430387.b', 'name': 'Rutgers, The State University of New Jersey', 'raw_affiliation': 'Materials Science and Engineering, Rutgers University, 607 Taylor Road, 08854, Piscataway, New Jersey, USA', 'state': 'New Jersey', 'state_code': 'US-NJ'}], 'corresponding': True, 'current_organization_id': 'grid.5335.0', 'first_name': 'Manish', 'last_name': 'Chhowalla', 'orcid': None, 'raw_affiliation': ['Materials Science and Engineering, Rutgers University, 607 Taylor Road, 08854, Piscataway, New Jersey, USA'], 'researcher_id': 'ur.0633062306.03'}\", \"{'affiliations': [{'city': 'Ulsan', 'city_id': 1833747, 'country': 'South Korea', 'country_code': 'KR', 'id': 'grid.42687.3f', 'name': 'Ulsan National Institute of Science and Technology', 'raw_affiliation': 'Interdisciplinary School of Green Energy and Low Dimensional Carbon Materials Center, Ulsan National Institute of Science and Technology (UNIST), UNIST-gil 50, 689-798, Ulsan, Republic of Korea', 'state': None, 'state_code': None}], 'corresponding': '', 'current_organization_id': 'grid.42687.3f', 'first_name': 'Hyeon Suk', 'last_name': 'Shin', 'orcid': None, 'raw_affiliation': ['Interdisciplinary School of Green Energy and Low Dimensional Carbon Materials Center, Ulsan National Institute of Science and Technology (UNIST), UNIST-gil 50, 689-798, Ulsan, Republic of Korea'], 'researcher_id': 'ur.07617630407.83'}\", \"{'affiliations': [{'city': 'Singapore', 'city_id': 1880252, 'country': 'Singapore', 'country_code': 'SG', 'id': 'grid.4280.e', 'name': 'National University of Singapore', 'raw_affiliation': 'Department of Physics, National University of Singapore, 117542, Singapore', 'state': None, 'state_code': None}, {'city': 'Singapore', 'city_id': 1880252, 'country': 'Singapore', 'country_code': 'SG', 'id': 'grid.4280.e', 'name': 'National University of Singapore', 'raw_affiliation': 'Department of Chemistry, National University of Singapore, 117543, Singapore', 'state': None, 'state_code': None}, {'city': 'Singapore', 'city_id': 1880252, 'country': 'Singapore', 'country_code': 'SG', 'id': 'grid.4280.e', 'name': 'National University of Singapore', 'raw_affiliation': 'Graphene Research Centre, National University of Singapore, 117546, Singapore', 'state': None, 'state_code': None}], 'corresponding': '', 'current_organization_id': 'grid.4280.e', 'first_name': 'Goki', 'last_name': 'Eda', 'orcid': None, 'raw_affiliation': ['Department of Physics, National University of Singapore, 117542, Singapore', 'Department of Chemistry, National University of Singapore, 117543, Singapore', 'Graphene Research Centre, National University of Singapore, 117546, Singapore'], 'researcher_id': 'ur.01150450507.27'}\", \"{'affiliations': [{'city': 'Taipei', 'city_id': 1668341, 'country': 'Taiwan', 'country_code': 'TW', 'id': 'grid.28665.3f', 'name': 'Academia Sinica', 'raw_affiliation': 'Institute of Atomic and Molecular Sciences, Academia Sinica, 10617, Taipei, Taiwan', 'state': None, 'state_code': None}], 'corresponding': '', 'current_organization_id': 'grid.194645.b', 'first_name': 'Lain-Jong', 'last_name': 'Li', 'orcid': ['0000-0002-4059-7783'], 'raw_affiliation': ['Institute of Atomic and Molecular Sciences, Academia Sinica, 10617, Taipei, Taiwan'], 'researcher_id': 'ur.01313340113.13'}\", \"{'affiliations': [{'city': 'Singapore', 'city_id': 1880252, 'country': 'Singapore', 'country_code': 'SG', 'id': 'grid.4280.e', 'name': 'National University of Singapore', 'raw_affiliation': 'Department of Chemistry, National University of Singapore, 117543, Singapore', 'state': None, 'state_code': None}, {'city': 'Singapore', 'city_id': 1880252, 'country': 'Singapore', 'country_code': 'SG', 'id': 'grid.4280.e', 'name': 'National University of Singapore', 'raw_affiliation': 'Graphene Research Centre, National University of Singapore, 117546, Singapore', 'state': None, 'state_code': None}], 'corresponding': '', 'current_organization_id': 'grid.4280.e', 'first_name': 'Kian Ping', 'last_name': 'Loh', 'orcid': ['0000-0002-1491-743X'], 'raw_affiliation': ['Department of Chemistry, National University of Singapore, 117543, Singapore', 'Graphene Research Centre, National University of Singapore, 117546, Singapore'], 'researcher_id': 'ur.0752174033.73'}\", \"{'affiliations': [{'city': 'Singapore', 'city_id': 1880252, 'country': 'Singapore', 'country_code': 'SG', 'id': 'grid.59025.3b', 'name': 'Nanyang Technological University', 'raw_affiliation': 'School of Materials Science and Engineering, Nanyang Technological University, 50 Nanyang Avenue, 639798, Singapore', 'state': None, 'state_code': None}], 'corresponding': '', 'current_organization_id': 'grid.35030.35', 'first_name': 'Hua', 'last_name': 'Zhang', 'orcid': ['0000-0001-9518-740X'], 'raw_affiliation': ['School of Materials Science and Engineering, Nanyang Technological University, 50 Nanyang Avenue, 639798, Singapore'], 'researcher_id': 'ur.011033346565.45'}\"],\n\"4\",\n\"article\",\n\"5\",\n{\n            'v': 2013,\n            'f': \"2013\",\n        },\n\"jour.1041224\",\n\"Nature Chemistry\"],\n [{\n            'v': 2,\n            'f': \"2\",\n        },\n\"pub.1007330696\",\n\"Combining theory and experiment in electrocatalysis: Insights into materials design\",\n[\"{'affiliations': [{'city': 'Stanford', 'city_id': 5398563, 'country': 'United States', 'country_code': 'US', 'id': 'grid.168010.e', 'name': 'Stanford University', 'raw_affiliation': 'SUNCAT Center for Interface Science and Catalysis, Department of Chemical Engineering, Stanford University, Stanford, CA 94305, USA.', 'state': 'California', 'state_code': 'US-CA'}, {'city': 'Menlo Park', 'city_id': 5372223, 'country': 'United States', 'country_code': 'US', 'id': 'grid.445003.6', 'name': 'SLAC National Accelerator Laboratory', 'raw_affiliation': 'SUNCAT Center for Interface Science and Catalysis, SLAC National Accelerator Laboratory, Menlo Park, CA 94025, USA.', 'state': 'California', 'state_code': 'US-CA'}, {'city': 'Singapore', 'city_id': 1880252, 'country': 'Singapore', 'country_code': 'SG', 'id': 'grid.418788.a', 'name': 'Institute of Materials Research and Engineering', 'raw_affiliation': 'Institute of Materials Research and Engineering, Agency for Science, Technology and Research (A*STAR), Innovis, 138634 Singapore.', 'state': None, 'state_code': None}], 'corresponding': '', 'current_organization_id': 'grid.418788.a', 'first_name': 'Zhi Wei', 'last_name': 'Seh', 'orcid': ['0000-0003-0953-567X'], 'raw_affiliation': ['SUNCAT Center for Interface Science and Catalysis, Department of Chemical Engineering, Stanford University, Stanford, CA 94305, USA.', 'SUNCAT Center for Interface Science and Catalysis, SLAC National Accelerator Laboratory, Menlo Park, CA 94025, USA.', 'Institute of Materials Research and Engineering, Agency for Science, Technology and Research (A*STAR), Innovis, 138634 Singapore.'], 'researcher_id': 'ur.0651204403.99'}\", \"{'affiliations': [{'city': 'Stanford', 'city_id': 5398563, 'country': 'United States', 'country_code': 'US', 'id': 'grid.168010.e', 'name': 'Stanford University', 'raw_affiliation': 'SUNCAT Center for Interface Science and Catalysis, Department of Chemical Engineering, Stanford University, Stanford, CA 94305, USA.', 'state': 'California', 'state_code': 'US-CA'}, {'city': 'Menlo Park', 'city_id': 5372223, 'country': 'United States', 'country_code': 'US', 'id': 'grid.445003.6', 'name': 'SLAC National Accelerator Laboratory', 'raw_affiliation': 'SUNCAT Center for Interface Science and Catalysis, SLAC National Accelerator Laboratory, Menlo Park, CA 94025, USA.', 'state': 'California', 'state_code': 'US-CA'}, {'city': 'Kongens Lyngby', 'city_id': 2618468, 'country': 'Denmark', 'country_code': 'DK', 'id': 'grid.5170.3', 'name': 'Technical University of Denmark', 'raw_affiliation': 'Department of Physics, Technical University of Denmark, DK-2800 Kongens Lyngby, Denmark.', 'state': None, 'state_code': None}], 'corresponding': '', 'current_organization_id': 'grid.5170.3', 'first_name': 'Jakob', 'last_name': 'Kibsgaard', 'orcid': ['0000-0002-9219-816X'], 'raw_affiliation': ['SUNCAT Center for Interface Science and Catalysis, Department of Chemical Engineering, Stanford University, Stanford, CA 94305, USA.', 'SUNCAT Center for Interface Science and Catalysis, SLAC National Accelerator Laboratory, Menlo Park, CA 94025, USA.', 'Department of Physics, Technical University of Denmark, DK-2800 Kongens Lyngby, Denmark.'], 'researcher_id': 'ur.01011655111.53'}\", \"{'affiliations': [{'city': 'Stanford', 'city_id': 5398563, 'country': 'United States', 'country_code': 'US', 'id': 'grid.168010.e', 'name': 'Stanford University', 'raw_affiliation': 'SUNCAT Center for Interface Science and Catalysis, Department of Chemical Engineering, Stanford University, Stanford, CA 94305, USA.', 'state': 'California', 'state_code': 'US-CA'}, {'city': 'Menlo Park', 'city_id': 5372223, 'country': 'United States', 'country_code': 'US', 'id': 'grid.445003.6', 'name': 'SLAC National Accelerator Laboratory', 'raw_affiliation': 'SUNCAT Center for Interface Science and Catalysis, SLAC National Accelerator Laboratory, Menlo Park, CA 94025, USA.', 'state': 'California', 'state_code': 'US-CA'}], 'corresponding': '', 'current_organization_id': 'grid.168010.e', 'first_name': 'Colin F', 'last_name': 'Dickens', 'orcid': None, 'raw_affiliation': ['SUNCAT Center for Interface Science and Catalysis, Department of Chemical Engineering, Stanford University, Stanford, CA 94305, USA.', 'SUNCAT Center for Interface Science and Catalysis, SLAC National Accelerator Laboratory, Menlo Park, CA 94025, USA.'], 'researcher_id': 'ur.011636512421.12'}\", \"{'affiliations': [{'city': 'Kongens Lyngby', 'city_id': 2618468, 'country': 'Denmark', 'country_code': 'DK', 'id': 'grid.5170.3', 'name': 'Technical University of Denmark', 'raw_affiliation': 'Department of Physics, Technical University of Denmark, DK-2800 Kongens Lyngby, Denmark.', 'state': None, 'state_code': None}], 'corresponding': '', 'current_organization_id': 'grid.5170.3', 'first_name': 'Ib', 'last_name': 'Chorkendorff', 'orcid': ['0000-0003-2738-0325'], 'raw_affiliation': ['Department of Physics, Technical University of Denmark, DK-2800 Kongens Lyngby, Denmark.'], 'researcher_id': 'ur.01227156323.23'}\", \"{'affiliations': [{'city': 'Stanford', 'city_id': 5398563, 'country': 'United States', 'country_code': 'US', 'id': 'grid.168010.e', 'name': 'Stanford University', 'raw_affiliation': 'SUNCAT Center for Interface Science and Catalysis, Department of Chemical Engineering, Stanford University, Stanford, CA 94305, USA.', 'state': 'California', 'state_code': 'US-CA'}, {'city': 'Menlo Park', 'city_id': 5372223, 'country': 'United States', 'country_code': 'US', 'id': 'grid.445003.6', 'name': 'SLAC National Accelerator Laboratory', 'raw_affiliation': 'SUNCAT Center for Interface Science and Catalysis, SLAC National Accelerator Laboratory, Menlo Park, CA 94025, USA.', 'state': 'California', 'state_code': 'US-CA'}], 'corresponding': '', 'current_organization_id': 'grid.5170.3', 'first_name': 'Jens K', 'last_name': 'N\\u00f8rskov', 'orcid': ['0000-0002-4427-7728'], 'raw_affiliation': ['SUNCAT Center for Interface Science and Catalysis, Department of Chemical Engineering, Stanford University, Stanford, CA 94305, USA.', 'SUNCAT Center for Interface Science and Catalysis, SLAC National Accelerator Laboratory, Menlo Park, CA 94025, USA.'], 'researcher_id': 'ur.01215263003.24'}\", \"{'affiliations': [{'city': 'Stanford', 'city_id': 5398563, 'country': 'United States', 'country_code': 'US', 'id': 'grid.168010.e', 'name': 'Stanford University', 'raw_affiliation': 'SUNCAT Center for Interface Science and Catalysis, Department of Chemical Engineering, Stanford University, Stanford, CA 94305, USA. jaramillo@stanford.edu.', 'state': 'California', 'state_code': 'US-CA'}, {'city': 'Menlo Park', 'city_id': 5372223, 'country': 'United States', 'country_code': 'US', 'id': 'grid.445003.6', 'name': 'SLAC National Accelerator Laboratory', 'raw_affiliation': 'SUNCAT Center for Interface Science and Catalysis, SLAC National Accelerator Laboratory, Menlo Park, CA 94025, USA.', 'state': 'California', 'state_code': 'US-CA'}], 'corresponding': '', 'current_organization_id': 'grid.168010.e', 'first_name': 'Thomas F', 'last_name': 'Jaramillo', 'orcid': ['0000-0001-9900-0622'], 'raw_affiliation': ['SUNCAT Center for Interface Science and Catalysis, Department of Chemical Engineering, Stanford University, Stanford, CA 94305, USA. jaramillo@stanford.edu.', 'SUNCAT Center for Interface Science and Catalysis, SLAC National Accelerator Laboratory, Menlo Park, CA 94025, USA.'], 'researcher_id': 'ur.01147147603.35'}\"],\n\"6321\",\n\"article\",\n\"355\",\n{\n            'v': 2017,\n            'f': \"2017\",\n        },\n\"jour.1346339\",\n\"Science\"],\n [{\n            'v': 3,\n            'f': \"3\",\n        },\n\"pub.1019126274\",\n\"The Li-Ion Rechargeable Battery: A Perspective\",\n[\"{'affiliations': [{'city': 'Austin', 'city_id': 4671654, 'country': 'United States', 'country_code': 'US', 'id': 'grid.89336.37', 'name': 'The University of Texas at Austin', 'raw_affiliation': 'Texas Materials Institute and Materials Science and Engineering Program, The University of Texas at Austin, Austin, Texas 78712, United States', 'state': 'Texas', 'state_code': 'US-TX'}], 'corresponding': True, 'current_organization_id': 'grid.89336.37', 'first_name': 'John B.', 'last_name': 'Goodenough', 'orcid': ['0000-0001-9350-3034'], 'raw_affiliation': ['Texas Materials Institute and Materials Science and Engineering Program, The University of Texas at Austin, Austin, Texas 78712, United States'], 'researcher_id': 'ur.01130703051.97'}\", \"{'affiliations': [{'city': 'Austin', 'city_id': 4671654, 'country': 'United States', 'country_code': 'US', 'id': 'grid.89336.37', 'name': 'The University of Texas at Austin', 'raw_affiliation': 'Texas Materials Institute and Materials Science and Engineering Program, The University of Texas at Austin, Austin, Texas 78712, United States', 'state': 'Texas', 'state_code': 'US-TX'}], 'corresponding': '', 'current_organization_id': 'grid.419357.d', 'first_name': 'Kyu-Sung', 'last_name': 'Park', 'orcid': ['0000-0003-4498-9933'], 'raw_affiliation': ['Texas Materials Institute and Materials Science and Engineering Program, The University of Texas at Austin, Austin, Texas 78712, United States'], 'researcher_id': 'ur.01202232420.01'}\"],\n\"4\",\n\"article\",\n\"135\",\n{\n            'v': 2013,\n            'f': \"2013\",\n        },\n\"jour.1081898\",\n\"Journal of the American Chemical Society\"],\n [{\n            'v': 4,\n            'f': \"4\",\n        },\n\"pub.1032956475\",\n\"Black phosphorus field-effect transistors\",\n[\"{'affiliations': [{'city': 'Shanghai', 'city_id': 1796236, 'country': 'China', 'country_code': 'CN', 'id': 'grid.8547.e', 'name': 'Fudan University', 'raw_affiliation': 'State Key Laboratory of Surface Physics and Department of Physics, Fudan University, 200433, Shanghai, China', 'state': None, 'state_code': None}], 'corresponding': '', 'current_organization_id': 'grid.8547.e', 'first_name': 'Likai', 'last_name': 'Li', 'orcid': None, 'raw_affiliation': ['State Key Laboratory of Surface Physics and Department of Physics, Fudan University, 200433, Shanghai, China'], 'researcher_id': 'ur.010776654001.90'}\", \"{'affiliations': [{'city': 'Shanghai', 'city_id': 1796236, 'country': 'China', 'country_code': 'CN', 'id': 'grid.8547.e', 'name': 'Fudan University', 'raw_affiliation': 'State Key Laboratory of Surface Physics and Department of Physics, Fudan University, 200433, Shanghai, China', 'state': None, 'state_code': None}], 'corresponding': '', 'current_organization_id': 'grid.8547.e', 'first_name': 'Yijun', 'last_name': 'Yu', 'orcid': None, 'raw_affiliation': ['State Key Laboratory of Surface Physics and Department of Physics, Fudan University, 200433, Shanghai, China'], 'researcher_id': 'ur.01155565654.71'}\", \"{'affiliations': [{'city': 'Hefei', 'city_id': 1808722, 'country': 'China', 'country_code': 'CN', 'id': 'grid.59053.3a', 'name': 'University of Science and Technology of China', 'raw_affiliation': 'Hefei National Laboratory for Physical Science at Microscale and Department of Physics, University of Science and Technology of China, 230026, Hefei, Anhui, China', 'state': None, 'state_code': None}], 'corresponding': '', 'current_organization_id': 'grid.59053.3a', 'first_name': 'Guo Jun', 'last_name': 'Ye', 'orcid': None, 'raw_affiliation': ['Hefei National Laboratory for Physical Science at Microscale and Department of Physics, University of Science and Technology of China, 230026, Hefei, Anhui, China'], 'researcher_id': 'ur.0751734455.94'}\", \"{'affiliations': [{'city': 'Shanghai', 'city_id': 1796236, 'country': 'China', 'country_code': 'CN', 'id': 'grid.8547.e', 'name': 'Fudan University', 'raw_affiliation': 'State Key Laboratory of Surface Physics and Department of Physics, Fudan University, 200433, Shanghai, China', 'state': None, 'state_code': None}], 'corresponding': '', 'current_organization_id': 'grid.8547.e', 'first_name': 'Qingqin', 'last_name': 'Ge', 'orcid': None, 'raw_affiliation': ['State Key Laboratory of Surface Physics and Department of Physics, Fudan University, 200433, Shanghai, China'], 'researcher_id': 'ur.0733713310.20'}\", \"{'affiliations': [{'city': 'Shanghai', 'city_id': 1796236, 'country': 'China', 'country_code': 'CN', 'id': 'grid.8547.e', 'name': 'Fudan University', 'raw_affiliation': 'State Key Laboratory of Surface Physics and Department of Physics, Fudan University, 200433, Shanghai, China', 'state': None, 'state_code': None}], 'corresponding': '', 'current_organization_id': 'grid.464215.0', 'first_name': 'Xuedong', 'last_name': 'Ou', 'orcid': None, 'raw_affiliation': ['State Key Laboratory of Surface Physics and Department of Physics, Fudan University, 200433, Shanghai, China'], 'researcher_id': 'ur.01053235174.45'}\", \"{'affiliations': [{'city': 'Shanghai', 'city_id': 1796236, 'country': 'China', 'country_code': 'CN', 'id': 'grid.8547.e', 'name': 'Fudan University', 'raw_affiliation': 'State Key Laboratory of Surface Physics and Department of Physics, Fudan University, 200433, Shanghai, China', 'state': None, 'state_code': None}], 'corresponding': '', 'current_organization_id': 'grid.8547.e', 'first_name': 'Hua', 'last_name': 'Wu', 'orcid': ['0000-0003-1280-202X'], 'raw_affiliation': ['State Key Laboratory of Surface Physics and Department of Physics, Fudan University, 200433, Shanghai, China'], 'researcher_id': 'ur.01167023566.98'}\", \"{'affiliations': [{'city': 'Shanghai', 'city_id': 1796236, 'country': 'China', 'country_code': 'CN', 'id': 'grid.8547.e', 'name': 'Fudan University', 'raw_affiliation': 'State Key Laboratory of Surface Physics and Department of Physics, Fudan University, 200433, Shanghai, China', 'state': None, 'state_code': None}], 'corresponding': '', 'current_organization_id': 'grid.59053.3a', 'first_name': 'Donglai', 'last_name': 'Feng', 'orcid': None, 'raw_affiliation': ['State Key Laboratory of Surface Physics and Department of Physics, Fudan University, 200433, Shanghai, China'], 'researcher_id': 'ur.01200600261.85'}\", \"{'affiliations': [{'city': 'Hefei', 'city_id': 1808722, 'country': 'China', 'country_code': 'CN', 'id': 'grid.59053.3a', 'name': 'University of Science and Technology of China', 'raw_affiliation': 'Hefei National Laboratory for Physical Science at Microscale and Department of Physics, University of Science and Technology of China, 230026, Hefei, Anhui, China', 'state': None, 'state_code': None}], 'corresponding': True, 'current_organization_id': 'grid.59053.3a', 'first_name': 'Xian Hui', 'last_name': 'Chen', 'orcid': None, 'raw_affiliation': ['Hefei National Laboratory for Physical Science at Microscale and Department of Physics, University of Science and Technology of China, 230026, Hefei, Anhui, China'], 'researcher_id': 'ur.0730751754.05'}\", \"{'affiliations': [{'city': 'Shanghai', 'city_id': 1796236, 'country': 'China', 'country_code': 'CN', 'id': 'grid.8547.e', 'name': 'Fudan University', 'raw_affiliation': 'State Key Laboratory of Surface Physics and Department of Physics, Fudan University, 200433, Shanghai, China', 'state': None, 'state_code': None}], 'corresponding': True, 'current_organization_id': 'grid.8547.e', 'first_name': 'Yuanbo', 'last_name': 'Zhang', 'orcid': ['0000-0003-1290-7980'], 'raw_affiliation': ['State Key Laboratory of Surface Physics and Department of Physics, Fudan University, 200433, Shanghai, China'], 'researcher_id': 'ur.0657076451.24'}\"],\n\"5\",\n\"article\",\n\"9\",\n{\n            'v': 2014,\n            'f': \"2014\",\n        },\n\"jour.1037429\",\n\"Nature Nanotechnology\"],\n [{\n            'v': 5,\n            'f': \"5\",\n        },\n\"pub.1036410643\",\n\"Review of Particle Physics\",\n[\"{'affiliations': [], 'corresponding': '', 'current_organization_id': 'grid.17635.36', 'first_name': 'K.A.', 'last_name': 'Olive', 'orcid': ['0000-0001-7201-5998'], 'raw_affiliation': [], 'researcher_id': 'ur.011566342215.08'}\"],\n\"9\",\n\"article\",\n\"38\",\n{\n            'v': 2014,\n            'f': \"2014\",\n        },\n\"jour.1327822\",\n\"Chinese Physics C\"],\n [{\n            'v': 6,\n            'f': \"6\",\n        },\n\"pub.1055085164\",\n\"Aggregation-Induced Emission: Together We Shine, United We Soar!\",\n[\"{'affiliations': [{'city': 'Shenzhen', 'city_id': 1795565, 'country': 'China', 'country_code': 'CN', 'id': 'grid.495521.e', 'name': 'HKUST Shenzhen Research Institute', 'raw_affiliation': 'HKUST-Shenzhen Research Institute, Hi-Tech Park, Nanshan, Shenzhen, 518057, China', 'state': None, 'state_code': None}, {'city': 'Hong Kong', 'city_id': 1819729, 'country': 'China', 'country_code': 'CN', 'id': 'grid.509507.e', 'name': 'Institute of Molecular Functional Materials', 'raw_affiliation': 'Department of Chemistry, HKUST Jockey Club Institute for Advanced Study, Institute of Molecular Functional Materials, Division of Biomedical Engineering, State Key Laboratory of Molecular Neuroscience, Division of Life Science, The Hong Kong University of Science and Technology, Clear Water Bay, Kowloon, Hong Kong, China', 'state': None, 'state_code': None}], 'corresponding': '', 'current_organization_id': 'grid.28056.39', 'first_name': 'Ju', 'last_name': 'Mei', 'orcid': ['0000-0001-9992-8877'], 'raw_affiliation': ['HKUST-Shenzhen Research Institute, Hi-Tech Park, Nanshan, Shenzhen, 518057, China', 'Department of Chemistry, HKUST Jockey Club Institute for Advanced Study, Institute of Molecular Functional Materials, Division of Biomedical Engineering, State Key Laboratory of Molecular Neuroscience, Division of Life Science, The Hong Kong University of Science and Technology, Clear Water Bay, Kowloon, Hong Kong, China'], 'researcher_id': 'ur.01312012343.54'}\", \"{'affiliations': [{'city': 'Shenzhen', 'city_id': 1795565, 'country': 'China', 'country_code': 'CN', 'id': 'grid.495521.e', 'name': 'HKUST Shenzhen Research Institute', 'raw_affiliation': 'HKUST-Shenzhen Research Institute, Hi-Tech Park, Nanshan, Shenzhen, 518057, China', 'state': None, 'state_code': None}, {'city': 'Hong Kong', 'city_id': 1819729, 'country': 'China', 'country_code': 'CN', 'id': 'grid.509507.e', 'name': 'Institute of Molecular Functional Materials', 'raw_affiliation': 'Department of Chemistry, HKUST Jockey Club Institute for Advanced Study, Institute of Molecular Functional Materials, Division of Biomedical Engineering, State Key Laboratory of Molecular Neuroscience, Division of Life Science, The Hong Kong University of Science and Technology, Clear Water Bay, Kowloon, Hong Kong, China', 'state': None, 'state_code': None}], 'corresponding': '', 'current_organization_id': 'grid.24515.37', 'first_name': 'Nelson L. C.', 'last_name': 'Leung', 'orcid': ['0000-0003-3949-9622'], 'raw_affiliation': ['HKUST-Shenzhen Research Institute, Hi-Tech Park, Nanshan, Shenzhen, 518057, China', 'Department of Chemistry, HKUST Jockey Club Institute for Advanced Study, Institute of Molecular Functional Materials, Division of Biomedical Engineering, State Key Laboratory of Molecular Neuroscience, Division of Life Science, The Hong Kong University of Science and Technology, Clear Water Bay, Kowloon, Hong Kong, China'], 'researcher_id': 'ur.01031572732.28'}\", \"{'affiliations': [{'city': 'Shenzhen', 'city_id': 1795565, 'country': 'China', 'country_code': 'CN', 'id': 'grid.495521.e', 'name': 'HKUST Shenzhen Research Institute', 'raw_affiliation': 'HKUST-Shenzhen Research Institute, Hi-Tech Park, Nanshan, Shenzhen, 518057, China', 'state': None, 'state_code': None}, {'city': 'Hong Kong', 'city_id': 1819729, 'country': 'China', 'country_code': 'CN', 'id': 'grid.509507.e', 'name': 'Institute of Molecular Functional Materials', 'raw_affiliation': 'Department of Chemistry, HKUST Jockey Club Institute for Advanced Study, Institute of Molecular Functional Materials, Division of Biomedical Engineering, State Key Laboratory of Molecular Neuroscience, Division of Life Science, The Hong Kong University of Science and Technology, Clear Water Bay, Kowloon, Hong Kong, China', 'state': None, 'state_code': None}], 'corresponding': '', 'current_organization_id': 'grid.24515.37', 'first_name': 'Ryan T. K.', 'last_name': 'Kwok', 'orcid': None, 'raw_affiliation': ['HKUST-Shenzhen Research Institute, Hi-Tech Park, Nanshan, Shenzhen, 518057, China', 'Department of Chemistry, HKUST Jockey Club Institute for Advanced Study, Institute of Molecular Functional Materials, Division of Biomedical Engineering, State Key Laboratory of Molecular Neuroscience, Division of Life Science, The Hong Kong University of Science and Technology, Clear Water Bay, Kowloon, Hong Kong, China'], 'researcher_id': 'ur.01307550713.01'}\", \"{'affiliations': [{'city': 'Shenzhen', 'city_id': 1795565, 'country': 'China', 'country_code': 'CN', 'id': 'grid.495521.e', 'name': 'HKUST Shenzhen Research Institute', 'raw_affiliation': 'HKUST-Shenzhen Research Institute, Hi-Tech Park, Nanshan, Shenzhen, 518057, China', 'state': None, 'state_code': None}, {'city': 'Hong Kong', 'city_id': 1819729, 'country': 'China', 'country_code': 'CN', 'id': 'grid.509507.e', 'name': 'Institute of Molecular Functional Materials', 'raw_affiliation': 'Department of Chemistry, HKUST Jockey Club Institute for Advanced Study, Institute of Molecular Functional Materials, Division of Biomedical Engineering, State Key Laboratory of Molecular Neuroscience, Division of Life Science, The Hong Kong University of Science and Technology, Clear Water Bay, Kowloon, Hong Kong, China', 'state': None, 'state_code': None}], 'corresponding': '', 'current_organization_id': 'grid.24515.37', 'first_name': 'Jacky W. Y.', 'last_name': 'Lam', 'orcid': ['0000-0001-5754-1703'], 'raw_affiliation': ['HKUST-Shenzhen Research Institute, Hi-Tech Park, Nanshan, Shenzhen, 518057, China', 'Department of Chemistry, HKUST Jockey Club Institute for Advanced Study, Institute of Molecular Functional Materials, Division of Biomedical Engineering, State Key Laboratory of Molecular Neuroscience, Division of Life Science, The Hong Kong University of Science and Technology, Clear Water Bay, Kowloon, Hong Kong, China'], 'researcher_id': 'ur.012571132422.71'}\", \"{'affiliations': [{'city': 'Shenzhen', 'city_id': 1795565, 'country': 'China', 'country_code': 'CN', 'id': 'grid.495521.e', 'name': 'HKUST Shenzhen Research Institute', 'raw_affiliation': 'HKUST-Shenzhen Research Institute, Hi-Tech Park, Nanshan, Shenzhen, 518057, China', 'state': None, 'state_code': None}, {'city': 'Hong Kong', 'city_id': 1819729, 'country': 'China', 'country_code': 'CN', 'id': 'grid.509507.e', 'name': 'Institute of Molecular Functional Materials', 'raw_affiliation': 'Department of Chemistry, HKUST Jockey Club Institute for Advanced Study, Institute of Molecular Functional Materials, Division of Biomedical Engineering, State Key Laboratory of Molecular Neuroscience, Division of Life Science, The Hong Kong University of Science and Technology, Clear Water Bay, Kowloon, Hong Kong, China', 'state': None, 'state_code': None}, {'city': 'Guangzhou', 'city_id': 1809858, 'country': 'China', 'country_code': 'CN', 'id': 'grid.79703.3a', 'name': 'South China University of Technology', 'raw_affiliation': 'Guangdong Innovative Research Team, SCUT-HKUST Joint Research Laboratory, State Key Laboratory of Luminescent Materials and Devices, South China University of Technology, Guangzhou, 510640, China', 'state': None, 'state_code': None}], 'corresponding': True, 'current_organization_id': 'grid.10784.3a', 'first_name': 'Ben Zhong', 'last_name': 'Tang', 'orcid': ['0000-0002-0293-964X'], 'raw_affiliation': ['HKUST-Shenzhen Research Institute, Hi-Tech Park, Nanshan, Shenzhen, 518057, China', 'Department of Chemistry, HKUST Jockey Club Institute for Advanced Study, Institute of Molecular Functional Materials, Division of Biomedical Engineering, State Key Laboratory of Molecular Neuroscience, Division of Life Science, The Hong Kong University of Science and Technology, Clear Water Bay, Kowloon, Hong Kong, China', 'Guangdong Innovative Research Team, SCUT-HKUST Joint Research Laboratory, State Key Laboratory of Luminescent Materials and Devices, South China University of Technology, Guangzhou, 510640, China'], 'researcher_id': 'ur.016662232257.26'}\"],\n\"21\",\n\"article\",\n\"115\",\n{\n            'v': 2015,\n            'f': \"2015\",\n        },\n\"jour.1077147\",\n\"Chemical Reviews\"],\n [{\n            'v': 7,\n            'f': \"7\",\n        },\n\"pub.1004394295\",\n\"Interface engineering of highly efficient perovskite solar cells\",\n[\"{'affiliations': [{'city': 'Los Angeles', 'city_id': 5368361, 'country': 'United States', 'country_code': 'US', 'id': 'grid.19006.3e', 'name': 'University of California, Los Angeles', 'raw_affiliation': 'Department of Materials Science and Engineering, University of California, Los Angeles, CA 90095, USA. California NanoSystems Institute, University of California, Los Angeles, CA 90095, USA.', 'state': 'California', 'state_code': 'US-CA'}], 'corresponding': '', 'current_organization_id': 'grid.11135.37', 'first_name': 'Huanping', 'last_name': 'Zhou', 'orcid': ['0000-0002-0070-5540'], 'raw_affiliation': ['Department of Materials Science and Engineering, University of California, Los Angeles, CA 90095, USA. California NanoSystems Institute, University of California, Los Angeles, CA 90095, USA.'], 'researcher_id': 'ur.01013130372.89'}\", \"{'affiliations': [{'city': 'Los Angeles', 'city_id': 5368361, 'country': 'United States', 'country_code': 'US', 'id': 'grid.19006.3e', 'name': 'University of California, Los Angeles', 'raw_affiliation': 'Department of Materials Science and Engineering, University of California, Los Angeles, CA 90095, USA. California NanoSystems Institute, University of California, Los Angeles, CA 90095, USA.', 'state': 'California', 'state_code': 'US-CA'}], 'corresponding': '', 'current_organization_id': 'grid.43555.32', 'first_name': 'Qi', 'last_name': 'Chen', 'orcid': ['0000-0002-9647-5873'], 'raw_affiliation': ['Department of Materials Science and Engineering, University of California, Los Angeles, CA 90095, USA. California NanoSystems Institute, University of California, Los Angeles, CA 90095, USA.'], 'researcher_id': 'ur.010161522643.06'}\", \"{'affiliations': [{'city': 'Los Angeles', 'city_id': 5368361, 'country': 'United States', 'country_code': 'US', 'id': 'grid.19006.3e', 'name': 'University of California, Los Angeles', 'raw_affiliation': 'Department of Materials Science and Engineering, University of California, Los Angeles, CA 90095, USA.', 'state': 'California', 'state_code': 'US-CA'}], 'corresponding': '', 'current_organization_id': 'grid.16890.36', 'first_name': 'Gang', 'last_name': 'Li', 'orcid': ['0000-0001-8399-7771'], 'raw_affiliation': ['Department of Materials Science and Engineering, University of California, Los Angeles, CA 90095, USA.'], 'researcher_id': 'ur.01052465263.42'}\", \"{'affiliations': [{'city': 'Los Angeles', 'city_id': 5368361, 'country': 'United States', 'country_code': 'US', 'id': 'grid.19006.3e', 'name': 'University of California, Los Angeles', 'raw_affiliation': 'Department of Materials Science and Engineering, University of California, Los Angeles, CA 90095, USA. California NanoSystems Institute, University of California, Los Angeles, CA 90095, USA.', 'state': 'California', 'state_code': 'US-CA'}], 'corresponding': '', 'current_organization_id': 'grid.19006.3e', 'first_name': 'Song', 'last_name': 'Luo', 'orcid': None, 'raw_affiliation': ['Department of Materials Science and Engineering, University of California, Los Angeles, CA 90095, USA. California NanoSystems Institute, University of California, Los Angeles, CA 90095, USA.'], 'researcher_id': 'ur.01366127502.22'}\", \"{'affiliations': [{'city': 'Los Angeles', 'city_id': 5368361, 'country': 'United States', 'country_code': 'US', 'id': 'grid.19006.3e', 'name': 'University of California, Los Angeles', 'raw_affiliation': 'Department of Materials Science and Engineering, University of California, Los Angeles, CA 90095, USA. California NanoSystems Institute, University of California, Los Angeles, CA 90095, USA.', 'state': 'California', 'state_code': 'US-CA'}], 'corresponding': '', 'current_organization_id': '', 'first_name': 'Tze-bing', 'last_name': 'Song', 'orcid': [], 'raw_affiliation': ['Department of Materials Science and Engineering, University of California, Los Angeles, CA 90095, USA. California NanoSystems Institute, University of California, Los Angeles, CA 90095, USA.'], 'researcher_id': None}\", \"{'affiliations': [{'city': 'Los Angeles', 'city_id': 5368361, 'country': 'United States', 'country_code': 'US', 'id': 'grid.19006.3e', 'name': 'University of California, Los Angeles', 'raw_affiliation': 'Department of Materials Science and Engineering, University of California, Los Angeles, CA 90095, USA. California NanoSystems Institute, University of California, Los Angeles, CA 90095, USA.', 'state': 'California', 'state_code': 'US-CA'}], 'corresponding': '', 'current_organization_id': 'grid.26009.3d', 'first_name': 'Hsin-Sheng', 'last_name': 'Duan', 'orcid': None, 'raw_affiliation': ['Department of Materials Science and Engineering, University of California, Los Angeles, CA 90095, USA. California NanoSystems Institute, University of California, Los Angeles, CA 90095, USA.'], 'researcher_id': 'ur.0614157414.05'}\", \"{'affiliations': [{'city': 'Los Angeles', 'city_id': 5368361, 'country': 'United States', 'country_code': 'US', 'id': 'grid.19006.3e', 'name': 'University of California, Los Angeles', 'raw_affiliation': 'Department of Materials Science and Engineering, University of California, Los Angeles, CA 90095, USA.', 'state': 'California', 'state_code': 'US-CA'}], 'corresponding': '', 'current_organization_id': 'grid.19006.3e', 'first_name': 'Ziruo', 'last_name': 'Hong', 'orcid': None, 'raw_affiliation': ['Department of Materials Science and Engineering, University of California, Los Angeles, CA 90095, USA.'], 'researcher_id': 'ur.01054477310.38'}\", \"{'affiliations': [{'city': 'Los Angeles', 'city_id': 5368361, 'country': 'United States', 'country_code': 'US', 'id': 'grid.19006.3e', 'name': 'University of California, Los Angeles', 'raw_affiliation': 'Department of Materials Science and Engineering, University of California, Los Angeles, CA 90095, USA.', 'state': 'California', 'state_code': 'US-CA'}], 'corresponding': '', 'current_organization_id': 'grid.454865.e', 'first_name': 'Jingbi', 'last_name': 'You', 'orcid': ['0000-0002-4651-9081'], 'raw_affiliation': ['Department of Materials Science and Engineering, University of California, Los Angeles, CA 90095, USA.'], 'researcher_id': 'ur.01177225535.12'}\", \"{'affiliations': [{'city': 'Los Angeles', 'city_id': 5368361, 'country': 'United States', 'country_code': 'US', 'id': 'grid.19006.3e', 'name': 'University of California, Los Angeles', 'raw_affiliation': 'Department of Materials Science and Engineering, University of California, Los Angeles, CA 90095, USA. California NanoSystems Institute, University of California, Los Angeles, CA 90095, USA.', 'state': 'California', 'state_code': 'US-CA'}], 'corresponding': '', 'current_organization_id': 'grid.216938.7', 'first_name': 'Yongsheng', 'last_name': 'Liu', 'orcid': ['0000-0002-7135-723X'], 'raw_affiliation': ['Department of Materials Science and Engineering, University of California, Los Angeles, CA 90095, USA. California NanoSystems Institute, University of California, Los Angeles, CA 90095, USA.'], 'researcher_id': 'ur.013575627163.93'}\", \"{'affiliations': [{'city': 'Los Angeles', 'city_id': 5368361, 'country': 'United States', 'country_code': 'US', 'id': 'grid.19006.3e', 'name': 'University of California, Los Angeles', 'raw_affiliation': 'Department of Materials Science and Engineering, University of California, Los Angeles, CA 90095, USA. California NanoSystems Institute, University of California, Los Angeles, CA 90095, USA. yangy@ucla.edu.', 'state': 'California', 'state_code': 'US-CA'}], 'corresponding': '', 'current_organization_id': 'grid.19006.3e', 'first_name': 'Yang', 'last_name': 'Yang', 'orcid': ['0000-0002-4956-2034'], 'raw_affiliation': ['Department of Materials Science and Engineering, University of California, Los Angeles, CA 90095, USA. California NanoSystems Institute, University of California, Los Angeles, CA 90095, USA. yangy@ucla.edu.'], 'researcher_id': 'ur.012670221134.66'}\"],\n\"6196\",\n\"article\",\n\"345\",\n{\n            'v': 2014,\n            'f': \"2014\",\n        },\n\"jour.1346339\",\n\"Science\"],\n [{\n            'v': 8,\n            'f': \"8\",\n        },\n\"pub.1045181228\",\n\"The emergence of perovskite solar cells\",\n[\"{'affiliations': [{'city': 'Sydney', 'city_id': 2147714, 'country': 'Australia', 'country_code': 'AU', 'id': 'grid.1005.4', 'name': 'UNSW Sydney', 'raw_affiliation': 'Australian Centre for Advanced Photovoltaics (ACAP), School of Photovoltaic and Renewable Energy Engineering, University of New South Wales, 2052, Sydney, Australia', 'state': 'New South Wales', 'state_code': 'AU-NSW'}], 'corresponding': True, 'current_organization_id': 'grid.1005.4', 'first_name': 'Martin A.', 'last_name': 'Green', 'orcid': ['0000-0002-8860-396X'], 'raw_affiliation': ['Australian Centre for Advanced Photovoltaics (ACAP), School of Photovoltaic and Renewable Energy Engineering, University of New South Wales, 2052, Sydney, Australia'], 'researcher_id': 'ur.01162705325.52'}\", \"{'affiliations': [{'city': 'Sydney', 'city_id': 2147714, 'country': 'Australia', 'country_code': 'AU', 'id': 'grid.1005.4', 'name': 'UNSW Sydney', 'raw_affiliation': 'Australian Centre for Advanced Photovoltaics (ACAP), School of Photovoltaic and Renewable Energy Engineering, University of New South Wales, 2052, Sydney, Australia', 'state': 'New South Wales', 'state_code': 'AU-NSW'}], 'corresponding': '', 'current_organization_id': 'grid.1013.3', 'first_name': 'Anita', 'last_name': 'Ho-Baillie', 'orcid': ['0000-0001-9849-4755'], 'raw_affiliation': ['Australian Centre for Advanced Photovoltaics (ACAP), School of Photovoltaic and Renewable Energy Engineering, University of New South Wales, 2052, Sydney, Australia'], 'researcher_id': 'ur.015526644562.62'}\", \"{'affiliations': [{'city': 'Oxford', 'city_id': 2640729, 'country': 'United Kingdom', 'country_code': 'GB', 'id': 'grid.4991.5', 'name': 'University of Oxford', 'raw_affiliation': 'University of Oxford, Clarendon Laboratory, Parks Road, OX1 3PU, Oxford, UK', 'state': None, 'state_code': None}], 'corresponding': '', 'current_organization_id': 'grid.4991.5', 'first_name': 'Henry J.', 'last_name': 'Snaith', 'orcid': ['0000-0001-8511-790X'], 'raw_affiliation': ['University of Oxford, Clarendon Laboratory, Parks Road, OX1 3PU, Oxford, UK'], 'researcher_id': 'ur.01047000525.87'}\"],\n\"7\",\n\"article\",\n\"8\",\n{\n            'v': 2014,\n            'f': \"2014\",\n        },\n\"jour.1037430\",\n\"Nature Photonics\"],\n [{\n            'v': 9,\n            'f': \"9\",\n        },\n\"pub.1015305822\",\n\"Raman spectroscopy as a versatile tool for studying the properties of graphene\",\n[\"{'affiliations': [{'city': 'Cambridge', 'city_id': 2653941, 'country': 'United Kingdom', 'country_code': 'GB', 'id': 'grid.5335.0', 'name': 'University of Cambridge', 'raw_affiliation': 'Cambridge Graphene Centre, Cambridge University, 9 JJ Thomson Avenue, CB3 OFA, Cambridge, UK', 'state': None, 'state_code': None}], 'corresponding': True, 'current_organization_id': 'grid.5335.0', 'first_name': 'Andrea C.', 'last_name': 'Ferrari', 'orcid': None, 'raw_affiliation': ['Cambridge Graphene Centre, Cambridge University, 9 JJ Thomson Avenue, CB3 OFA, Cambridge, UK'], 'researcher_id': 'ur.0737006177.12'}\", \"{'affiliations': [{'city': 'Grenoble', 'city_id': 3014728, 'country': 'France', 'country_code': 'FR', 'id': 'grid.9621.c', 'name': 'Joseph Fourier University', 'raw_affiliation': 'Universit\\u00e9 Grenoble 1 and CNRS, LPMMC UMR 5493, Grenoble, France', 'state': None, 'state_code': None}], 'corresponding': '', 'current_organization_id': 'grid.463719.e', 'first_name': 'Denis M.', 'last_name': 'Basko', 'orcid': None, 'raw_affiliation': ['Universit\\u00e9 Grenoble 1 and CNRS, LPMMC UMR 5493, Grenoble, France'], 'researcher_id': 'ur.01251142421.60'}\"],\n\"4\",\n\"article\",\n\"8\",\n{\n            'v': 2013,\n            'f': \"2013\",\n        },\n\"jour.1037429\",\n\"Nature Nanotechnology\"]],\n        columns: [[\"number\", \"index\"], [\"string\", \"id\"], [\"string\", \"title\"], [\"string\", \"authors\"], [\"string\", \"issue\"], [\"string\", \"type\"], [\"string\", \"volume\"], [\"number\", \"year\"], [\"string\", \"journal.id\"], [\"string\", \"journal.title\"]],\n        columnOptions: [{\"width\": \"1px\", \"className\": \"index_column\"}],\n        rowsPerPage: 25,\n        helpUrl: \"https://colab.research.google.com/notebooks/data_table.ipynb\",\n        suppressOutputScrolling: true,\n        minimumWidth: undefined,\n      });\n      \n      function appendQuickchartButton(parentElement) {\n        let quickchartButtonContainerElement = document.createElement('div');\n        quickchartButtonContainerElement.innerHTML = `\n    <div id=\"df-a739a14f-35e5-472d-9260-e93ded92768b\">\n      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-a739a14f-35e5-472d-9260-e93ded92768b')\"\n              title=\"Suggest charts.\"\n              style=\"display:none;\">\n\n<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n     width=\"24px\">\n    <g>\n        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n    </g>\n</svg>\n      </button>\n    </div>\n\n<style>\n  .colab-df-quickchart {\n    background-color: #E8F0FE;\n    border: none;\n    border-radius: 50%;\n    cursor: pointer;\n    display: none;\n    fill: #1967D2;\n    height: 32px;\n    padding: 0 0 0 0;\n    width: 32px;\n  }\n\n  .colab-df-quickchart:hover {\n    background-color: #E2EBFA;\n    box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n    fill: #174EA6;\n  }\n\n  [theme=dark] .colab-df-quickchart {\n    background-color: #3B4455;\n    fill: #D2E3FC;\n  }\n\n  [theme=dark] .colab-df-quickchart:hover {\n    background-color: #434B5C;\n    box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n    filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n    fill: #FFFFFF;\n  }\n</style>\n\n    <script>\n      async function quickchart(key) {\n        const containerElement = document.querySelector('#' + key);\n        const charts = await google.colab.kernel.invokeFunction(\n            'suggestCharts', [key], {});\n      }\n    </script>\n`;\n        parentElement.appendChild(quickchartButtonContainerElement);\n        \nfunction displayQuickchartButton(domScope) {\n  let quickchartButtonEl =\n    domScope.querySelector('#df-a739a14f-35e5-472d-9260-e93ded92768b button.colab-df-quickchart');\n  quickchartButtonEl.style.display =\n    google.colab.kernel.accessAllowed ? 'block' : 'none';\n}\n\n        displayQuickchartButton(parentElement);\n      }\n\n      appendQuickchartButton(table);\n    "
          },
          "metadata": {},
          "execution_count": 4
        }
      ],
      "source": [
        "df = res.as_dataframe()\n",
        "df.head(10)"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "Collapsed": "false",
        "id": "tCq1lF6HR4DI"
      },
      "source": [
        "Pandas dataframes offer a myriad of utilities for inspecting data. Check out the [official docs](https://pandas.pydata.org/pandas-docs/stable/getting_started/10min.html) or google a [pandas tutorial](https://www.google.com/search?q=pandas+tutorial) to lean more about it."
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 5,
      "metadata": {
        "Collapsed": "false",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "k_3GoeDkR4DJ",
        "outputId": "db674432-fb94-4b7c-c0b6-bbb84d7318d5"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "(1000, 9)"
            ]
          },
          "metadata": {},
          "execution_count": 5
        }
      ],
      "source": [
        "# the table shape\n",
        "df.shape"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 6,
      "metadata": {
        "Collapsed": "false",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "CjvMBNCBR4DK",
        "outputId": "7c990178-2ef8-4fc9-cc8f-0fc4c74f3ea0"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "2014    225\n",
              "2013    183\n",
              "2015    173\n",
              "2016    155\n",
              "2017    124\n",
              "2018     83\n",
              "2019     57\n",
              "Name: year, dtype: int64"
            ]
          },
          "metadata": {},
          "execution_count": 6
        }
      ],
      "source": [
        "# the 'value_counts' method returns the distribution of a specific field eg publication [years]\n",
        "df['year'].value_counts()"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 7,
      "metadata": {
        "Collapsed": "false",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "vndAnGmyR4DM",
        "outputId": "4b15e9a3-c914-4fcb-9982-cb47fac9caeb"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "article      995\n",
              "monograph      4\n",
              "book           1\n",
              "Name: type, dtype: int64"
            ]
          },
          "metadata": {},
          "execution_count": 7
        }
      ],
      "source": [
        "# eg distribution of publication [type]\n",
        "df['type'].value_counts()"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "Collapsed": "false",
        "id": "ye1VswB3R4DO"
      },
      "source": [
        "## 2. Dataframe Methods for 'Publications' queries\n",
        "\n",
        "What follows are specialized versions of the `as_dataframe` method for results sets composed of publication records."
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "Collapsed": "false",
        "id": "j75inlUMR4DO"
      },
      "source": [
        "###  Extracting authors: `as_dataframe_authors`\n",
        "\n",
        "Publications authors are usually returned by the Dimensions API inside a nested JSON object in the `authors_affiliations` sub-key.\n",
        "\n",
        "> Note: the order of authors in the JSON is consistent with the ordering of authors in the original publication\n",
        "\n",
        "This methods allows to quickly extract that data and return a dataframe with **one row per author**."
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 8,
      "metadata": {
        "Collapsed": "false",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 808
        },
        "id": "0_KbE4ylR4DP",
        "outputId": "8b12e23a-18b7-450e-c50c-5d6098988a4e"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "                                        affiliations corresponding  \\\n",
              "0  [{'city': 'Manchester', 'city_id': 2643123, 'c...                 \n",
              "1  [{'city': 'Manchester', 'city_id': 2643123, 'c...          True   \n",
              "2  [{'city': 'New Brunswick', 'city_id': 5101717,...          True   \n",
              "3  [{'city': 'Ulsan', 'city_id': 1833747, 'countr...                 \n",
              "4  [{'city': 'Singapore', 'city_id': 1880252, 'co...                 \n",
              "\n",
              "  current_organization_id first_name   last_name                  orcid  \\\n",
              "0             grid.5379.8      A. K.        Geim  [0000-0003-2861-8331]   \n",
              "1             grid.5379.8      I. V.  Grigorieva  [0000-0001-5991-7778]   \n",
              "2             grid.5335.0     Manish   Chhowalla                   None   \n",
              "3           grid.42687.3f  Hyeon Suk        Shin                   None   \n",
              "4             grid.4280.e       Goki         Eda                   None   \n",
              "\n",
              "                                     raw_affiliation      researcher_id  \\\n",
              "0  [School of Physics and Astronomy, University o...   ur.0721730631.45   \n",
              "1  [School of Physics and Astronomy, University o...   ur.0767105504.29   \n",
              "2  [Materials Science and Engineering, Rutgers Un...   ur.0633062306.03   \n",
              "3  [Interdisciplinary School of Green Energy and ...  ur.07617630407.83   \n",
              "4  [Department of Physics, National University of...  ur.01150450507.27   \n",
              "\n",
              "           pub_id  \n",
              "0  pub.1024857999  \n",
              "1  pub.1024857999  \n",
              "2  pub.1050119463  \n",
              "3  pub.1050119463  \n",
              "4  pub.1050119463  "
            ],
            "text/html": [
              "\n",
              "\n",
              "  <div id=\"df-fc6ab4e2-4127-47d1-b71b-e2900c8d1ded\">\n",
              "    <div class=\"colab-df-container\">\n",
              "      <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>affiliations</th>\n",
              "      <th>corresponding</th>\n",
              "      <th>current_organization_id</th>\n",
              "      <th>first_name</th>\n",
              "      <th>last_name</th>\n",
              "      <th>orcid</th>\n",
              "      <th>raw_affiliation</th>\n",
              "      <th>researcher_id</th>\n",
              "      <th>pub_id</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>0</th>\n",
              "      <td>[{'city': 'Manchester', 'city_id': 2643123, 'c...</td>\n",
              "      <td></td>\n",
              "      <td>grid.5379.8</td>\n",
              "      <td>A. K.</td>\n",
              "      <td>Geim</td>\n",
              "      <td>[0000-0003-2861-8331]</td>\n",
              "      <td>[School of Physics and Astronomy, University o...</td>\n",
              "      <td>ur.0721730631.45</td>\n",
              "      <td>pub.1024857999</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1</th>\n",
              "      <td>[{'city': 'Manchester', 'city_id': 2643123, 'c...</td>\n",
              "      <td>True</td>\n",
              "      <td>grid.5379.8</td>\n",
              "      <td>I. V.</td>\n",
              "      <td>Grigorieva</td>\n",
              "      <td>[0000-0001-5991-7778]</td>\n",
              "      <td>[School of Physics and Astronomy, University o...</td>\n",
              "      <td>ur.0767105504.29</td>\n",
              "      <td>pub.1024857999</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>2</th>\n",
              "      <td>[{'city': 'New Brunswick', 'city_id': 5101717,...</td>\n",
              "      <td>True</td>\n",
              "      <td>grid.5335.0</td>\n",
              "      <td>Manish</td>\n",
              "      <td>Chhowalla</td>\n",
              "      <td>None</td>\n",
              "      <td>[Materials Science and Engineering, Rutgers Un...</td>\n",
              "      <td>ur.0633062306.03</td>\n",
              "      <td>pub.1050119463</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>3</th>\n",
              "      <td>[{'city': 'Ulsan', 'city_id': 1833747, 'countr...</td>\n",
              "      <td></td>\n",
              "      <td>grid.42687.3f</td>\n",
              "      <td>Hyeon Suk</td>\n",
              "      <td>Shin</td>\n",
              "      <td>None</td>\n",
              "      <td>[Interdisciplinary School of Green Energy and ...</td>\n",
              "      <td>ur.07617630407.83</td>\n",
              "      <td>pub.1050119463</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>4</th>\n",
              "      <td>[{'city': 'Singapore', 'city_id': 1880252, 'co...</td>\n",
              "      <td></td>\n",
              "      <td>grid.4280.e</td>\n",
              "      <td>Goki</td>\n",
              "      <td>Eda</td>\n",
              "      <td>None</td>\n",
              "      <td>[Department of Physics, National University of...</td>\n",
              "      <td>ur.01150450507.27</td>\n",
              "      <td>pub.1050119463</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-fc6ab4e2-4127-47d1-b71b-e2900c8d1ded')\"\n",
              "              title=\"Convert this dataframe to an interactive table.\"\n",
              "              style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "       width=\"24px\">\n",
              "    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n",
              "    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n",
              "  </svg>\n",
              "      </button>\n",
              "\n",
              "\n",
              "\n",
              "    <div id=\"df-ce5ac896-3ac2-409e-b292-a40600a3671e\">\n",
              "      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-ce5ac896-3ac2-409e-b292-a40600a3671e')\"\n",
              "              title=\"Suggest charts.\"\n",
              "              style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "      </button>\n",
              "    </div>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "    background-color: #E8F0FE;\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: #1967D2;\n",
              "    height: 32px;\n",
              "    padding: 0 0 0 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: #E2EBFA;\n",
              "    box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: #174EA6;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "    background-color: #3B4455;\n",
              "    fill: #D2E3FC;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart:hover {\n",
              "    background-color: #434B5C;\n",
              "    box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "    filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "    fill: #FFFFFF;\n",
              "  }\n",
              "</style>\n",
              "\n",
              "    <script>\n",
              "      async function quickchart(key) {\n",
              "        const containerElement = document.querySelector('#' + key);\n",
              "        const charts = await google.colab.kernel.invokeFunction(\n",
              "            'suggestCharts', [key], {});\n",
              "      }\n",
              "    </script>\n",
              "\n",
              "      <script>\n",
              "\n",
              "function displayQuickchartButton(domScope) {\n",
              "  let quickchartButtonEl =\n",
              "    domScope.querySelector('#df-ce5ac896-3ac2-409e-b292-a40600a3671e button.colab-df-quickchart');\n",
              "  quickchartButtonEl.style.display =\n",
              "    google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "}\n",
              "\n",
              "        displayQuickchartButton(document);\n",
              "      </script>\n",
              "      <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      flex-wrap:wrap;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "      <script>\n",
              "        const buttonEl =\n",
              "          document.querySelector('#df-fc6ab4e2-4127-47d1-b71b-e2900c8d1ded button.colab-df-convert');\n",
              "        buttonEl.style.display =\n",
              "          google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "        async function convertToInteractive(key) {\n",
              "          const element = document.querySelector('#df-fc6ab4e2-4127-47d1-b71b-e2900c8d1ded');\n",
              "          const dataTable =\n",
              "            await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                     [key], {});\n",
              "          if (!dataTable) return;\n",
              "\n",
              "          const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "            + ' to learn more about interactive tables.';\n",
              "          element.innerHTML = '';\n",
              "          dataTable['output_type'] = 'display_data';\n",
              "          await google.colab.output.renderOutput(dataTable, element);\n",
              "          const docLink = document.createElement('div');\n",
              "          docLink.innerHTML = docLinkHtml;\n",
              "          element.appendChild(docLink);\n",
              "        }\n",
              "      </script>\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.module+javascript": "\n      import \"https://ssl.gstatic.com/colaboratory/data_table/881c4a0d49046431/data_table.js\";\n\n      const table = window.createDataTable({\n        data: [[{\n            'v': 0,\n            'f': \"0\",\n        },\n[\"{'city': 'Manchester', 'city_id': 2643123, 'country': 'United Kingdom', 'country_code': 'GB', 'id': 'grid.5379.8', 'name': 'University of Manchester', 'raw_affiliation': 'School of Physics and Astronomy, University of Manchester, Manchester M13 9PL, UK', 'state': None, 'state_code': None}\", \"{'city': 'Manchester', 'city_id': 2643123, 'country': 'United Kingdom', 'country_code': 'GB', 'id': 'grid.5379.8', 'name': 'University of Manchester', 'raw_affiliation': 'Centre for Mesoscience and Nanotechnology, University of Manchester, Manchester M13 9PL, UK', 'state': None, 'state_code': None}\"],\n\"\",\n\"grid.5379.8\",\n\"A. K.\",\n\"Geim\",\n[\"0000-0003-2861-8331\"],\n[\"School of Physics and Astronomy, University of Manchester, Manchester M13 9PL, UK\", \"Centre for Mesoscience and Nanotechnology, University of Manchester, Manchester M13 9PL, UK\"],\n\"ur.0721730631.45\",\n\"pub.1024857999\"],\n [{\n            'v': 1,\n            'f': \"1\",\n        },\n[\"{'city': 'Manchester', 'city_id': 2643123, 'country': 'United Kingdom', 'country_code': 'GB', 'id': 'grid.5379.8', 'name': 'University of Manchester', 'raw_affiliation': 'School of Physics and Astronomy, University of Manchester, Manchester M13 9PL, UK', 'state': None, 'state_code': None}\"],\ntrue,\n\"grid.5379.8\",\n\"I. V.\",\n\"Grigorieva\",\n[\"0000-0001-5991-7778\"],\n[\"School of Physics and Astronomy, University of Manchester, Manchester M13 9PL, UK\"],\n\"ur.0767105504.29\",\n\"pub.1024857999\"],\n [{\n            'v': 2,\n            'f': \"2\",\n        },\n[\"{'city': 'New Brunswick', 'city_id': 5101717, 'country': 'United States', 'country_code': 'US', 'id': 'grid.430387.b', 'name': 'Rutgers, The State University of New Jersey', 'raw_affiliation': 'Materials Science and Engineering, Rutgers University, 607 Taylor Road, 08854, Piscataway, New Jersey, USA', 'state': 'New Jersey', 'state_code': 'US-NJ'}\"],\ntrue,\n\"grid.5335.0\",\n\"Manish\",\n\"Chhowalla\",\nnull,\n[\"Materials Science and Engineering, Rutgers University, 607 Taylor Road, 08854, Piscataway, New Jersey, USA\"],\n\"ur.0633062306.03\",\n\"pub.1050119463\"],\n [{\n            'v': 3,\n            'f': \"3\",\n        },\n[\"{'city': 'Ulsan', 'city_id': 1833747, 'country': 'South Korea', 'country_code': 'KR', 'id': 'grid.42687.3f', 'name': 'Ulsan National Institute of Science and Technology', 'raw_affiliation': 'Interdisciplinary School of Green Energy and Low Dimensional Carbon Materials Center, Ulsan National Institute of Science and Technology (UNIST), UNIST-gil 50, 689-798, Ulsan, Republic of Korea', 'state': None, 'state_code': None}\"],\n\"\",\n\"grid.42687.3f\",\n\"Hyeon Suk\",\n\"Shin\",\nnull,\n[\"Interdisciplinary School of Green Energy and Low Dimensional Carbon Materials Center, Ulsan National Institute of Science and Technology (UNIST), UNIST-gil 50, 689-798, Ulsan, Republic of Korea\"],\n\"ur.07617630407.83\",\n\"pub.1050119463\"],\n [{\n            'v': 4,\n            'f': \"4\",\n        },\n[\"{'city': 'Singapore', 'city_id': 1880252, 'country': 'Singapore', 'country_code': 'SG', 'id': 'grid.4280.e', 'name': 'National University of Singapore', 'raw_affiliation': 'Department of Physics, National University of Singapore, 117542, Singapore', 'state': None, 'state_code': None}\", \"{'city': 'Singapore', 'city_id': 1880252, 'country': 'Singapore', 'country_code': 'SG', 'id': 'grid.4280.e', 'name': 'National University of Singapore', 'raw_affiliation': 'Department of Chemistry, National University of Singapore, 117543, Singapore', 'state': None, 'state_code': None}\", \"{'city': 'Singapore', 'city_id': 1880252, 'country': 'Singapore', 'country_code': 'SG', 'id': 'grid.4280.e', 'name': 'National University of Singapore', 'raw_affiliation': 'Graphene Research Centre, National University of Singapore, 117546, Singapore', 'state': None, 'state_code': None}\"],\n\"\",\n\"grid.4280.e\",\n\"Goki\",\n\"Eda\",\nnull,\n[\"Department of Physics, National University of Singapore, 117542, Singapore\", \"Department of Chemistry, National University of Singapore, 117543, Singapore\", \"Graphene Research Centre, National University of Singapore, 117546, Singapore\"],\n\"ur.01150450507.27\",\n\"pub.1050119463\"]],\n        columns: [[\"number\", \"index\"], [\"string\", \"affiliations\"], [\"string\", \"corresponding\"], [\"string\", \"current_organization_id\"], [\"string\", \"first_name\"], [\"string\", \"last_name\"], [\"string\", \"orcid\"], [\"string\", \"raw_affiliation\"], [\"string\", \"researcher_id\"], [\"string\", \"pub_id\"]],\n        columnOptions: [{\"width\": \"1px\", \"className\": \"index_column\"}],\n        rowsPerPage: 25,\n        helpUrl: \"https://colab.research.google.com/notebooks/data_table.ipynb\",\n        suppressOutputScrolling: true,\n        minimumWidth: undefined,\n      });\n      \n      function appendQuickchartButton(parentElement) {\n        let quickchartButtonContainerElement = document.createElement('div');\n        quickchartButtonContainerElement.innerHTML = `\n    <div id=\"df-271b5d9e-0368-4b87-b432-cd917dfdbb1d\">\n      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-271b5d9e-0368-4b87-b432-cd917dfdbb1d')\"\n              title=\"Suggest charts.\"\n              style=\"display:none;\">\n\n<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n     width=\"24px\">\n    <g>\n        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n    </g>\n</svg>\n      </button>\n    </div>\n\n<style>\n  .colab-df-quickchart {\n    background-color: #E8F0FE;\n    border: none;\n    border-radius: 50%;\n    cursor: pointer;\n    display: none;\n    fill: #1967D2;\n    height: 32px;\n    padding: 0 0 0 0;\n    width: 32px;\n  }\n\n  .colab-df-quickchart:hover {\n    background-color: #E2EBFA;\n    box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n    fill: #174EA6;\n  }\n\n  [theme=dark] .colab-df-quickchart {\n    background-color: #3B4455;\n    fill: #D2E3FC;\n  }\n\n  [theme=dark] .colab-df-quickchart:hover {\n    background-color: #434B5C;\n    box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n    filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n    fill: #FFFFFF;\n  }\n</style>\n\n    <script>\n      async function quickchart(key) {\n        const containerElement = document.querySelector('#' + key);\n        const charts = await google.colab.kernel.invokeFunction(\n            'suggestCharts', [key], {});\n      }\n    </script>\n`;\n        parentElement.appendChild(quickchartButtonContainerElement);\n        \nfunction displayQuickchartButton(domScope) {\n  let quickchartButtonEl =\n    domScope.querySelector('#df-271b5d9e-0368-4b87-b432-cd917dfdbb1d button.colab-df-quickchart');\n  quickchartButtonEl.style.display =\n    google.colab.kernel.accessAllowed ? 'block' : 'none';\n}\n\n        displayQuickchartButton(parentElement);\n      }\n\n      appendQuickchartButton(table);\n    "
          },
          "metadata": {},
          "execution_count": 8
        }
      ],
      "source": [
        "authors = res.as_dataframe_authors()\n",
        "authors.head()"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "Collapsed": "false",
        "id": "N1VtHVQbR4DQ"
      },
      "source": [
        "Using the authors dataframe, we can easily get the top ten values for `current_organization_id`."
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 9,
      "metadata": {
        "Collapsed": "false",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "ut6y8Di0R4DR",
        "outputId": "39c1533c-56c6-4959-8160-e9a206c5f545"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "grid.168010.e    146\n",
              "                 133\n",
              "grid.59025.3b     83\n",
              "grid.12527.33     81\n",
              "grid.19006.3e     78\n",
              "grid.59053.3a     78\n",
              "grid.166341.7     65\n",
              "grid.41156.37     64\n",
              "grid.89336.37     63\n",
              "grid.116068.8     59\n",
              "Name: current_organization_id, dtype: int64"
            ]
          },
          "metadata": {},
          "execution_count": 9
        }
      ],
      "source": [
        "authors['current_organization_id'].value_counts()[:10]"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "Collapsed": "false",
        "id": "6NpFRYBGR4DS"
      },
      "source": [
        "> Explanation: the most frequent organization turns out to be [grid.168010.e](https://www.grid.ac/institutes/grid.168010.e). The first result is empty, meaning that for those authors Dimensions has no info about `current_organization_id`."
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "Collapsed": "false",
        "id": "p2eN2Y8GR4DT"
      },
      "source": [
        "### Extracting Affiliations: `as_dataframe_authors_affiliations`\n",
        "\n",
        "As you can see from the results of the previous section, the `affiliations` of each author is yet another nested JSON object.\n",
        "\n",
        "> Note: the order of affiliations in the JSON is consistent with the affiliations order in the original publication\n",
        "\n",
        "The `as_dataframe_authors_affiliations` method allows to quickly extract that affiliations data and return a dataframe with **one row per affiliation**.\n",
        "\n",
        "This can be useful e.g. if one wants to count research organizations at *the time of writing* (as opposed to `current_organization_id`, which is the *most recent organization* of a researcher)."
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 10,
      "metadata": {
        "Collapsed": "false",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 477
        },
        "id": "fszvKPHdR4DT",
        "outputId": "a053e7e2-4925-4037-a5ee-e93352a85fad"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "        aff_city aff_city_id     aff_country aff_country_code         aff_id  \\\n",
              "0     Manchester   2643123.0  United Kingdom               GB    grid.5379.8   \n",
              "1     Manchester   2643123.0  United Kingdom               GB    grid.5379.8   \n",
              "2     Manchester   2643123.0  United Kingdom               GB    grid.5379.8   \n",
              "3  New Brunswick   5101717.0   United States               US  grid.430387.b   \n",
              "4          Ulsan   1833747.0     South Korea               KR  grid.42687.3f   \n",
              "\n",
              "                                            aff_name  \\\n",
              "0                           University of Manchester   \n",
              "1                           University of Manchester   \n",
              "2                           University of Manchester   \n",
              "3        Rutgers, The State University of New Jersey   \n",
              "4  Ulsan National Institute of Science and Techno...   \n",
              "\n",
              "                                 aff_raw_affiliation   aff_state  \\\n",
              "0  School of Physics and Astronomy, University of...               \n",
              "1  Centre for Mesoscience and Nanotechnology, Uni...               \n",
              "2  School of Physics and Astronomy, University of...               \n",
              "3  Materials Science and Engineering, Rutgers Uni...  New Jersey   \n",
              "4  Interdisciplinary School of Green Energy and L...               \n",
              "\n",
              "  aff_state_code          pub_id      researcher_id first_name   last_name  \n",
              "0                 pub.1024857999   ur.0721730631.45      A. K.        Geim  \n",
              "1                 pub.1024857999   ur.0721730631.45      A. K.        Geim  \n",
              "2                 pub.1024857999   ur.0767105504.29      I. V.  Grigorieva  \n",
              "3          US-NJ  pub.1050119463   ur.0633062306.03     Manish   Chhowalla  \n",
              "4                 pub.1050119463  ur.07617630407.83  Hyeon Suk        Shin  "
            ],
            "text/html": [
              "\n",
              "\n",
              "  <div id=\"df-1c68ce58-87db-453d-bd62-5620ad108e12\">\n",
              "    <div class=\"colab-df-container\">\n",
              "      <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>aff_city</th>\n",
              "      <th>aff_city_id</th>\n",
              "      <th>aff_country</th>\n",
              "      <th>aff_country_code</th>\n",
              "      <th>aff_id</th>\n",
              "      <th>aff_name</th>\n",
              "      <th>aff_raw_affiliation</th>\n",
              "      <th>aff_state</th>\n",
              "      <th>aff_state_code</th>\n",
              "      <th>pub_id</th>\n",
              "      <th>researcher_id</th>\n",
              "      <th>first_name</th>\n",
              "      <th>last_name</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>0</th>\n",
              "      <td>Manchester</td>\n",
              "      <td>2643123.0</td>\n",
              "      <td>United Kingdom</td>\n",
              "      <td>GB</td>\n",
              "      <td>grid.5379.8</td>\n",
              "      <td>University of Manchester</td>\n",
              "      <td>School of Physics and Astronomy, University of...</td>\n",
              "      <td></td>\n",
              "      <td></td>\n",
              "      <td>pub.1024857999</td>\n",
              "      <td>ur.0721730631.45</td>\n",
              "      <td>A. K.</td>\n",
              "      <td>Geim</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1</th>\n",
              "      <td>Manchester</td>\n",
              "      <td>2643123.0</td>\n",
              "      <td>United Kingdom</td>\n",
              "      <td>GB</td>\n",
              "      <td>grid.5379.8</td>\n",
              "      <td>University of Manchester</td>\n",
              "      <td>Centre for Mesoscience and Nanotechnology, Uni...</td>\n",
              "      <td></td>\n",
              "      <td></td>\n",
              "      <td>pub.1024857999</td>\n",
              "      <td>ur.0721730631.45</td>\n",
              "      <td>A. K.</td>\n",
              "      <td>Geim</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>2</th>\n",
              "      <td>Manchester</td>\n",
              "      <td>2643123.0</td>\n",
              "      <td>United Kingdom</td>\n",
              "      <td>GB</td>\n",
              "      <td>grid.5379.8</td>\n",
              "      <td>University of Manchester</td>\n",
              "      <td>School of Physics and Astronomy, University of...</td>\n",
              "      <td></td>\n",
              "      <td></td>\n",
              "      <td>pub.1024857999</td>\n",
              "      <td>ur.0767105504.29</td>\n",
              "      <td>I. V.</td>\n",
              "      <td>Grigorieva</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>3</th>\n",
              "      <td>New Brunswick</td>\n",
              "      <td>5101717.0</td>\n",
              "      <td>United States</td>\n",
              "      <td>US</td>\n",
              "      <td>grid.430387.b</td>\n",
              "      <td>Rutgers, The State University of New Jersey</td>\n",
              "      <td>Materials Science and Engineering, Rutgers Uni...</td>\n",
              "      <td>New Jersey</td>\n",
              "      <td>US-NJ</td>\n",
              "      <td>pub.1050119463</td>\n",
              "      <td>ur.0633062306.03</td>\n",
              "      <td>Manish</td>\n",
              "      <td>Chhowalla</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>4</th>\n",
              "      <td>Ulsan</td>\n",
              "      <td>1833747.0</td>\n",
              "      <td>South Korea</td>\n",
              "      <td>KR</td>\n",
              "      <td>grid.42687.3f</td>\n",
              "      <td>Ulsan National Institute of Science and Techno...</td>\n",
              "      <td>Interdisciplinary School of Green Energy and L...</td>\n",
              "      <td></td>\n",
              "      <td></td>\n",
              "      <td>pub.1050119463</td>\n",
              "      <td>ur.07617630407.83</td>\n",
              "      <td>Hyeon Suk</td>\n",
              "      <td>Shin</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-1c68ce58-87db-453d-bd62-5620ad108e12')\"\n",
              "              title=\"Convert this dataframe to an interactive table.\"\n",
              "              style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "       width=\"24px\">\n",
              "    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n",
              "    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n",
              "  </svg>\n",
              "      </button>\n",
              "\n",
              "\n",
              "\n",
              "    <div id=\"df-5f2a2a89-8643-4c8b-b143-19d2c3ad29c7\">\n",
              "      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-5f2a2a89-8643-4c8b-b143-19d2c3ad29c7')\"\n",
              "              title=\"Suggest charts.\"\n",
              "              style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "      </button>\n",
              "    </div>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "    background-color: #E8F0FE;\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: #1967D2;\n",
              "    height: 32px;\n",
              "    padding: 0 0 0 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: #E2EBFA;\n",
              "    box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: #174EA6;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "    background-color: #3B4455;\n",
              "    fill: #D2E3FC;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart:hover {\n",
              "    background-color: #434B5C;\n",
              "    box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "    filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "    fill: #FFFFFF;\n",
              "  }\n",
              "</style>\n",
              "\n",
              "    <script>\n",
              "      async function quickchart(key) {\n",
              "        const containerElement = document.querySelector('#' + key);\n",
              "        const charts = await google.colab.kernel.invokeFunction(\n",
              "            'suggestCharts', [key], {});\n",
              "      }\n",
              "    </script>\n",
              "\n",
              "      <script>\n",
              "\n",
              "function displayQuickchartButton(domScope) {\n",
              "  let quickchartButtonEl =\n",
              "    domScope.querySelector('#df-5f2a2a89-8643-4c8b-b143-19d2c3ad29c7 button.colab-df-quickchart');\n",
              "  quickchartButtonEl.style.display =\n",
              "    google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "}\n",
              "\n",
              "        displayQuickchartButton(document);\n",
              "      </script>\n",
              "      <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      flex-wrap:wrap;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "      <script>\n",
              "        const buttonEl =\n",
              "          document.querySelector('#df-1c68ce58-87db-453d-bd62-5620ad108e12 button.colab-df-convert');\n",
              "        buttonEl.style.display =\n",
              "          google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "        async function convertToInteractive(key) {\n",
              "          const element = document.querySelector('#df-1c68ce58-87db-453d-bd62-5620ad108e12');\n",
              "          const dataTable =\n",
              "            await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                     [key], {});\n",
              "          if (!dataTable) return;\n",
              "\n",
              "          const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "            + ' to learn more about interactive tables.';\n",
              "          element.innerHTML = '';\n",
              "          dataTable['output_type'] = 'display_data';\n",
              "          await google.colab.output.renderOutput(dataTable, element);\n",
              "          const docLink = document.createElement('div');\n",
              "          docLink.innerHTML = docLinkHtml;\n",
              "          element.appendChild(docLink);\n",
              "        }\n",
              "      </script>\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.module+javascript": "\n      import \"https://ssl.gstatic.com/colaboratory/data_table/881c4a0d49046431/data_table.js\";\n\n      const table = window.createDataTable({\n        data: [[{\n            'v': 0,\n            'f': \"0\",\n        },\n\"Manchester\",\n{\n            'v': 2643123.0,\n            'f': \"2643123.0\",\n        },\n\"United Kingdom\",\n\"GB\",\n\"grid.5379.8\",\n\"University of Manchester\",\n\"School of Physics and Astronomy, University of Manchester, Manchester M13 9PL, UK\",\n\"\",\n\"\",\n\"pub.1024857999\",\n\"ur.0721730631.45\",\n\"A. K.\",\n\"Geim\"],\n [{\n            'v': 1,\n            'f': \"1\",\n        },\n\"Manchester\",\n{\n            'v': 2643123.0,\n            'f': \"2643123.0\",\n        },\n\"United Kingdom\",\n\"GB\",\n\"grid.5379.8\",\n\"University of Manchester\",\n\"Centre for Mesoscience and Nanotechnology, University of Manchester, Manchester M13 9PL, UK\",\n\"\",\n\"\",\n\"pub.1024857999\",\n\"ur.0721730631.45\",\n\"A. K.\",\n\"Geim\"],\n [{\n            'v': 2,\n            'f': \"2\",\n        },\n\"Manchester\",\n{\n            'v': 2643123.0,\n            'f': \"2643123.0\",\n        },\n\"United Kingdom\",\n\"GB\",\n\"grid.5379.8\",\n\"University of Manchester\",\n\"School of Physics and Astronomy, University of Manchester, Manchester M13 9PL, UK\",\n\"\",\n\"\",\n\"pub.1024857999\",\n\"ur.0767105504.29\",\n\"I. V.\",\n\"Grigorieva\"],\n [{\n            'v': 3,\n            'f': \"3\",\n        },\n\"New Brunswick\",\n{\n            'v': 5101717.0,\n            'f': \"5101717.0\",\n        },\n\"United States\",\n\"US\",\n\"grid.430387.b\",\n\"Rutgers, The State University of New Jersey\",\n\"Materials Science and Engineering, Rutgers University, 607 Taylor Road, 08854, Piscataway, New Jersey, USA\",\n\"New Jersey\",\n\"US-NJ\",\n\"pub.1050119463\",\n\"ur.0633062306.03\",\n\"Manish\",\n\"Chhowalla\"],\n [{\n            'v': 4,\n            'f': \"4\",\n        },\n\"Ulsan\",\n{\n            'v': 1833747.0,\n            'f': \"1833747.0\",\n        },\n\"South Korea\",\n\"KR\",\n\"grid.42687.3f\",\n\"Ulsan National Institute of Science and Technology\",\n\"Interdisciplinary School of Green Energy and Low Dimensional Carbon Materials Center, Ulsan National Institute of Science and Technology (UNIST), UNIST-gil 50, 689-798, Ulsan, Republic of Korea\",\n\"\",\n\"\",\n\"pub.1050119463\",\n\"ur.07617630407.83\",\n\"Hyeon Suk\",\n\"Shin\"]],\n        columns: [[\"number\", \"index\"], [\"string\", \"aff_city\"], [\"number\", \"aff_city_id\"], [\"string\", \"aff_country\"], [\"string\", \"aff_country_code\"], [\"string\", \"aff_id\"], [\"string\", \"aff_name\"], [\"string\", \"aff_raw_affiliation\"], [\"string\", \"aff_state\"], [\"string\", \"aff_state_code\"], [\"string\", \"pub_id\"], [\"string\", \"researcher_id\"], [\"string\", \"first_name\"], [\"string\", \"last_name\"]],\n        columnOptions: [{\"width\": \"1px\", \"className\": \"index_column\"}],\n        rowsPerPage: 25,\n        helpUrl: \"https://colab.research.google.com/notebooks/data_table.ipynb\",\n        suppressOutputScrolling: true,\n        minimumWidth: undefined,\n      });\n      \n      function appendQuickchartButton(parentElement) {\n        let quickchartButtonContainerElement = document.createElement('div');\n        quickchartButtonContainerElement.innerHTML = `\n    <div id=\"df-30ab6ba9-1271-453e-b5ef-a71ae54c8f38\">\n      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-30ab6ba9-1271-453e-b5ef-a71ae54c8f38')\"\n              title=\"Suggest charts.\"\n              style=\"display:none;\">\n\n<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n     width=\"24px\">\n    <g>\n        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n    </g>\n</svg>\n      </button>\n    </div>\n\n<style>\n  .colab-df-quickchart {\n    background-color: #E8F0FE;\n    border: none;\n    border-radius: 50%;\n    cursor: pointer;\n    display: none;\n    fill: #1967D2;\n    height: 32px;\n    padding: 0 0 0 0;\n    width: 32px;\n  }\n\n  .colab-df-quickchart:hover {\n    background-color: #E2EBFA;\n    box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n    fill: #174EA6;\n  }\n\n  [theme=dark] .colab-df-quickchart {\n    background-color: #3B4455;\n    fill: #D2E3FC;\n  }\n\n  [theme=dark] .colab-df-quickchart:hover {\n    background-color: #434B5C;\n    box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n    filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n    fill: #FFFFFF;\n  }\n</style>\n\n    <script>\n      async function quickchart(key) {\n        const containerElement = document.querySelector('#' + key);\n        const charts = await google.colab.kernel.invokeFunction(\n            'suggestCharts', [key], {});\n      }\n    </script>\n`;\n        parentElement.appendChild(quickchartButtonContainerElement);\n        \nfunction displayQuickchartButton(domScope) {\n  let quickchartButtonEl =\n    domScope.querySelector('#df-30ab6ba9-1271-453e-b5ef-a71ae54c8f38 button.colab-df-quickchart');\n  quickchartButtonEl.style.display =\n    google.colab.kernel.accessAllowed ? 'block' : 'none';\n}\n\n        displayQuickchartButton(parentElement);\n      }\n\n      appendQuickchartButton(table);\n    "
          },
          "metadata": {},
          "execution_count": 10
        }
      ],
      "source": [
        "affiliations = res.as_dataframe_authors_affiliations()\n",
        "affiliations.head()"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 11,
      "metadata": {
        "Collapsed": "false",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 224
        },
        "id": "Ci5OzQyJR4DV",
        "outputId": "140e4459-d7ea-417c-b068-fdb52687945a"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "       aff_city aff_city_id    aff_country aff_country_code aff_id  \\\n",
              "count      8335        8335           8335             8335   8335   \n",
              "unique      523         526             52               52    852   \n",
              "top                          United States               US          \n",
              "freq        555         555           2736             2736    828   \n",
              "\n",
              "                   aff_name  \\\n",
              "count                  8335   \n",
              "unique                 1131   \n",
              "top     Stanford University   \n",
              "freq                    297   \n",
              "\n",
              "                                      aff_raw_affiliation aff_state  \\\n",
              "count                                                8335      8335   \n",
              "unique                                               3149       106   \n",
              "top     Department of Materials Science and Engineerin...             \n",
              "freq                                                   48      5133   \n",
              "\n",
              "       aff_state_code          pub_id researcher_id first_name last_name  \n",
              "count            8335            8335          8335       8335      8335  \n",
              "unique             53             990          4608       3635      2403  \n",
              "top                    pub.1019661721                       Yi      Wang  \n",
              "freq             5337             108           161         68       307  "
            ],
            "text/html": [
              "\n",
              "\n",
              "  <div id=\"df-d974d297-75da-43c4-9bb1-62023d32a6ed\">\n",
              "    <div class=\"colab-df-container\">\n",
              "      <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>aff_city</th>\n",
              "      <th>aff_city_id</th>\n",
              "      <th>aff_country</th>\n",
              "      <th>aff_country_code</th>\n",
              "      <th>aff_id</th>\n",
              "      <th>aff_name</th>\n",
              "      <th>aff_raw_affiliation</th>\n",
              "      <th>aff_state</th>\n",
              "      <th>aff_state_code</th>\n",
              "      <th>pub_id</th>\n",
              "      <th>researcher_id</th>\n",
              "      <th>first_name</th>\n",
              "      <th>last_name</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>count</th>\n",
              "      <td>8335</td>\n",
              "      <td>8335</td>\n",
              "      <td>8335</td>\n",
              "      <td>8335</td>\n",
              "      <td>8335</td>\n",
              "      <td>8335</td>\n",
              "      <td>8335</td>\n",
              "      <td>8335</td>\n",
              "      <td>8335</td>\n",
              "      <td>8335</td>\n",
              "      <td>8335</td>\n",
              "      <td>8335</td>\n",
              "      <td>8335</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>unique</th>\n",
              "      <td>523</td>\n",
              "      <td>526</td>\n",
              "      <td>52</td>\n",
              "      <td>52</td>\n",
              "      <td>852</td>\n",
              "      <td>1131</td>\n",
              "      <td>3149</td>\n",
              "      <td>106</td>\n",
              "      <td>53</td>\n",
              "      <td>990</td>\n",
              "      <td>4608</td>\n",
              "      <td>3635</td>\n",
              "      <td>2403</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>top</th>\n",
              "      <td></td>\n",
              "      <td></td>\n",
              "      <td>United States</td>\n",
              "      <td>US</td>\n",
              "      <td></td>\n",
              "      <td>Stanford University</td>\n",
              "      <td>Department of Materials Science and Engineerin...</td>\n",
              "      <td></td>\n",
              "      <td></td>\n",
              "      <td>pub.1019661721</td>\n",
              "      <td></td>\n",
              "      <td>Yi</td>\n",
              "      <td>Wang</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>freq</th>\n",
              "      <td>555</td>\n",
              "      <td>555</td>\n",
              "      <td>2736</td>\n",
              "      <td>2736</td>\n",
              "      <td>828</td>\n",
              "      <td>297</td>\n",
              "      <td>48</td>\n",
              "      <td>5133</td>\n",
              "      <td>5337</td>\n",
              "      <td>108</td>\n",
              "      <td>161</td>\n",
              "      <td>68</td>\n",
              "      <td>307</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-d974d297-75da-43c4-9bb1-62023d32a6ed')\"\n",
              "              title=\"Convert this dataframe to an interactive table.\"\n",
              "              style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "       width=\"24px\">\n",
              "    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n",
              "    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n",
              "  </svg>\n",
              "      </button>\n",
              "\n",
              "\n",
              "\n",
              "    <div id=\"df-f646824d-db4a-4fb8-a0a6-4eb2ad66d04b\">\n",
              "      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-f646824d-db4a-4fb8-a0a6-4eb2ad66d04b')\"\n",
              "              title=\"Suggest charts.\"\n",
              "              style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "      </button>\n",
              "    </div>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "    background-color: #E8F0FE;\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: #1967D2;\n",
              "    height: 32px;\n",
              "    padding: 0 0 0 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: #E2EBFA;\n",
              "    box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: #174EA6;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "    background-color: #3B4455;\n",
              "    fill: #D2E3FC;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart:hover {\n",
              "    background-color: #434B5C;\n",
              "    box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "    filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "    fill: #FFFFFF;\n",
              "  }\n",
              "</style>\n",
              "\n",
              "    <script>\n",
              "      async function quickchart(key) {\n",
              "        const containerElement = document.querySelector('#' + key);\n",
              "        const charts = await google.colab.kernel.invokeFunction(\n",
              "            'suggestCharts', [key], {});\n",
              "      }\n",
              "    </script>\n",
              "\n",
              "      <script>\n",
              "\n",
              "function displayQuickchartButton(domScope) {\n",
              "  let quickchartButtonEl =\n",
              "    domScope.querySelector('#df-f646824d-db4a-4fb8-a0a6-4eb2ad66d04b button.colab-df-quickchart');\n",
              "  quickchartButtonEl.style.display =\n",
              "    google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "}\n",
              "\n",
              "        displayQuickchartButton(document);\n",
              "      </script>\n",
              "      <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      flex-wrap:wrap;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "      <script>\n",
              "        const buttonEl =\n",
              "          document.querySelector('#df-d974d297-75da-43c4-9bb1-62023d32a6ed button.colab-df-convert');\n",
              "        buttonEl.style.display =\n",
              "          google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "        async function convertToInteractive(key) {\n",
              "          const element = document.querySelector('#df-d974d297-75da-43c4-9bb1-62023d32a6ed');\n",
              "          const dataTable =\n",
              "            await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                     [key], {});\n",
              "          if (!dataTable) return;\n",
              "\n",
              "          const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "            + ' to learn more about interactive tables.';\n",
              "          element.innerHTML = '';\n",
              "          dataTable['output_type'] = 'display_data';\n",
              "          await google.colab.output.renderOutput(dataTable, element);\n",
              "          const docLink = document.createElement('div');\n",
              "          docLink.innerHTML = docLinkHtml;\n",
              "          element.appendChild(docLink);\n",
              "        }\n",
              "      </script>\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.module+javascript": "\n      import \"https://ssl.gstatic.com/colaboratory/data_table/881c4a0d49046431/data_table.js\";\n\n      const table = window.createDataTable({\n        data: [[\"count\",\n8335,\n8335,\n8335,\n8335,\n8335,\n8335,\n8335,\n8335,\n8335,\n8335,\n8335,\n8335,\n8335],\n [\"unique\",\n523,\n526,\n52,\n52,\n852,\n1131,\n3149,\n106,\n53,\n990,\n4608,\n3635,\n2403],\n [\"top\",\n\"\",\n\"\",\n\"United States\",\n\"US\",\n\"\",\n\"Stanford University\",\n\"Department of Materials Science and Engineering, Stanford University, 94305, Stanford, California, USA\",\n\"\",\n\"\",\n\"pub.1019661721\",\n\"\",\n\"Yi\",\n\"Wang\"],\n [\"freq\",\n555,\n555,\n2736,\n2736,\n828,\n297,\n48,\n5133,\n5337,\n108,\n161,\n68,\n307]],\n        columns: [[\"string\", \"index\"], [\"string\", \"aff_city\"], [\"string\", \"aff_city_id\"], [\"string\", \"aff_country\"], [\"string\", \"aff_country_code\"], [\"string\", \"aff_id\"], [\"string\", \"aff_name\"], [\"string\", \"aff_raw_affiliation\"], [\"string\", \"aff_state\"], [\"string\", \"aff_state_code\"], [\"string\", \"pub_id\"], [\"string\", \"researcher_id\"], [\"string\", \"first_name\"], [\"string\", \"last_name\"]],\n        columnOptions: [{\"width\": \"1px\", \"className\": \"index_column\"}],\n        rowsPerPage: 25,\n        helpUrl: \"https://colab.research.google.com/notebooks/data_table.ipynb\",\n        suppressOutputScrolling: true,\n        minimumWidth: undefined,\n      });\n      \n      function appendQuickchartButton(parentElement) {\n        let quickchartButtonContainerElement = document.createElement('div');\n        quickchartButtonContainerElement.innerHTML = `\n    <div id=\"df-d8a71eda-c6da-42a3-9326-d6f1cbeaf7bd\">\n      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-d8a71eda-c6da-42a3-9326-d6f1cbeaf7bd')\"\n              title=\"Suggest charts.\"\n              style=\"display:none;\">\n\n<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n     width=\"24px\">\n    <g>\n        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n    </g>\n</svg>\n      </button>\n    </div>\n\n<style>\n  .colab-df-quickchart {\n    background-color: #E8F0FE;\n    border: none;\n    border-radius: 50%;\n    cursor: pointer;\n    display: none;\n    fill: #1967D2;\n    height: 32px;\n    padding: 0 0 0 0;\n    width: 32px;\n  }\n\n  .colab-df-quickchart:hover {\n    background-color: #E2EBFA;\n    box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n    fill: #174EA6;\n  }\n\n  [theme=dark] .colab-df-quickchart {\n    background-color: #3B4455;\n    fill: #D2E3FC;\n  }\n\n  [theme=dark] .colab-df-quickchart:hover {\n    background-color: #434B5C;\n    box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n    filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n    fill: #FFFFFF;\n  }\n</style>\n\n    <script>\n      async function quickchart(key) {\n        const containerElement = document.querySelector('#' + key);\n        const charts = await google.colab.kernel.invokeFunction(\n            'suggestCharts', [key], {});\n      }\n    </script>\n`;\n        parentElement.appendChild(quickchartButtonContainerElement);\n        \nfunction displayQuickchartButton(domScope) {\n  let quickchartButtonEl =\n    domScope.querySelector('#df-d8a71eda-c6da-42a3-9326-d6f1cbeaf7bd button.colab-df-quickchart');\n  quickchartButtonEl.style.display =\n    google.colab.kernel.accessAllowed ? 'block' : 'none';\n}\n\n        displayQuickchartButton(parentElement);\n      }\n\n      appendQuickchartButton(table);\n    "
          },
          "metadata": {},
          "execution_count": 11
        }
      ],
      "source": [
        "affiliations.describe(include=\"all\")"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "Collapsed": "false",
        "id": "at7DTaU5R4DW"
      },
      "source": [
        "Let's get the top ten values for `aff_id`."
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 12,
      "metadata": {
        "Collapsed": "false",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "o2zUnRg0R4DX",
        "outputId": "26c2987b-a13d-44a8-acf0-05c10a80ddf3"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "                 828\n",
              "grid.168010.e    297\n",
              "grid.59025.3b    185\n",
              "grid.166341.7    146\n",
              "grid.8217.c      130\n",
              "grid.19006.3e    119\n",
              "grid.12527.33    105\n",
              "grid.21729.3f     99\n",
              "grid.5379.8       94\n",
              "grid.116068.8     93\n",
              "Name: aff_id, dtype: int64"
            ]
          },
          "metadata": {},
          "execution_count": 12
        }
      ],
      "source": [
        "affiliations['aff_id'].value_counts()[:10]"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "Collapsed": "false",
        "id": "Zmv0M_PkR4DZ"
      },
      "source": [
        "Another example: we can now easily analyze the data by country too."
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 13,
      "metadata": {
        "Collapsed": "false",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "OnmvjI-8R4DZ",
        "outputId": "dc94ee57-03d5-4a44-b0be-2605ebeaac32"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "United States     2736\n",
              "China             2078\n",
              "United Kingdom     377\n",
              "                   375\n",
              "Germany            311\n",
              "Singapore          298\n",
              "South Korea        231\n",
              "Japan              225\n",
              "Australia          187\n",
              "Switzerland        140\n",
              "Name: aff_country, dtype: int64"
            ]
          },
          "metadata": {},
          "execution_count": 13
        }
      ],
      "source": [
        "affiliations['aff_country'].value_counts()[:10]"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "Collapsed": "false",
        "id": "a83GEMfQR4Db"
      },
      "source": [
        "> Explanation: the vast majority of authors in this dataset are from China, closely followed by the USA."
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "Collapsed": "false",
        "id": "69JItbFgR4Db"
      },
      "source": [
        "## 3. Dataframe Methods for 'Grants' queries"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "Collapsed": "false",
        "id": "P0FLXthRR4Dc"
      },
      "source": [
        "###  Extracting Funders: `as_dataframe_funders`\n",
        "\n",
        "Grant funders authors are usually returned by the Dimensions API inside a nested JSON object in the `funders` sub-key.\n",
        "\n",
        "This methods allows to quickly extract that data and return a dataframe with **one row per funder**."
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 14,
      "metadata": {
        "Collapsed": "false",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "kjxgoy_VR4Dc",
        "outputId": "3dbf9e05-9617-4bdb-ec7e-aaa89f033ab8"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "Returned Grants: 1000 (total = 14738)\n",
            "\u001b[2mTime: 2.23s\u001b[0m\n"
          ]
        }
      ],
      "source": [
        "# get a sample list of grants\n",
        "query = \"\"\"search grants for \"malaria\" return grants limit 1000\"\"\"\n",
        "res = dsl.query(query)"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 16,
      "metadata": {
        "Collapsed": "false",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 122
        },
        "id": "56iPhGTUR4Dd",
        "outputId": "022dd921-5f8a-4f8a-d629-005a97dfa010"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "Empty DataFrame\n",
              "Columns: [grant_id, grant_title, grant_start_date, grant_end_date]\n",
              "Index: []"
            ],
            "text/html": [
              "\n",
              "\n",
              "  <div id=\"df-92f01145-58c8-42a1-820a-620a78a5a70c\">\n",
              "    <div class=\"colab-df-container\">\n",
              "      <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>grant_id</th>\n",
              "      <th>grant_title</th>\n",
              "      <th>grant_start_date</th>\n",
              "      <th>grant_end_date</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-92f01145-58c8-42a1-820a-620a78a5a70c')\"\n",
              "              title=\"Convert this dataframe to an interactive table.\"\n",
              "              style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "       width=\"24px\">\n",
              "    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n",
              "    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n",
              "  </svg>\n",
              "      </button>\n",
              "\n",
              "\n",
              "\n",
              "    <div id=\"df-bc302e28-68df-4821-b071-ab388ed86788\">\n",
              "      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-bc302e28-68df-4821-b071-ab388ed86788')\"\n",
              "              title=\"Suggest charts.\"\n",
              "              style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "      </button>\n",
              "    </div>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "    background-color: #E8F0FE;\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: #1967D2;\n",
              "    height: 32px;\n",
              "    padding: 0 0 0 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: #E2EBFA;\n",
              "    box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: #174EA6;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "    background-color: #3B4455;\n",
              "    fill: #D2E3FC;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart:hover {\n",
              "    background-color: #434B5C;\n",
              "    box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "    filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "    fill: #FFFFFF;\n",
              "  }\n",
              "</style>\n",
              "\n",
              "    <script>\n",
              "      async function quickchart(key) {\n",
              "        const containerElement = document.querySelector('#' + key);\n",
              "        const charts = await google.colab.kernel.invokeFunction(\n",
              "            'suggestCharts', [key], {});\n",
              "      }\n",
              "    </script>\n",
              "\n",
              "      <script>\n",
              "\n",
              "function displayQuickchartButton(domScope) {\n",
              "  let quickchartButtonEl =\n",
              "    domScope.querySelector('#df-bc302e28-68df-4821-b071-ab388ed86788 button.colab-df-quickchart');\n",
              "  quickchartButtonEl.style.display =\n",
              "    google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "}\n",
              "\n",
              "        displayQuickchartButton(document);\n",
              "      </script>\n",
              "      <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      flex-wrap:wrap;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "      <script>\n",
              "        const buttonEl =\n",
              "          document.querySelector('#df-92f01145-58c8-42a1-820a-620a78a5a70c button.colab-df-convert');\n",
              "        buttonEl.style.display =\n",
              "          google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "        async function convertToInteractive(key) {\n",
              "          const element = document.querySelector('#df-92f01145-58c8-42a1-820a-620a78a5a70c');\n",
              "          const dataTable =\n",
              "            await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                     [key], {});\n",
              "          if (!dataTable) return;\n",
              "\n",
              "          const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "            + ' to learn more about interactive tables.';\n",
              "          element.innerHTML = '';\n",
              "          dataTable['output_type'] = 'display_data';\n",
              "          await google.colab.output.renderOutput(dataTable, element);\n",
              "          const docLink = document.createElement('div');\n",
              "          docLink.innerHTML = docLinkHtml;\n",
              "          element.appendChild(docLink);\n",
              "        }\n",
              "      </script>\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.module+javascript": "\n      import \"https://ssl.gstatic.com/colaboratory/data_table/881c4a0d49046431/data_table.js\";\n\n      const table = window.createDataTable({\n        data: [],\n        columns: [[\"number\", \"index\"], [\"number\", \"grant_id\"], [\"number\", \"grant_title\"], [\"number\", \"grant_start_date\"], [\"number\", \"grant_end_date\"]],\n        columnOptions: [{\"width\": \"1px\", \"className\": \"index_column\"}],\n        rowsPerPage: 25,\n        helpUrl: \"https://colab.research.google.com/notebooks/data_table.ipynb\",\n        suppressOutputScrolling: true,\n        minimumWidth: undefined,\n      });\n      \n      function appendQuickchartButton(parentElement) {\n        let quickchartButtonContainerElement = document.createElement('div');\n        quickchartButtonContainerElement.innerHTML = `\n    <div id=\"df-81388ed9-7c89-455a-9b49-e976c0ff0cc1\">\n      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-81388ed9-7c89-455a-9b49-e976c0ff0cc1')\"\n              title=\"Suggest charts.\"\n              style=\"display:none;\">\n\n<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n     width=\"24px\">\n    <g>\n        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n    </g>\n</svg>\n      </button>\n    </div>\n\n<style>\n  .colab-df-quickchart {\n    background-color: #E8F0FE;\n    border: none;\n    border-radius: 50%;\n    cursor: pointer;\n    display: none;\n    fill: #1967D2;\n    height: 32px;\n    padding: 0 0 0 0;\n    width: 32px;\n  }\n\n  .colab-df-quickchart:hover {\n    background-color: #E2EBFA;\n    box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n    fill: #174EA6;\n  }\n\n  [theme=dark] .colab-df-quickchart {\n    background-color: #3B4455;\n    fill: #D2E3FC;\n  }\n\n  [theme=dark] .colab-df-quickchart:hover {\n    background-color: #434B5C;\n    box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n    filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n    fill: #FFFFFF;\n  }\n</style>\n\n    <script>\n      async function quickchart(key) {\n        const containerElement = document.querySelector('#' + key);\n        const charts = await google.colab.kernel.invokeFunction(\n            'suggestCharts', [key], {});\n      }\n    </script>\n`;\n        parentElement.appendChild(quickchartButtonContainerElement);\n        \nfunction displayQuickchartButton(domScope) {\n  let quickchartButtonEl =\n    domScope.querySelector('#df-81388ed9-7c89-455a-9b49-e976c0ff0cc1 button.colab-df-quickchart');\n  quickchartButtonEl.style.display =\n    google.colab.kernel.accessAllowed ? 'block' : 'none';\n}\n\n        displayQuickchartButton(parentElement);\n      }\n\n      appendQuickchartButton(table);\n    "
          },
          "metadata": {},
          "execution_count": 16
        }
      ],
      "source": [
        "res.as_dataframe_funders().head(10)"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "Collapsed": "false",
        "id": "UqanXsrmR4Df"
      },
      "source": [
        "### Extracting investigators: `as_dataframe_investigators`\n",
        "\n",
        "Grant investigators are usually returned by the Dimensions API inside a nested JSON object in the `investigators` sub-key.\n",
        "\n",
        "This methods allows to quickly extract that data and return a dataframe with **one row per investigator**.\n",
        "\n",
        "> NOTE: `investigators` are not returned by default in a grants query hence one must specify this in the query results"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 17,
      "metadata": {
        "Collapsed": "false",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "QZS6TePGR4Df",
        "outputId": "bfba06cf-f71c-4417-db19-b02a75440e35"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "Returned Grants: 1000 (total = 14738)\n",
            "\u001b[2mTime: 1.77s\u001b[0m\n",
            "WARNINGS [1]\n",
            "Field 'grant_number' is deprecated in favor of project_numbers. Please refer to https://docs.dimensions.ai/dsl/releasenotes.html for more details\n"
          ]
        }
      ],
      "source": [
        "# get a sample list of grants\n",
        "query = \"\"\"search grants for \"malaria\" return grants[basics+investigators] limit 1000\"\"\"\n",
        "res = dsl.query(query)"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 18,
      "metadata": {
        "Collapsed": "false",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 899
        },
        "id": "5Y4YSw-YBCI2",
        "outputId": "16aceae8-68fd-416d-e76d-f7df61fc3f46"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "                                        affiliations first_name  \\\n",
              "0  [{'city': 'Melbourne', 'city_id': '2158177', '...    Coralie   \n",
              "1  [{'city': 'São Paulo', 'city_id': '3448439', '...      Célia   \n",
              "2  [{'city': 'Allschwil 3', 'city_id': '2661604',...   Penelope   \n",
              "3  [{'city': 'Heidelberg', 'city_id': '2907911', ...        Ina   \n",
              "4  [{'city': None, 'city_id': '184745', 'country'...    Stephen   \n",
              "5  [{'city': None, 'city_id': '2357163', 'country...        Ali   \n",
              "6  [{'city': 'SAN ANTONIO', 'city_id': '4726206',...    Zhuolin   \n",
              "7  [{'city': None, 'city_id': '2648579', 'country...   Matthias   \n",
              "8  [{'city': None, 'city_id': '2648579', 'country...    Barbara   \n",
              "9                                                NaN     Victor   \n",
              "\n",
              "                   id        last_name middle_name   role        grant_id  \\\n",
              "0                None           Boulet                 PI  grant.13535694   \n",
              "1   ur.01311140517.22  da Silva Garcia      Regina     PI   grant.9698278   \n",
              "2   ur.01356421006.17        Vounatsou                 PI  grant.13219531   \n",
              "3   ur.01006224125.53          Danquah                 PI  grant.13219531   \n",
              "4   ur.01363557726.68            Munga              Co-PI  grant.13219531   \n",
              "5   ur.01057017117.60              Sié              Co-PI  grant.13219531   \n",
              "6                None               Qu        None     PI  grant.13535333   \n",
              "7   ur.01315014330.55            Marti                 PI  grant.13306682   \n",
              "8  ur.013052533674.51           Stokes        Hoyt     PI  grant.13306682   \n",
              "9                None             Yman                 PI  grant.13528667   \n",
              "\n",
              "                                         grant_title grant_start_date  \\\n",
              "0  Regulation of Plasmodium falciparum egress fro...       2024-02-01   \n",
              "1  Calcium signaling in Plasmodium falciparum gam...       2023-11-01   \n",
              "2  Spatio-temporal modelling of climate variabili...       2023-10-01   \n",
              "3  Spatio-temporal modelling of climate variabili...       2023-10-01   \n",
              "4  Spatio-temporal modelling of climate variabili...       2023-10-01   \n",
              "5  Spatio-temporal modelling of climate variabili...       2023-10-01   \n",
              "6  LEAPS-MPS: Development of Novel Multistage Mod...       2023-09-01   \n",
              "7  Defining molecular determinants of Plasmodium ...       2023-08-31   \n",
              "8  Defining molecular determinants of Plasmodium ...       2023-08-31   \n",
              "9  Integrated serological surveillance of malaria...       2023-07-01   \n",
              "\n",
              "  grant_end_date  \n",
              "0     2026-01-31  \n",
              "1     2023-12-15  \n",
              "2     2026-09-30  \n",
              "3     2026-09-30  \n",
              "4     2026-09-30  \n",
              "5     2026-09-30  \n",
              "6     2025-08-31  \n",
              "7     2025-08-30  \n",
              "8     2025-08-30  \n",
              "9     2026-06-30  "
            ],
            "text/html": [
              "\n",
              "\n",
              "  <div id=\"df-79ac3e5e-b812-461d-97cf-653d54293ab3\">\n",
              "    <div class=\"colab-df-container\">\n",
              "      <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>affiliations</th>\n",
              "      <th>first_name</th>\n",
              "      <th>id</th>\n",
              "      <th>last_name</th>\n",
              "      <th>middle_name</th>\n",
              "      <th>role</th>\n",
              "      <th>grant_id</th>\n",
              "      <th>grant_title</th>\n",
              "      <th>grant_start_date</th>\n",
              "      <th>grant_end_date</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>0</th>\n",
              "      <td>[{'city': 'Melbourne', 'city_id': '2158177', '...</td>\n",
              "      <td>Coralie</td>\n",
              "      <td>None</td>\n",
              "      <td>Boulet</td>\n",
              "      <td></td>\n",
              "      <td>PI</td>\n",
              "      <td>grant.13535694</td>\n",
              "      <td>Regulation of Plasmodium falciparum egress fro...</td>\n",
              "      <td>2024-02-01</td>\n",
              "      <td>2026-01-31</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1</th>\n",
              "      <td>[{'city': 'São Paulo', 'city_id': '3448439', '...</td>\n",
              "      <td>Célia</td>\n",
              "      <td>ur.01311140517.22</td>\n",
              "      <td>da Silva Garcia</td>\n",
              "      <td>Regina</td>\n",
              "      <td>PI</td>\n",
              "      <td>grant.9698278</td>\n",
              "      <td>Calcium signaling in Plasmodium falciparum gam...</td>\n",
              "      <td>2023-11-01</td>\n",
              "      <td>2023-12-15</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>2</th>\n",
              "      <td>[{'city': 'Allschwil 3', 'city_id': '2661604',...</td>\n",
              "      <td>Penelope</td>\n",
              "      <td>ur.01356421006.17</td>\n",
              "      <td>Vounatsou</td>\n",
              "      <td></td>\n",
              "      <td>PI</td>\n",
              "      <td>grant.13219531</td>\n",
              "      <td>Spatio-temporal modelling of climate variabili...</td>\n",
              "      <td>2023-10-01</td>\n",
              "      <td>2026-09-30</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>3</th>\n",
              "      <td>[{'city': 'Heidelberg', 'city_id': '2907911', ...</td>\n",
              "      <td>Ina</td>\n",
              "      <td>ur.01006224125.53</td>\n",
              "      <td>Danquah</td>\n",
              "      <td></td>\n",
              "      <td>PI</td>\n",
              "      <td>grant.13219531</td>\n",
              "      <td>Spatio-temporal modelling of climate variabili...</td>\n",
              "      <td>2023-10-01</td>\n",
              "      <td>2026-09-30</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>4</th>\n",
              "      <td>[{'city': None, 'city_id': '184745', 'country'...</td>\n",
              "      <td>Stephen</td>\n",
              "      <td>ur.01363557726.68</td>\n",
              "      <td>Munga</td>\n",
              "      <td></td>\n",
              "      <td>Co-PI</td>\n",
              "      <td>grant.13219531</td>\n",
              "      <td>Spatio-temporal modelling of climate variabili...</td>\n",
              "      <td>2023-10-01</td>\n",
              "      <td>2026-09-30</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>5</th>\n",
              "      <td>[{'city': None, 'city_id': '2357163', 'country...</td>\n",
              "      <td>Ali</td>\n",
              "      <td>ur.01057017117.60</td>\n",
              "      <td>Sié</td>\n",
              "      <td></td>\n",
              "      <td>Co-PI</td>\n",
              "      <td>grant.13219531</td>\n",
              "      <td>Spatio-temporal modelling of climate variabili...</td>\n",
              "      <td>2023-10-01</td>\n",
              "      <td>2026-09-30</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>6</th>\n",
              "      <td>[{'city': 'SAN ANTONIO', 'city_id': '4726206',...</td>\n",
              "      <td>Zhuolin</td>\n",
              "      <td>None</td>\n",
              "      <td>Qu</td>\n",
              "      <td>None</td>\n",
              "      <td>PI</td>\n",
              "      <td>grant.13535333</td>\n",
              "      <td>LEAPS-MPS: Development of Novel Multistage Mod...</td>\n",
              "      <td>2023-09-01</td>\n",
              "      <td>2025-08-31</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>7</th>\n",
              "      <td>[{'city': None, 'city_id': '2648579', 'country...</td>\n",
              "      <td>Matthias</td>\n",
              "      <td>ur.01315014330.55</td>\n",
              "      <td>Marti</td>\n",
              "      <td></td>\n",
              "      <td>PI</td>\n",
              "      <td>grant.13306682</td>\n",
              "      <td>Defining molecular determinants of Plasmodium ...</td>\n",
              "      <td>2023-08-31</td>\n",
              "      <td>2025-08-30</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>8</th>\n",
              "      <td>[{'city': None, 'city_id': '2648579', 'country...</td>\n",
              "      <td>Barbara</td>\n",
              "      <td>ur.013052533674.51</td>\n",
              "      <td>Stokes</td>\n",
              "      <td>Hoyt</td>\n",
              "      <td>PI</td>\n",
              "      <td>grant.13306682</td>\n",
              "      <td>Defining molecular determinants of Plasmodium ...</td>\n",
              "      <td>2023-08-31</td>\n",
              "      <td>2025-08-30</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>9</th>\n",
              "      <td>NaN</td>\n",
              "      <td>Victor</td>\n",
              "      <td>None</td>\n",
              "      <td>Yman</td>\n",
              "      <td></td>\n",
              "      <td>PI</td>\n",
              "      <td>grant.13528667</td>\n",
              "      <td>Integrated serological surveillance of malaria...</td>\n",
              "      <td>2023-07-01</td>\n",
              "      <td>2026-06-30</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-79ac3e5e-b812-461d-97cf-653d54293ab3')\"\n",
              "              title=\"Convert this dataframe to an interactive table.\"\n",
              "              style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "       width=\"24px\">\n",
              "    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n",
              "    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n",
              "  </svg>\n",
              "      </button>\n",
              "\n",
              "\n",
              "\n",
              "    <div id=\"df-2c9b7c9f-388a-466a-a6e4-3938c73725be\">\n",
              "      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-2c9b7c9f-388a-466a-a6e4-3938c73725be')\"\n",
              "              title=\"Suggest charts.\"\n",
              "              style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "      </button>\n",
              "    </div>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "    background-color: #E8F0FE;\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: #1967D2;\n",
              "    height: 32px;\n",
              "    padding: 0 0 0 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: #E2EBFA;\n",
              "    box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: #174EA6;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "    background-color: #3B4455;\n",
              "    fill: #D2E3FC;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart:hover {\n",
              "    background-color: #434B5C;\n",
              "    box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "    filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "    fill: #FFFFFF;\n",
              "  }\n",
              "</style>\n",
              "\n",
              "    <script>\n",
              "      async function quickchart(key) {\n",
              "        const containerElement = document.querySelector('#' + key);\n",
              "        const charts = await google.colab.kernel.invokeFunction(\n",
              "            'suggestCharts', [key], {});\n",
              "      }\n",
              "    </script>\n",
              "\n",
              "      <script>\n",
              "\n",
              "function displayQuickchartButton(domScope) {\n",
              "  let quickchartButtonEl =\n",
              "    domScope.querySelector('#df-2c9b7c9f-388a-466a-a6e4-3938c73725be button.colab-df-quickchart');\n",
              "  quickchartButtonEl.style.display =\n",
              "    google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "}\n",
              "\n",
              "        displayQuickchartButton(document);\n",
              "      </script>\n",
              "      <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      flex-wrap:wrap;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "      <script>\n",
              "        const buttonEl =\n",
              "          document.querySelector('#df-79ac3e5e-b812-461d-97cf-653d54293ab3 button.colab-df-convert');\n",
              "        buttonEl.style.display =\n",
              "          google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "        async function convertToInteractive(key) {\n",
              "          const element = document.querySelector('#df-79ac3e5e-b812-461d-97cf-653d54293ab3');\n",
              "          const dataTable =\n",
              "            await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                     [key], {});\n",
              "          if (!dataTable) return;\n",
              "\n",
              "          const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "            + ' to learn more about interactive tables.';\n",
              "          element.innerHTML = '';\n",
              "          dataTable['output_type'] = 'display_data';\n",
              "          await google.colab.output.renderOutput(dataTable, element);\n",
              "          const docLink = document.createElement('div');\n",
              "          docLink.innerHTML = docLinkHtml;\n",
              "          element.appendChild(docLink);\n",
              "        }\n",
              "      </script>\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.module+javascript": "\n      import \"https://ssl.gstatic.com/colaboratory/data_table/881c4a0d49046431/data_table.js\";\n\n      const table = window.createDataTable({\n        data: [[{\n            'v': 0,\n            'f': \"0\",\n        },\n[\"{'city': 'Melbourne', 'city_id': '2158177', 'country': None, 'country_code': 'AU', 'id': None, 'name': 'Malaria Virulence and Drug Discovery Group The Burnet Institute for Medical Research', 'state': None, 'state_code': 'AU-VIC'}\"],\n\"Coralie\",\nnull,\n\"Boulet\",\n\"\",\n\"PI\",\n\"grant.13535694\",\n\"Regulation of Plasmodium falciparum egress from the host erythrocyte by ubiquitination\",\n\"2024-02-01\",\n\"2026-01-31\"],\n [{\n            'v': 1,\n            'f': \"1\",\n        },\n[\"{'city': 'S\\u00e3o Paulo', 'city_id': '3448439', 'country': 'Brazil', 'country_code': 'BR', 'id': 'grid.11899.38', 'name': 'Universidade de S\\u00e3o Paulo ', 'state': 'SP', 'state_code': None}\"],\n\"C\\u00e9lia\",\n\"ur.01311140517.22\",\n\"da Silva Garcia\",\n\"Regina\",\n\"PI\",\n\"grant.9698278\",\n\"Calcium signaling in Plasmodium falciparum gametocytes\",\n\"2023-11-01\",\n\"2023-12-15\"],\n [{\n            'v': 2,\n            'f': \"2\",\n        },\n[\"{'city': 'Allschwil 3', 'city_id': '2661604', 'country': None, 'country_code': 'CH', 'id': 'grid.416786.a', 'name': 'Swiss Tropical and Public Health Institute MPI department HDDU-HIB', 'state': None, 'state_code': None}\"],\n\"Penelope\",\n\"ur.01356421006.17\",\n\"Vounatsou\",\n\"\",\n\"PI\",\n\"grant.13219531\",\n\"Spatio-temporal modelling of climate variability and malaria transmission across time scales  to assess causality, improve forecasting and strengthen early warning\",\n\"2023-10-01\",\n\"2026-09-30\"],\n [{\n            'v': 3,\n            'f': \"3\",\n        },\n[\"{'city': 'Heidelberg', 'city_id': '2907911', 'country': None, 'country_code': 'DE', 'id': 'grid.5253.1', 'name': 'AG Molekulare Hepatopathologie Pathologisches Institut Universit\\u00e4tsklinikum Heidelberg', 'state': None, 'state_code': None}\"],\n\"Ina\",\n\"ur.01006224125.53\",\n\"Danquah\",\n\"\",\n\"PI\",\n\"grant.13219531\",\n\"Spatio-temporal modelling of climate variability and malaria transmission across time scales  to assess causality, improve forecasting and strengthen early warning\",\n\"2023-10-01\",\n\"2026-09-30\"],\n [{\n            'v': 4,\n            'f': \"4\",\n        },\n[\"{'city': None, 'city_id': '184745', 'country': None, 'country_code': 'KE', 'id': 'grid.33058.3d', 'name': 'Kenya Medical Research Institute (KEMRI)', 'state': None, 'state_code': None}\"],\n\"Stephen\",\n\"ur.01363557726.68\",\n\"Munga\",\n\"\",\n\"Co-PI\",\n\"grant.13219531\",\n\"Spatio-temporal modelling of climate variability and malaria transmission across time scales  to assess causality, improve forecasting and strengthen early warning\",\n\"2023-10-01\",\n\"2026-09-30\"],\n [{\n            'v': 5,\n            'f': \"5\",\n        },\n[\"{'city': None, 'city_id': '2357163', 'country': None, 'country_code': 'BF', 'id': 'grid.450607.0', 'name': 'Centre de Recherche en Sant\\u00e9 de Nouna', 'state': None, 'state_code': None}\"],\n\"Ali\",\n\"ur.01057017117.60\",\n\"Si\\u00e9\",\n\"\",\n\"Co-PI\",\n\"grant.13219531\",\n\"Spatio-temporal modelling of climate variability and malaria transmission across time scales  to assess causality, improve forecasting and strengthen early warning\",\n\"2023-10-01\",\n\"2026-09-30\"],\n [{\n            'v': 6,\n            'f': \"6\",\n        },\n[\"{'city': 'SAN ANTONIO', 'city_id': '4726206', 'country': 'United States', 'country_code': 'US', 'id': 'grid.215352.2', 'name': 'University of Texas at San Antonio', 'state': 'TX', 'state_code': 'US-TX'}\"],\n\"Zhuolin\",\nnull,\n\"Qu\",\nnull,\n\"PI\",\n\"grant.13535333\",\n\"LEAPS-MPS: Development of Novel Multistage Models for Wolbachia-Based Strategies to Control Mosquito-Borne diseases\",\n\"2023-09-01\",\n\"2025-08-31\"],\n [{\n            'v': 7,\n            'f': \"7\",\n        },\n[\"{'city': None, 'city_id': '2648579', 'country': 'United Kingdom', 'country_code': 'GB', 'id': 'grid.8756.c', 'name': 'University of Glasgow', 'state': None, 'state_code': None}\"],\n\"Matthias\",\n\"ur.01315014330.55\",\n\"Marti\",\n\"\",\n\"PI\",\n\"grant.13306682\",\n\"Defining molecular determinants of Plasmodium falciparum hematopoietic infection using single cell profiling and genetics\",\n\"2023-08-31\",\n\"2025-08-30\"],\n [{\n            'v': 8,\n            'f': \"8\",\n        },\n[\"{'city': None, 'city_id': '2648579', 'country': 'United Kingdom', 'country_code': 'GB', 'id': 'grid.8756.c', 'name': 'University of Glasgow', 'state': None, 'state_code': None}\"],\n\"Barbara\",\n\"ur.013052533674.51\",\n\"Stokes\",\n\"Hoyt\",\n\"PI\",\n\"grant.13306682\",\n\"Defining molecular determinants of Plasmodium falciparum hematopoietic infection using single cell profiling and genetics\",\n\"2023-08-31\",\n\"2025-08-30\"],\n [{\n            'v': 9,\n            'f': \"9\",\n        },\nNaN,\n\"Victor\",\nnull,\n\"Yman\",\n\"\",\n\"PI\",\n\"grant.13528667\",\n\"Integrated serological surveillance of malaria and mosquito transmitted viruses\",\n\"2023-07-01\",\n\"2026-06-30\"]],\n        columns: [[\"number\", \"index\"], [\"string\", \"affiliations\"], [\"string\", \"first_name\"], [\"string\", \"id\"], [\"string\", \"last_name\"], [\"string\", \"middle_name\"], [\"string\", \"role\"], [\"string\", \"grant_id\"], [\"string\", \"grant_title\"], [\"string\", \"grant_start_date\"], [\"string\", \"grant_end_date\"]],\n        columnOptions: [{\"width\": \"1px\", \"className\": \"index_column\"}],\n        rowsPerPage: 25,\n        helpUrl: \"https://colab.research.google.com/notebooks/data_table.ipynb\",\n        suppressOutputScrolling: true,\n        minimumWidth: undefined,\n      });\n      \n      function appendQuickchartButton(parentElement) {\n        let quickchartButtonContainerElement = document.createElement('div');\n        quickchartButtonContainerElement.innerHTML = `\n    <div id=\"df-6742ef19-c186-4f6d-a8cd-0dc916cf60c3\">\n      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-6742ef19-c186-4f6d-a8cd-0dc916cf60c3')\"\n              title=\"Suggest charts.\"\n              style=\"display:none;\">\n\n<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n     width=\"24px\">\n    <g>\n        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n    </g>\n</svg>\n      </button>\n    </div>\n\n<style>\n  .colab-df-quickchart {\n    background-color: #E8F0FE;\n    border: none;\n    border-radius: 50%;\n    cursor: pointer;\n    display: none;\n    fill: #1967D2;\n    height: 32px;\n    padding: 0 0 0 0;\n    width: 32px;\n  }\n\n  .colab-df-quickchart:hover {\n    background-color: #E2EBFA;\n    box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n    fill: #174EA6;\n  }\n\n  [theme=dark] .colab-df-quickchart {\n    background-color: #3B4455;\n    fill: #D2E3FC;\n  }\n\n  [theme=dark] .colab-df-quickchart:hover {\n    background-color: #434B5C;\n    box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n    filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n    fill: #FFFFFF;\n  }\n</style>\n\n    <script>\n      async function quickchart(key) {\n        const containerElement = document.querySelector('#' + key);\n        const charts = await google.colab.kernel.invokeFunction(\n            'suggestCharts', [key], {});\n      }\n    </script>\n`;\n        parentElement.appendChild(quickchartButtonContainerElement);\n        \nfunction displayQuickchartButton(domScope) {\n  let quickchartButtonEl =\n    domScope.querySelector('#df-6742ef19-c186-4f6d-a8cd-0dc916cf60c3 button.colab-df-quickchart');\n  quickchartButtonEl.style.display =\n    google.colab.kernel.accessAllowed ? 'block' : 'none';\n}\n\n        displayQuickchartButton(parentElement);\n      }\n\n      appendQuickchartButton(table);\n    "
          },
          "metadata": {},
          "execution_count": 18
        }
      ],
      "source": [
        "res.as_dataframe_investigators().head(10)"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "Collapsed": "false",
        "id": "kzfxeiIABCI3"
      },
      "source": [
        "## 4. Dataframe Methods for 'Concepts' queries\n",
        "\n",
        "These methods can be used with all content types that support the extraction of concepts, i.e., `publications` or `grants`. See the [official documentation](https://docs.dimensions.ai/dsl/data-sources.html) for more details."
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "Collapsed": "false",
        "id": "PQ6N6A7KBCI3"
      },
      "source": [
        "### Extracting Concepts: `as_dataframe_concepts`\n",
        "\n",
        "The `as_dataframe_concepts` method allows to quickly extract all concepts attached to a record, **one row per concept**, so to make it easier to do operations like counting or plotting the results.\n",
        "\n",
        "NOTE: concepts are normalized *noun phrases* describing the main topics of a document, which are automatically derived from the full text  using machine learning. In the JSON data, concepts are available as an ordered list (=first items are the most relevant), including a relevance score. E.g. for the publications with ID 'pub.1122072646':\n",
        "\n",
        "```\n",
        "{'id': 'pub.1122072646',\n",
        "'concepts_scores': [{'concept': 'acid', 'relevance': 0.07450046286579201},\n",
        "                    {'concept': 'conversion', 'relevance': 0.055053872555463006},\n",
        "                    {'concept': 'formic acid', 'relevance': 0.048144671935356},\n",
        "                    {'concept': 'CO2', 'relevance': 0.032150964737607}\n",
        "                    [........]\n",
        "                    ],\n",
        " }\n",
        "```\n",
        "\n",
        "The `as_dataframe_concepts` extracts all concepts data from JSON to a dataframe (ps this is functionally similarly to pandas's [explode method](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.explode.html)). Moreover, it automatically creates a number of metrics that can be used to carry out further analyses, like `frequency` and `score_avg`."
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 19,
      "metadata": {
        "Collapsed": "false",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 299
        },
        "id": "xc8fYGZtBCI3",
        "outputId": "dd2f5478-7f37-40e0-dc32-1e6993b84617"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "Returned Publications: 100 (total = 119841)\n",
            "\u001b[2mTime: 0.63s\u001b[0m\n",
            "Concepts found:  5076\n",
            "Unique:  3233\n"
          ]
        },
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "               id                                              title  year  \\\n",
              "0  pub.1146069136  Physical Characteristics of Cement Mortar Prep...  2019   \n",
              "1  pub.1146069136  Physical Characteristics of Cement Mortar Prep...  2019   \n",
              "2  pub.1146069136  Physical Characteristics of Cement Mortar Prep...  2019   \n",
              "3  pub.1146069136  Physical Characteristics of Cement Mortar Prep...  2019   \n",
              "4  pub.1146069136  Physical Characteristics of Cement Mortar Prep...  2019   \n",
              "\n",
              "   concepts_count                   concept  score  frequency  score_avg  \n",
              "0               7           characteristics  0.070         10    0.30910  \n",
              "1               7  physical characteristics  0.068          1    0.06800  \n",
              "2               7                     oxide  0.058         13    0.42938  \n",
              "3               7                  Prepared  0.046          1    0.04600  \n",
              "4               7                     glass  0.026          2    0.22250  "
            ],
            "text/html": [
              "\n",
              "\n",
              "  <div id=\"df-4d6ef860-a792-499e-89ec-bbddf71d3706\">\n",
              "    <div class=\"colab-df-container\">\n",
              "      <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>id</th>\n",
              "      <th>title</th>\n",
              "      <th>year</th>\n",
              "      <th>concepts_count</th>\n",
              "      <th>concept</th>\n",
              "      <th>score</th>\n",
              "      <th>frequency</th>\n",
              "      <th>score_avg</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>0</th>\n",
              "      <td>pub.1146069136</td>\n",
              "      <td>Physical Characteristics of Cement Mortar Prep...</td>\n",
              "      <td>2019</td>\n",
              "      <td>7</td>\n",
              "      <td>characteristics</td>\n",
              "      <td>0.070</td>\n",
              "      <td>10</td>\n",
              "      <td>0.30910</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1</th>\n",
              "      <td>pub.1146069136</td>\n",
              "      <td>Physical Characteristics of Cement Mortar Prep...</td>\n",
              "      <td>2019</td>\n",
              "      <td>7</td>\n",
              "      <td>physical characteristics</td>\n",
              "      <td>0.068</td>\n",
              "      <td>1</td>\n",
              "      <td>0.06800</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>2</th>\n",
              "      <td>pub.1146069136</td>\n",
              "      <td>Physical Characteristics of Cement Mortar Prep...</td>\n",
              "      <td>2019</td>\n",
              "      <td>7</td>\n",
              "      <td>oxide</td>\n",
              "      <td>0.058</td>\n",
              "      <td>13</td>\n",
              "      <td>0.42938</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>3</th>\n",
              "      <td>pub.1146069136</td>\n",
              "      <td>Physical Characteristics of Cement Mortar Prep...</td>\n",
              "      <td>2019</td>\n",
              "      <td>7</td>\n",
              "      <td>Prepared</td>\n",
              "      <td>0.046</td>\n",
              "      <td>1</td>\n",
              "      <td>0.04600</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>4</th>\n",
              "      <td>pub.1146069136</td>\n",
              "      <td>Physical Characteristics of Cement Mortar Prep...</td>\n",
              "      <td>2019</td>\n",
              "      <td>7</td>\n",
              "      <td>glass</td>\n",
              "      <td>0.026</td>\n",
              "      <td>2</td>\n",
              "      <td>0.22250</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-4d6ef860-a792-499e-89ec-bbddf71d3706')\"\n",
              "              title=\"Convert this dataframe to an interactive table.\"\n",
              "              style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "       width=\"24px\">\n",
              "    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n",
              "    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n",
              "  </svg>\n",
              "      </button>\n",
              "\n",
              "\n",
              "\n",
              "    <div id=\"df-779b9d48-29c5-4745-91f0-8cd358b11a17\">\n",
              "      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-779b9d48-29c5-4745-91f0-8cd358b11a17')\"\n",
              "              title=\"Suggest charts.\"\n",
              "              style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "      </button>\n",
              "    </div>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "    background-color: #E8F0FE;\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: #1967D2;\n",
              "    height: 32px;\n",
              "    padding: 0 0 0 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: #E2EBFA;\n",
              "    box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: #174EA6;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "    background-color: #3B4455;\n",
              "    fill: #D2E3FC;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart:hover {\n",
              "    background-color: #434B5C;\n",
              "    box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "    filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "    fill: #FFFFFF;\n",
              "  }\n",
              "</style>\n",
              "\n",
              "    <script>\n",
              "      async function quickchart(key) {\n",
              "        const containerElement = document.querySelector('#' + key);\n",
              "        const charts = await google.colab.kernel.invokeFunction(\n",
              "            'suggestCharts', [key], {});\n",
              "      }\n",
              "    </script>\n",
              "\n",
              "      <script>\n",
              "\n",
              "function displayQuickchartButton(domScope) {\n",
              "  let quickchartButtonEl =\n",
              "    domScope.querySelector('#df-779b9d48-29c5-4745-91f0-8cd358b11a17 button.colab-df-quickchart');\n",
              "  quickchartButtonEl.style.display =\n",
              "    google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "}\n",
              "\n",
              "        displayQuickchartButton(document);\n",
              "      </script>\n",
              "      <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      flex-wrap:wrap;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "      <script>\n",
              "        const buttonEl =\n",
              "          document.querySelector('#df-4d6ef860-a792-499e-89ec-bbddf71d3706 button.colab-df-convert');\n",
              "        buttonEl.style.display =\n",
              "          google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "        async function convertToInteractive(key) {\n",
              "          const element = document.querySelector('#df-4d6ef860-a792-499e-89ec-bbddf71d3706');\n",
              "          const dataTable =\n",
              "            await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                     [key], {});\n",
              "          if (!dataTable) return;\n",
              "\n",
              "          const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "            + ' to learn more about interactive tables.';\n",
              "          element.innerHTML = '';\n",
              "          dataTable['output_type'] = 'display_data';\n",
              "          await google.colab.output.renderOutput(dataTable, element);\n",
              "          const docLink = document.createElement('div');\n",
              "          docLink.innerHTML = docLinkHtml;\n",
              "          element.appendChild(docLink);\n",
              "        }\n",
              "      </script>\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.module+javascript": "\n      import \"https://ssl.gstatic.com/colaboratory/data_table/881c4a0d49046431/data_table.js\";\n\n      const table = window.createDataTable({\n        data: [[{\n            'v': 0,\n            'f': \"0\",\n        },\n\"pub.1146069136\",\n\"Physical Characteristics of Cement Mortar Prepared Using Waste Glass and Graphene Oxide\",\n{\n            'v': 2019,\n            'f': \"2019\",\n        },\n{\n            'v': 7,\n            'f': \"7\",\n        },\n\"characteristics\",\n{\n            'v': 0.07,\n            'f': \"0.07\",\n        },\n{\n            'v': 10,\n            'f': \"10\",\n        },\n{\n            'v': 0.3091,\n            'f': \"0.3091\",\n        }],\n [{\n            'v': 1,\n            'f': \"1\",\n        },\n\"pub.1146069136\",\n\"Physical Characteristics of Cement Mortar Prepared Using Waste Glass and Graphene Oxide\",\n{\n            'v': 2019,\n            'f': \"2019\",\n        },\n{\n            'v': 7,\n            'f': \"7\",\n        },\n\"physical characteristics\",\n{\n            'v': 0.068,\n            'f': \"0.068\",\n        },\n{\n            'v': 1,\n            'f': \"1\",\n        },\n{\n            'v': 0.068,\n            'f': \"0.068\",\n        }],\n [{\n            'v': 2,\n            'f': \"2\",\n        },\n\"pub.1146069136\",\n\"Physical Characteristics of Cement Mortar Prepared Using Waste Glass and Graphene Oxide\",\n{\n            'v': 2019,\n            'f': \"2019\",\n        },\n{\n            'v': 7,\n            'f': \"7\",\n        },\n\"oxide\",\n{\n            'v': 0.058,\n            'f': \"0.058\",\n        },\n{\n            'v': 13,\n            'f': \"13\",\n        },\n{\n            'v': 0.42938,\n            'f': \"0.42938\",\n        }],\n [{\n            'v': 3,\n            'f': \"3\",\n        },\n\"pub.1146069136\",\n\"Physical Characteristics of Cement Mortar Prepared Using Waste Glass and Graphene Oxide\",\n{\n            'v': 2019,\n            'f': \"2019\",\n        },\n{\n            'v': 7,\n            'f': \"7\",\n        },\n\"Prepared\",\n{\n            'v': 0.046,\n            'f': \"0.046\",\n        },\n{\n            'v': 1,\n            'f': \"1\",\n        },\n{\n            'v': 0.046,\n            'f': \"0.046\",\n        }],\n [{\n            'v': 4,\n            'f': \"4\",\n        },\n\"pub.1146069136\",\n\"Physical Characteristics of Cement Mortar Prepared Using Waste Glass and Graphene Oxide\",\n{\n            'v': 2019,\n            'f': \"2019\",\n        },\n{\n            'v': 7,\n            'f': \"7\",\n        },\n\"glass\",\n{\n            'v': 0.026,\n            'f': \"0.026\",\n        },\n{\n            'v': 2,\n            'f': \"2\",\n        },\n{\n            'v': 0.2225,\n            'f': \"0.2225\",\n        }]],\n        columns: [[\"number\", \"index\"], [\"string\", \"id\"], [\"string\", \"title\"], [\"number\", \"year\"], [\"number\", \"concepts_count\"], [\"string\", \"concept\"], [\"number\", \"score\"], [\"number\", \"frequency\"], [\"number\", \"score_avg\"]],\n        columnOptions: [{\"width\": \"1px\", \"className\": \"index_column\"}],\n        rowsPerPage: 25,\n        helpUrl: \"https://colab.research.google.com/notebooks/data_table.ipynb\",\n        suppressOutputScrolling: true,\n        minimumWidth: undefined,\n      });\n      \n      function appendQuickchartButton(parentElement) {\n        let quickchartButtonContainerElement = document.createElement('div');\n        quickchartButtonContainerElement.innerHTML = `\n    <div id=\"df-b41e11d6-8a69-473a-886d-75a5c4dabadf\">\n      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-b41e11d6-8a69-473a-886d-75a5c4dabadf')\"\n              title=\"Suggest charts.\"\n              style=\"display:none;\">\n\n<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n     width=\"24px\">\n    <g>\n        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n    </g>\n</svg>\n      </button>\n    </div>\n\n<style>\n  .colab-df-quickchart {\n    background-color: #E8F0FE;\n    border: none;\n    border-radius: 50%;\n    cursor: pointer;\n    display: none;\n    fill: #1967D2;\n    height: 32px;\n    padding: 0 0 0 0;\n    width: 32px;\n  }\n\n  .colab-df-quickchart:hover {\n    background-color: #E2EBFA;\n    box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n    fill: #174EA6;\n  }\n\n  [theme=dark] .colab-df-quickchart {\n    background-color: #3B4455;\n    fill: #D2E3FC;\n  }\n\n  [theme=dark] .colab-df-quickchart:hover {\n    background-color: #434B5C;\n    box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n    filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n    fill: #FFFFFF;\n  }\n</style>\n\n    <script>\n      async function quickchart(key) {\n        const containerElement = document.querySelector('#' + key);\n        const charts = await google.colab.kernel.invokeFunction(\n            'suggestCharts', [key], {});\n      }\n    </script>\n`;\n        parentElement.appendChild(quickchartButtonContainerElement);\n        \nfunction displayQuickchartButton(domScope) {\n  let quickchartButtonEl =\n    domScope.querySelector('#df-b41e11d6-8a69-473a-886d-75a5c4dabadf button.colab-df-quickchart');\n  quickchartButtonEl.style.display =\n    google.colab.kernel.accessAllowed ? 'block' : 'none';\n}\n\n        displayQuickchartButton(parentElement);\n      }\n\n      appendQuickchartButton(table);\n    "
          },
          "metadata": {},
          "execution_count": 19
        }
      ],
      "source": [
        "q = \"\"\"search publications for \"graphene\"\n",
        "            where year=2019\n",
        "       return publications[id+title+year+concepts_scores] limit 100\"\"\"\n",
        "\n",
        "concepts = dsl.query(q).as_dataframe_concepts()\n",
        "\n",
        "print(\"Concepts found: \", len(concepts))\n",
        "print(\"Unique: \", len(concepts.drop_duplicates(\"concept\")))\n",
        "\n",
        "concepts.head()"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 20,
      "metadata": {
        "Collapsed": "false",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 337
        },
        "id": "NyZrwMZABCI3",
        "outputId": "bc32f2dd-105a-4d01-a469-db6a965863d3"
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "                                               concept  score_avg\n",
              "1693                   mesoporous silica nanoparticles      0.918\n",
              "558   two-dimensional transition metal dichalcogenides      0.916\n",
              "3216                            quantum state transfer      0.906\n",
              "559                                spin-orbit coupling      0.901\n",
              "4377                                 MoP/SiO2 catalyst      0.886\n",
              "3699                       hydrogen evolution reaction      0.884\n",
              "3700                         oxygen reduction reaction      0.879\n",
              "2862                             silica nano particles      0.871\n",
              "560                           quantum spin Hall effect      0.870\n",
              "561                          Ising spin-orbit coupling      0.868"
            ],
            "text/html": [
              "\n",
              "\n",
              "  <div id=\"df-84812cbf-3411-4016-9af6-ddd295bfbf34\">\n",
              "    <div class=\"colab-df-container\">\n",
              "      <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>concept</th>\n",
              "      <th>score_avg</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>1693</th>\n",
              "      <td>mesoporous silica nanoparticles</td>\n",
              "      <td>0.918</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>558</th>\n",
              "      <td>two-dimensional transition metal dichalcogenides</td>\n",
              "      <td>0.916</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>3216</th>\n",
              "      <td>quantum state transfer</td>\n",
              "      <td>0.906</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>559</th>\n",
              "      <td>spin-orbit coupling</td>\n",
              "      <td>0.901</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>4377</th>\n",
              "      <td>MoP/SiO2 catalyst</td>\n",
              "      <td>0.886</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>3699</th>\n",
              "      <td>hydrogen evolution reaction</td>\n",
              "      <td>0.884</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>3700</th>\n",
              "      <td>oxygen reduction reaction</td>\n",
              "      <td>0.879</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>2862</th>\n",
              "      <td>silica nano particles</td>\n",
              "      <td>0.871</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>560</th>\n",
              "      <td>quantum spin Hall effect</td>\n",
              "      <td>0.870</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>561</th>\n",
              "      <td>Ising spin-orbit coupling</td>\n",
              "      <td>0.868</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-84812cbf-3411-4016-9af6-ddd295bfbf34')\"\n",
              "              title=\"Convert this dataframe to an interactive table.\"\n",
              "              style=\"display:none;\">\n",
              "\n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "       width=\"24px\">\n",
              "    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n",
              "    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n",
              "  </svg>\n",
              "      </button>\n",
              "\n",
              "\n",
              "\n",
              "    <div id=\"df-3d07bacf-5e1e-4c59-9128-0675612d52d4\">\n",
              "      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-3d07bacf-5e1e-4c59-9128-0675612d52d4')\"\n",
              "              title=\"Suggest charts.\"\n",
              "              style=\"display:none;\">\n",
              "\n",
              "<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "     width=\"24px\">\n",
              "    <g>\n",
              "        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n",
              "    </g>\n",
              "</svg>\n",
              "      </button>\n",
              "    </div>\n",
              "\n",
              "<style>\n",
              "  .colab-df-quickchart {\n",
              "    background-color: #E8F0FE;\n",
              "    border: none;\n",
              "    border-radius: 50%;\n",
              "    cursor: pointer;\n",
              "    display: none;\n",
              "    fill: #1967D2;\n",
              "    height: 32px;\n",
              "    padding: 0 0 0 0;\n",
              "    width: 32px;\n",
              "  }\n",
              "\n",
              "  .colab-df-quickchart:hover {\n",
              "    background-color: #E2EBFA;\n",
              "    box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "    fill: #174EA6;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart {\n",
              "    background-color: #3B4455;\n",
              "    fill: #D2E3FC;\n",
              "  }\n",
              "\n",
              "  [theme=dark] .colab-df-quickchart:hover {\n",
              "    background-color: #434B5C;\n",
              "    box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "    filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "    fill: #FFFFFF;\n",
              "  }\n",
              "</style>\n",
              "\n",
              "    <script>\n",
              "      async function quickchart(key) {\n",
              "        const containerElement = document.querySelector('#' + key);\n",
              "        const charts = await google.colab.kernel.invokeFunction(\n",
              "            'suggestCharts', [key], {});\n",
              "      }\n",
              "    </script>\n",
              "\n",
              "      <script>\n",
              "\n",
              "function displayQuickchartButton(domScope) {\n",
              "  let quickchartButtonEl =\n",
              "    domScope.querySelector('#df-3d07bacf-5e1e-4c59-9128-0675612d52d4 button.colab-df-quickchart');\n",
              "  quickchartButtonEl.style.display =\n",
              "    google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "}\n",
              "\n",
              "        displayQuickchartButton(document);\n",
              "      </script>\n",
              "      <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      flex-wrap:wrap;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "      <script>\n",
              "        const buttonEl =\n",
              "          document.querySelector('#df-84812cbf-3411-4016-9af6-ddd295bfbf34 button.colab-df-convert');\n",
              "        buttonEl.style.display =\n",
              "          google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "        async function convertToInteractive(key) {\n",
              "          const element = document.querySelector('#df-84812cbf-3411-4016-9af6-ddd295bfbf34');\n",
              "          const dataTable =\n",
              "            await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                     [key], {});\n",
              "          if (!dataTable) return;\n",
              "\n",
              "          const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "            + ' to learn more about interactive tables.';\n",
              "          element.innerHTML = '';\n",
              "          dataTable['output_type'] = 'display_data';\n",
              "          await google.colab.output.renderOutput(dataTable, element);\n",
              "          const docLink = document.createElement('div');\n",
              "          docLink.innerHTML = docLinkHtml;\n",
              "          element.appendChild(docLink);\n",
              "        }\n",
              "      </script>\n",
              "    </div>\n",
              "  </div>\n"
            ],
            "application/vnd.google.colaboratory.module+javascript": "\n      import \"https://ssl.gstatic.com/colaboratory/data_table/881c4a0d49046431/data_table.js\";\n\n      const table = window.createDataTable({\n        data: [[{\n            'v': 1693,\n            'f': \"1693\",\n        },\n\"mesoporous silica nanoparticles\",\n{\n            'v': 0.918,\n            'f': \"0.918\",\n        }],\n [{\n            'v': 558,\n            'f': \"558\",\n        },\n\"two-dimensional transition metal dichalcogenides\",\n{\n            'v': 0.916,\n            'f': \"0.916\",\n        }],\n [{\n            'v': 3216,\n            'f': \"3216\",\n        },\n\"quantum state transfer\",\n{\n            'v': 0.906,\n            'f': \"0.906\",\n        }],\n [{\n            'v': 559,\n            'f': \"559\",\n        },\n\"spin-orbit coupling\",\n{\n            'v': 0.901,\n            'f': \"0.901\",\n        }],\n [{\n            'v': 4377,\n            'f': \"4377\",\n        },\n\"MoP/SiO2 catalyst\",\n{\n            'v': 0.886,\n            'f': \"0.886\",\n        }],\n [{\n            'v': 3699,\n            'f': \"3699\",\n        },\n\"hydrogen evolution reaction\",\n{\n            'v': 0.884,\n            'f': \"0.884\",\n        }],\n [{\n            'v': 3700,\n            'f': \"3700\",\n        },\n\"oxygen reduction reaction\",\n{\n            'v': 0.879,\n            'f': \"0.879\",\n        }],\n [{\n            'v': 2862,\n            'f': \"2862\",\n        },\n\"silica nano particles\",\n{\n            'v': 0.871,\n            'f': \"0.871\",\n        }],\n [{\n            'v': 560,\n            'f': \"560\",\n        },\n\"quantum spin Hall effect\",\n{\n            'v': 0.87,\n            'f': \"0.87\",\n        }],\n [{\n            'v': 561,\n            'f': \"561\",\n        },\n\"Ising spin-orbit coupling\",\n{\n            'v': 0.868,\n            'f': \"0.868\",\n        }]],\n        columns: [[\"number\", \"index\"], [\"string\", \"concept\"], [\"number\", \"score_avg\"]],\n        columnOptions: [{\"width\": \"1px\", \"className\": \"index_column\"}],\n        rowsPerPage: 25,\n        helpUrl: \"https://colab.research.google.com/notebooks/data_table.ipynb\",\n        suppressOutputScrolling: true,\n        minimumWidth: undefined,\n      });\n      \n      function appendQuickchartButton(parentElement) {\n        let quickchartButtonContainerElement = document.createElement('div');\n        quickchartButtonContainerElement.innerHTML = `\n    <div id=\"df-a03f0c41-b8a7-4608-a913-6684b9b31c31\">\n      <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-a03f0c41-b8a7-4608-a913-6684b9b31c31')\"\n              title=\"Suggest charts.\"\n              style=\"display:none;\">\n\n<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n     width=\"24px\">\n    <g>\n        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n    </g>\n</svg>\n      </button>\n    </div>\n\n<style>\n  .colab-df-quickchart {\n    background-color: #E8F0FE;\n    border: none;\n    border-radius: 50%;\n    cursor: pointer;\n    display: none;\n    fill: #1967D2;\n    height: 32px;\n    padding: 0 0 0 0;\n    width: 32px;\n  }\n\n  .colab-df-quickchart:hover {\n    background-color: #E2EBFA;\n    box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n    fill: #174EA6;\n  }\n\n  [theme=dark] .colab-df-quickchart {\n    background-color: #3B4455;\n    fill: #D2E3FC;\n  }\n\n  [theme=dark] .colab-df-quickchart:hover {\n    background-color: #434B5C;\n    box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n    filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n    fill: #FFFFFF;\n  }\n</style>\n\n    <script>\n      async function quickchart(key) {\n        const containerElement = document.querySelector('#' + key);\n        const charts = await google.colab.kernel.invokeFunction(\n            'suggestCharts', [key], {});\n      }\n    </script>\n`;\n        parentElement.appendChild(quickchartButtonContainerElement);\n        \nfunction displayQuickchartButton(domScope) {\n  let quickchartButtonEl =\n    domScope.querySelector('#df-a03f0c41-b8a7-4608-a913-6684b9b31c31 button.colab-df-quickchart');\n  quickchartButtonEl.style.display =\n    google.colab.kernel.accessAllowed ? 'block' : 'none';\n}\n\n        displayQuickchartButton(parentElement);\n      }\n\n      appendQuickchartButton(table);\n    "
          },
          "metadata": {},
          "execution_count": 20
        }
      ],
      "source": [
        "concepts.drop_duplicates(\"concept\").sort_values(\"score_avg\", ascending=False).head(10)[['concept', 'score_avg']]"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "Collapsed": "false",
        "id": "Q303kmI-BCI3"
      },
      "source": [
        "Please note that (as of version 1.25 of the DSL API) it is possible to return either `concepts_scores` or `concepts` with Publications queries, but only `concepts` with Grants queries.  \n",
        "\n",
        "If a relevancy score is not available, the `as_dataframe_concepts` function will simulate one based on the concept rank (=its position in the document-concepts list).  \n",
        "\n",
        "For more information on how to make use of `concepts` please see the [Topic Modeling Analysis Tutorial](https://api-lab.dimensions.ai/cookbooks/2-publications/Simple-topic-analysis.html) and the [Official documentation](https://docs.dimensions.ai/dsl/)."
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "Collapsed": "false",
        "id": "WkolG6VKR4Dj"
      },
      "source": [
        "## Conclusions\n",
        "\n",
        "Moving Dimensions API results to pandas dataframes **makes it easier** to **analyze the data** and **answer research questions**.\n",
        "\n",
        "Note: the examples above only scratch the surface of what can be done with pandas!\n",
        "\n",
        "> Tip: see also the *Dimcli: Magic Commands* notebook to find out what shortcuts are available for these dataframe methods."
      ]
    }
  ],
  "metadata": {
    "colab": {
      "provenance": [],
      "toc_visible": true
    },
    "kernel_info": {
      "name": "python3"
    },
    "kernelspec": {
      "display_name": "Python 3 (ipykernel)",
      "language": "python",
      "name": "python3"
    },
    "language_info": {
      "codemirror_mode": {
        "name": "ipython",
        "version": 3
      },
      "file_extension": ".py",
      "mimetype": "text/x-python",
      "name": "python",
      "nbconvert_exporter": "python",
      "pygments_lexer": "ipython3",
      "version": "3.11.3"
    },
    "nteract": {
      "version": "0.14.5"
    }
  },
  "nbformat": 4,
  "nbformat_minor": 0
}