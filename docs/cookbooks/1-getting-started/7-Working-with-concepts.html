

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Working with concepts in the Dimensions API &mdash; API Lab - reusable notebooks for research data analytics - powered by Dimensions Analytics API</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/js/custom.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="General Publication Statistics about a Research Organization" href="../2-publications/General-statistics.html" />
    <link rel="prev" title="Working with lists in the Dimensions API" href="6-Working-with-lists.html" />
    

   <script async src="https://www.googletagmanager.com/gtag/js?id=UA-149959808-1"></script>
   <!-- <script src="_static/js/custom.js"></script> -->


</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> DSL
          

          
            
            <img src="../../_static/dimensions-logo@2x.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          

   <p class="">
      <h3 id="cookbooks_title">API COOKBOOKS</h3>
   </p>


   
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="0-Verifying-your-connection.html">Verifying Your API Connection</a><ul>
<li class="toctree-l2"><a class="reference internal" href="0-Verifying-your-connection.html#Technical-prerequisites">Technical prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="0-Verifying-your-connection.html#Connecting-to-the-API">Connecting to the API</a></li>
<li class="toctree-l2"><a class="reference internal" href="0-Verifying-your-connection.html#Troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="1-Using-the-Dimcli-library-to-query-the-API.html">The Dimcli Python library: Installation and Querying</a><ul>
<li class="toctree-l2"><a class="reference internal" href="1-Using-the-Dimcli-library-to-query-the-API.html#Installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="1-Using-the-Dimcli-library-to-query-the-API.html#Authentication">Authentication</a><ul>
<li class="toctree-l3"><a class="reference internal" href="1-Using-the-Dimcli-library-to-query-the-API.html#More-secure-method:-storing-a-private-credentials-file">More secure method: storing a private credentials file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="1-Using-the-Dimcli-library-to-query-the-API.html#Querying">Querying</a><ul>
<li class="toctree-l3"><a class="reference internal" href="1-Using-the-Dimcli-library-to-query-the-API.html#Simple-Querying">Simple Querying</a></li>
<li class="toctree-l3"><a class="reference internal" href="1-Using-the-Dimcli-library-to-query-the-API.html#Iterative-querying-(loops)">Iterative querying (loops)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="1-Using-the-Dimcli-library-to-query-the-API.html#Command-line-interface">Command line interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="1-Using-the-Dimcli-library-to-query-the-API.html#Running-the-CLI">Running the CLI</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="3-Working-with-dataframes.html">The Dimcli Python library: Working with Pandas Dataframes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="3-Working-with-dataframes.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="3-Working-with-dataframes.html#1.-General-method-to-transform-JSON-query-results-into-a-dataframe">1. General method to transform JSON query results into a dataframe</a></li>
<li class="toctree-l2"><a class="reference internal" href="3-Working-with-dataframes.html#2.-Dataframe-Methods-for-‘Publications’-queries">2. Dataframe Methods for ‘Publications’ queries</a><ul>
<li class="toctree-l3"><a class="reference internal" href="3-Working-with-dataframes.html#Extracting-authors:-as_dataframe_authors">Extracting authors: <code class="docutils literal notranslate"><span class="pre">as_dataframe_authors</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="3-Working-with-dataframes.html#Extracting-Affiliations:-as_dataframe_authors_affiliations">Extracting Affiliations: <code class="docutils literal notranslate"><span class="pre">as_dataframe_authors_affiliations</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="3-Working-with-dataframes.html#3.-Dataframe-Methods-for-‘Grants’-queries">3. Dataframe Methods for ‘Grants’ queries</a><ul>
<li class="toctree-l3"><a class="reference internal" href="3-Working-with-dataframes.html#Extracting-Funders:-as_dataframe_funders">Extracting Funders: <code class="docutils literal notranslate"><span class="pre">as_dataframe_funders</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="3-Working-with-dataframes.html#Extracting-investigators:-as_dataframe_investigators">Extracting investigators: <code class="docutils literal notranslate"><span class="pre">as_dataframe_investigators</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="3-Working-with-dataframes.html#4.-Dataframe-Methods-for-‘Concepts’-queries">4. Dataframe Methods for ‘Concepts’ queries</a><ul>
<li class="toctree-l3"><a class="reference internal" href="3-Working-with-dataframes.html#Extracting-Concepts:-as_dataframe_concepts">Extracting Concepts: <code class="docutils literal notranslate"><span class="pre">as_dataframe_concepts</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="3-Working-with-dataframes.html#Conclusions">Conclusions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="4-Dimcli-magic-commands.html">The Dimcli Python library: Magic Commands</a><ul>
<li class="toctree-l2"><a class="reference internal" href="4-Dimcli-magic-commands.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="4-Dimcli-magic-commands.html#Dimcli-‘magic’-commands">Dimcli ‘magic’ commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="4-Dimcli-magic-commands.html#Tip:-Accessing-data-returned-by-magic-queries">Tip: Accessing data returned by magic queries</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="4-Dimcli-magic-commands.html#1.-Simple-queries-with-%dsl-or-%%dsl">1. Simple queries with <code class="docutils literal notranslate"><span class="pre">%dsl</span></code> or <code class="docutils literal notranslate"><span class="pre">%%dsl</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="4-Dimcli-magic-commands.html#2.-Loop-queries-with-%dslloop-or-%%dslloop">2. Loop queries with <code class="docutils literal notranslate"><span class="pre">%dslloop</span></code> or <code class="docutils literal notranslate"><span class="pre">%%dslloop</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="4-Dimcli-magic-commands.html#3.-Returning-dataframes:-%dsldf-and-%%dsldf">3. Returning dataframes: <code class="docutils literal notranslate"><span class="pre">%dsldf</span></code> and <code class="docutils literal notranslate"><span class="pre">%%dsldf</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="4-Dimcli-magic-commands.html#4.-Looped-dataframe-queries:-%dslloopdf-and-%%dslloopdf">4. Looped dataframe queries: <code class="docutils literal notranslate"><span class="pre">%dslloopdf</span></code> and <code class="docutils literal notranslate"><span class="pre">%%dslloopdf</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="4-Dimcli-magic-commands.html#5.-Getting-API-schema-documentation-with-%dsldocs">5. Getting API schema documentation with <code class="docutils literal notranslate"><span class="pre">%dsldocs</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="2-Understanding-query-results.html">Exploring The Dimensions Search Language (DSL) - Quick Intro</a><ul>
<li class="toctree-l2"><a class="reference internal" href="2-Understanding-query-results.html#Prerequisites">Prerequisites</a><ul>
<li class="toctree-l3"><a class="reference internal" href="2-Understanding-query-results.html#What-the-query-statistics-refer-to">What the query statistics refer to</a></li>
<li class="toctree-l3"><a class="reference internal" href="2-Understanding-query-results.html#Working-with-fields">Working with fields</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="2-Understanding-query-results.html#Control-the-fields-you-return">Control the fields you return</a></li>
<li class="toctree-l2"><a class="reference internal" href="2-Understanding-query-results.html#Make-a-mistake,-and-the-DSL-will-tell-you-what-fields-that-you-could-have-used">Make a mistake, and the DSL will tell you what fields that you could have used</a></li>
<li class="toctree-l2"><a class="reference internal" href="2-Understanding-query-results.html#Get-all-fields">Get all fields</a><ul>
<li class="toctree-l3"><a class="reference internal" href="2-Understanding-query-results.html#Full-text-search">Full text search</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="2-Understanding-query-results.html#A-simple-author-search">A simple author search</a></li>
<li class="toctree-l2"><a class="reference internal" href="2-Understanding-query-results.html#..or-search-for-a-researcher-by-a-specific-id">..or search for a researcher by a specific id</a><ul>
<li class="toctree-l3"><a class="reference internal" href="2-Understanding-query-results.html#Sources-VS-Facets">Sources VS Facets</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="2-Understanding-query-results.html#You-can-paginate-through-source-results-up-to-50000-rows">You can paginate through <em>source</em> results up to 50000 rows</a></li>
<li class="toctree-l2"><a class="reference internal" href="2-Understanding-query-results.html#You-can-return-max-1000-facet-rows">You can return max 1000 <code class="docutils literal notranslate"><span class="pre">facet</span></code> rows</a></li>
<li class="toctree-l2"><a class="reference internal" href="2-Understanding-query-results.html#Just-make-a-mistake,-and-you-will-ge-the-complete-list-of-available-facets">Just make a mistake, and you will ge the complete list of available facets</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="5-Deep-dive-DSL-language.html">Exploring The Dimensions Search Language (DSL) - Deep Dive</a><ul>
<li class="toctree-l2"><a class="reference internal" href="5-Deep-dive-DSL-language.html#What-is-the-Dimensions-Search-Language?">What is the Dimensions Search Language?</a></li>
<li class="toctree-l2"><a class="reference internal" href="5-Deep-dive-DSL-language.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="5-Deep-dive-DSL-language.html#Sections-Index">Sections Index</a></li>
<li class="toctree-l2"><a class="reference internal" href="5-Deep-dive-DSL-language.html#1.-Basic-query-structure">1. Basic query structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#search-source"><code class="docutils literal notranslate"><span class="pre">search</span> <span class="pre">source</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#return-result-(source-or-facet)"><code class="docutils literal notranslate"><span class="pre">return</span></code> result (source or facet)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="5-Deep-dive-DSL-language.html#2.-Full-text-Searching">2. Full-text Searching</a><ul>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#2.1-in-[search-index]">2.1 <code class="docutils literal notranslate"><span class="pre">in</span> <span class="pre">[search</span> <span class="pre">index]</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#2.2-for-&quot;search-term&quot;">2.2 <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">&quot;search</span> <span class="pre">term&quot;</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#2.3-Boolean-Operators">2.3 Boolean Operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#2.4-Wildcard-Searches">2.4 Wildcard Searches</a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#2.5-Proximity-Searches">2.5 Proximity Searches</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="5-Deep-dive-DSL-language.html#3.-Field-Searching">3. Field Searching</a><ul>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#3.1-where">3.1 <code class="docutils literal notranslate"><span class="pre">where</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#3.2-in">3.2 <code class="docutils literal notranslate"><span class="pre">in</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#3.3-count---filter-function">3.3 <code class="docutils literal notranslate"><span class="pre">count</span></code> - filter function</a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#3.4-Filter-Operators">3.4 Filter Operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#3.5-Partial-string-matching-with-~">3.5 Partial string matching with <code class="docutils literal notranslate"><span class="pre">~</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#3.6-Emptiness-filters-is-empty">3.6 Emptiness filters <code class="docutils literal notranslate"><span class="pre">is</span> <span class="pre">empty</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="5-Deep-dive-DSL-language.html#4.-Searching-for-Researchers">4. Searching for Researchers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#4.1-Exact-name-searches">4.1 Exact name searches</a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#4.2-Fuzzy-Searches">4.2 Fuzzy Searches</a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#4.3-Using-the-disambiguated-Researchers-database">4.3 Using the disambiguated Researchers database</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="5-Deep-dive-DSL-language.html#5.-Returning-results">5. Returning results</a><ul>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#5.1-Returning-Multiple-Sources">5.1 Returning Multiple Sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#5.2-Returning-Specific-Fields">5.2 Returning Specific Fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#5.3-Returning-Facets">5.3 Returning Facets</a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#5.4-What-the-query-statistics-refer-to---sources-VS-facets">5.4 What the query statistics refer to - sources VS facets</a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#5.5-Paginating-Results">5.5 Paginating Results</a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#5.6-Sorting-Results">5.6 Sorting Results</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="5-Deep-dive-DSL-language.html#6.-Aggregations">6. Aggregations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="6-Working-with-lists.html">Working with lists in the Dimensions API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="6-Working-with-lists.html#Prerequisites:-Installing-the-Dimensions-Library-and-Logging-in">Prerequisites: Installing the Dimensions Library and Logging in</a></li>
<li class="toctree-l2"><a class="reference internal" href="6-Working-with-lists.html#1.-How-do-we-use-lists-in-the-Dimensions-API?">1. How do we use lists in the Dimensions API?</a></li>
<li class="toctree-l2"><a class="reference internal" href="6-Working-with-lists.html#2.-What-are-all-the-things-that-we-can-make-lists-of-in-the-Dimensions-API?">2. What are all the things that we can make lists of in the Dimensions API?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="6-Working-with-lists.html#What-are-the-internal-Entities-that-we-might-put-in-a-list?">What are the internal Entities that we might put in a list?</a></li>
<li class="toctree-l3"><a class="reference internal" href="6-Working-with-lists.html#What-about-lists-of-ids?">What about lists of ids?</a></li>
<li class="toctree-l3"><a class="reference internal" href="6-Working-with-lists.html#What-are-the-external-entities-that-we-can-put-in-a-list?">What are the external entities that we can put in a list?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="6-Working-with-lists.html#3.-Making-a-list-from-the-results-of-a-query">3. Making a list from the results of a query</a><ul>
<li class="toctree-l3"><a class="reference internal" href="6-Working-with-lists.html#Putting-both-parts-of-this-example-together">Putting both parts of this example together</a></li>
<li class="toctree-l3"><a class="reference internal" href="6-Working-with-lists.html#Doing-something-useful:-Get-all-the-publications-that-cite-my-publications">Doing something useful: Get all the publications that cite my publications</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="6-Working-with-lists.html#5.-How-Long-can-lists-get?">5. How Long can lists get?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="6-Working-with-lists.html#This-won’t-work">This won’t work</a></li>
<li class="toctree-l3"><a class="reference internal" href="6-Working-with-lists.html#This-will">This will</a></li>
<li class="toctree-l3"><a class="reference internal" href="6-Working-with-lists.html#What-if-I-need-a-very-long-list?">What if I need a very long list?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="6-Working-with-lists.html#6.-What-if-I-want-to-get-the-researchers-associated-with-the-publications-the-cite-my-institution?">6. What if I want to get the researchers associated with the publications the cite my institution?</a></li>
<li class="toctree-l2"><a class="reference internal" href="6-Working-with-lists.html#7.-What-if-I-want-to-get-all-the-researchers-associated-with-the-publications-that-cite-my-institution?">7. What if I want to get <em>all</em> the researchers associated with the publications that cite my institution?</a></li>
<li class="toctree-l2"><a class="reference internal" href="6-Working-with-lists.html#8.-..and-if-we-want-details-about-our-researchers,-we-can-put-our-list-of-researchers-into-the-researcher-API">8. ..and if we want details about our researchers, we can put our list of researchers into the researcher API</a></li>
<li class="toctree-l2"><a class="reference internal" href="6-Working-with-lists.html#9.-Patents-example-(patents--&gt;-publications)">9. Patents example (patents -&gt; publications)</a></li>
<li class="toctree-l2"><a class="reference internal" href="6-Working-with-lists.html#10.-Clinical-Trials-(clinical-trials--&gt;-publications)">10. Clinical Trials (clinical trials -&gt; publications)</a></li>
<li class="toctree-l2"><a class="reference internal" href="6-Working-with-lists.html#11.-Grants-(publications--&gt;-grants)">11. Grants (publications -&gt; grants)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="6-Working-with-lists.html#Why-didn’t-I-use-resulting_publication_ids-?">Why didn’t I use resulting_publication_ids ?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="6-Working-with-lists.html#Conclusions">Conclusions</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Working with <em>concepts</em> in the Dimensions API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="#1.-Background:-What-are-Dimensions-concepts?">1. Background: What are Dimensions <code class="docutils literal notranslate"><span class="pre">concepts</span></code>?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Extracting-Concepts-with-Dimcli:-the-as_dataframe_concepts-method">Extracting Concepts with Dimcli: the <code class="docutils literal notranslate"><span class="pre">as_dataframe_concepts</span></code> method</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#2.-Data-acquisition:-querying-publications-with-all-the-associated-concepts">2. Data acquisition: querying publications with all the associated concepts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#2.1-Extracting-concepts">2.1 Extracting concepts</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#3.-Basic-statistics-about-Publications-/-Concepts">3. Basic statistics about Publications / Concepts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#3.1-Documents-With-concepts-VS-Without">3.1 Documents With concepts VS Without</a></li>
<li class="toctree-l3"><a class="reference internal" href="#3.2-Yearly-breakdown-of-Documents-With-concepts-VS-Without">3.2 Yearly breakdown of Documents With concepts VS Without</a></li>
<li class="toctree-l3"><a class="reference internal" href="#3.3-Concepts-frequency">3.3 Concepts frequency</a></li>
<li class="toctree-l3"><a class="reference internal" href="#3.4-Yearly-breakdown:-unique-VS-repeated-concepts">3.4 Yearly breakdown: unique VS repeated concepts</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#4.-Making-sense-of-concepts-information">4. Making sense of <em>concepts</em> information</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#4.1-[Method-1]-prefiltering-by-score_avg-and-sorting-by-frequency">4.1 [Method 1] prefiltering by <code class="docutils literal notranslate"><span class="pre">score_avg</span></code> and sorting by <code class="docutils literal notranslate"><span class="pre">frequency</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#4.2-[Method-2]-prefiltering-by-frequency-and-sorting-by-score_avg">4.2 [Method 2] prefiltering by <code class="docutils literal notranslate"><span class="pre">frequency</span></code> and sorting by <code class="docutils literal notranslate"><span class="pre">score_avg</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#5.-Analyses-By-Year">5. Analyses By Year</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#5.1-Adding-year-based-metrics-to-the-concepts-dataframe">5.1 Adding year-based metrics to the concepts dataframe</a></li>
<li class="toctree-l3"><a class="reference internal" href="#5.2-Charting-the-variation:-multi-year-visualization">5.2 Charting the variation: multi-year visualization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#6.-Conclusion">6. Conclusion</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Where-to-go-from-here">Where to go from here</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Publications</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../2-publications/General-statistics.html">General Publication Statistics about a Research Organization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/General-statistics.html#Load-libraries-and-log-in">Load libraries and log in</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/General-statistics.html#Choose-a-Research-Organization">Choose a Research Organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/General-statistics.html#Publications-output-by-year">Publications output by year</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/General-statistics.html#Publications-most-cited-in-last-2-years">Publications most cited in last 2 years</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/General-statistics.html#Publications-most-cited---all-time">Publications most cited - all time</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/General-statistics.html#Publications-most-cited-:-which-research-areas?">Publications most cited : which research areas?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/General-statistics.html#Publications-most-cited-:-which-journals?">Publications most cited : which journals?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/General-statistics.html#Top-Funders-(by-aggregated-funding-amount)">Top Funders (by aggregated funding amount)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/General-statistics.html#Top-funders-split-by-country-of-the-funder">Top funders split by country of the funder</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/General-statistics.html#Correlation-between-No-of-Publications-VS-Funding">Correlation between No of Publications VS Funding</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../2-publications/Citation-Analysis.html">Citation Analysis: an Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Citation-Analysis.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Citation-Analysis.html#Method-A:-getting-citations-for-one-publication-at-a-time">Method A: getting citations for one publication at a time</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Citation-Analysis.html#Comments-about-this-method">Comments about this method</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Citation-Analysis.html#Method-B:-Getting-citations-for-multiple-publications-via-a-single-query">Method B: Getting citations for multiple publications via a single query</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Citation-Analysis.html#Creating-a-second-level-citations-network">Creating a second-level citations network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Citation-Analysis.html#Building-a-Simple-Dataviz">Building a Simple Dataviz</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Citation-Analysis.html#Final-considerations">Final considerations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Citation-Analysis.html#Querying-for-more-than-1000-results">Querying for more than 1000 results</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Citation-Analysis.html#Querying-for-more-than-50K-results">Querying for more than 50K results</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Citation-Analysis.html#Dealing-with-highly-cited-publications">Dealing with highly cited publications</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Citation-Analysis.html#Pre-checking-citations-counts">Pre-checking citations counts</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../2-publications/Which-Are-the-Journals-Citing-My-Organization.html">Citation Analysis: Journals Citing a Research Organization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Which-Are-the-Journals-Citing-My-Organization.html#1.-Prerequisites">1. Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Which-Are-the-Journals-Citing-My-Organization.html#2.-Choose-a-Research-Organization">2. Choose a Research Organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Which-Are-the-Journals-Citing-My-Organization.html#3.-Building-a-Publications-Baseset">3. Building a Publications Baseset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Which-Are-the-Journals-Citing-My-Organization.html#4.-Extracting-Publications-Citing-the-Baseset">4. Extracting Publications Citing the Baseset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Which-Are-the-Journals-Citing-My-Organization.html#5.-Journal-Analysis">5. Journal Analysis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Which-Are-the-Journals-Citing-My-Organization.html#Number-of-Unique-journals">Number of Unique journals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Which-Are-the-Journals-Citing-My-Organization.html#Most-frequent-journals">Most frequent journals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Which-Are-the-Journals-Citing-My-Organization.html#Top-100-journals-chart">Top 100 journals chart</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Which-Are-the-Journals-Citing-My-Organization.html#Top-20-journals-by-year-chart">Top 20 journals by year chart</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../2-publications/Simple-topic-analysis.html">Topic Modeling Analysis for a Set of Publications: Basic Workflow</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Simple-topic-analysis.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Simple-topic-analysis.html#1.-Creating-a-Dataset:-e.g. Publications-from-a-Research-Organization">1. Creating a Dataset: e.g. Publications from a Research Organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Simple-topic-analysis.html#2.-Concepts:-exploratory-analysis">2. Concepts: exploratory analysis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Simple-topic-analysis.html#2.1-Building-a-word-cloud-for-exploratory-analysis">2.1 Building a word cloud for exploratory analysis</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Simple-topic-analysis.html#3.-Trend-analysis---‘emerging’-new-topics-each-year">3. Trend analysis - ‘emerging’ new topics each year</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Simple-topic-analysis.html#4.-Trend-Analysis:-topics-growth">4. Trend Analysis: topics growth</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Simple-topic-analysis.html#4.1-A-more-generalised-method">4.1 A more generalised method</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Simple-topic-analysis.html#5.-Conclusion">5. Conclusion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../2-publications/Journal-Profile-1-Gathering-data.html">Journal Profiling Part 1: Getting the Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-1-Gathering-data.html#Prerequisites:-Installing-the-Dimensions-Library-and-Logging-in">Prerequisites: Installing the Dimensions Library and Logging in</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-1-Gathering-data.html#Selecting-a-Journal-and-Extracting-All-Publications-Metadata">Selecting a Journal and Extracting All Publications Metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-1-Gathering-data.html#Some-stats-about-authors">Some stats about authors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-1-Gathering-data.html#A-quick-look-at-authors-without-a-Dimensions-Researcher-ID">A quick look at authors <em>without</em> a Dimensions Researcher ID</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Journal-Profile-1-Gathering-data.html#Any-common-patterns?">Any common patterns?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Journal-Profile-1-Gathering-data.html#Creating-an-export-for-manual-curation">Creating an export for manual curation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../2-publications/Journal-Profile-2-Researchers-Impact-Metrics.html">Journal Profiling Part 2: Impact Metrics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-2-Researchers-Impact-Metrics.html#Prerequisites:-Installing-the-Dimensions-Library-and-Logging-in">Prerequisites: Installing the Dimensions Library and Logging in</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-2-Researchers-Impact-Metrics.html#Measuring-the-Impact-of-Researchers-within-a-Journal">Measuring the Impact of Researchers within a Journal</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Journal-Profile-2-Researchers-Impact-Metrics.html#Load-the-publications-and-authors-data-previously-saved">Load the publications and authors data previously saved</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Journal-Profile-2-Researchers-Impact-Metrics.html#Isolate-the-Researchers-data-(=-authors-with-an-ID)">Isolate the Researchers data (= authors with an ID)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Journal-Profile-2-Researchers-Impact-Metrics.html#Enrich-the-data-with-Impact-Statistics">Enrich the data with Impact Statistics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-2-Researchers-Impact-Metrics.html#Couple-of-Dataviz">Couple of Dataviz</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../2-publications/Journal-Profile-3-Funding-of-Researchers.html">Journal Profiling Part 3: Funding</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-3-Funding-of-Researchers.html#Prerequisites:-Installing-the-Dimensions-Library-and-Logging-in">Prerequisites: Installing the Dimensions Library and Logging in</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Journal-Profile-3-Funding-of-Researchers.html#Load-previously-saved-researchers-data">Load previously saved researchers data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-3-Funding-of-Researchers.html#Adding-another-impact-measure:-funding">Adding another impact measure: funding</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Journal-Profile-3-Funding-of-Researchers.html#We’ll-have-to-do-it-in-two-steps">We’ll have to do it in two steps</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-3-Funding-of-Researchers.html#Next:-full-data-for-step-1">Next: full data for step 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-3-Funding-of-Researchers.html#Next:-full-data-for-step-2">Next: full data for step 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-3-Funding-of-Researchers.html#Finally:-let’s-merge-the-new-data-into-the-‘researchers-impact’-table">Finally: let’s merge the new data into the ‘researchers-impact’ table</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-3-Funding-of-Researchers.html#Couple-of-Dataviz">Couple of Dataviz</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../2-publications/Journal-Profile-4-Institutions.html">Journal Profiling Part 4: Institutions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-4-Institutions.html#Prerequisites:-Installing-the-Dimensions-Library-and-Logging-in">Prerequisites: Installing the Dimensions Library and Logging in</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-4-Institutions.html#Institutions-Contributing-to-a-Journal">Institutions Contributing to a Journal</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Journal-Profile-4-Institutions.html#Load-previously-saved-affiliations-data">Load previously saved affiliations data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-4-Institutions.html#Basic-stats-about-affiliations">Basic stats about affiliations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-4-Institutions.html#Enriching-the-unique-affiliations-(GRIDs-list)-with-pubs-count-and-authors-count">Enriching the unique affiliations (GRIDs list) with pubs count and authors count</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-4-Institutions.html#Couple-of-Dataviz">Couple of Dataviz</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../2-publications/Journal-Profile-5-Competitive-Analysis.html">Journal Profiling Part 5: Competing Journals Analysis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-5-Competitive-Analysis.html#Prerequisites:-Installing-the-Dimensions-Library-and-Logging-in">Prerequisites: Installing the Dimensions Library and Logging in</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-5-Competitive-Analysis.html#Competing-Journals">Competing Journals</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Journal-Profile-5-Competitive-Analysis.html#First-let’s-reload-the-data-obtained-in-previous-steps">First let’s reload the data obtained in previous steps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Journal-Profile-5-Competitive-Analysis.html#What-the-query-looks-like">What the query looks like</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-5-Competitive-Analysis.html#Extracting-all-publications/journals-information">Extracting all publications/journals information</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-5-Competitive-Analysis.html#Visualizations">Visualizations</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Clinical Trials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../4-clinical-trials/Clinical_Trials_by_Volume_of_Pubs.html">Clinical Trials by Volume of Publications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../4-clinical-trials/Clinical_Trials_by_Volume_of_Pubs.html#Load-libraries-and-log-in">Load libraries and log in</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4-clinical-trials/Clinical_Trials_by_Volume_of_Pubs.html#Query-for-Clinical-Trials">Query for Clinical Trials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4-clinical-trials/Clinical_Trials_by_Volume_of_Pubs.html#Counting-publications-per-clinical-trial">Counting publications per clinical trial</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Patents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../5-patents/1-introducing-patents.html">The Patents API: Features Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../5-patents/1-introducing-patents.html#1.-Sample-Patents-Queries">1. Sample Patents Queries</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Searching-patents-by-keyword">Searching patents by keyword</a></li>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Searching-using-fielded-search">Searching using fielded search</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Searching-using-dates">Searching using dates</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Extracting-cited-publications-via-publication_ids">Extracting cited publications via <code class="docutils literal notranslate"><span class="pre">publication_ids</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Extracting-cited-patents-via-reference_ids">Extracting cited patents via <code class="docutils literal notranslate"><span class="pre">reference_ids</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Aggregating-results-using-facets">Aggregating results using facets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Top-assignees">Top assignees</a></li>
<li class="toctree-l4"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Top-researchers">Top researchers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Top-FOR-categories">Top FOR categories</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../5-patents/1-introducing-patents.html#2.-A-closer-look-at-Patents-statistics">2. A closer look at Patents statistics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Counting-records-per-each-field">Counting records per each field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Creating-a-bar-chart">Creating a bar chart</a></li>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Counting-the-yearly-distribution-of-field/records-data">Counting the yearly distribution of field/records data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Creating-a-line-chart">Creating a line chart</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Where-to-find-out-more">Where to find out more</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html">Measuring the Innovation Impact of an Organization using Patents Citations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html#1.-Choosing-a-GRID-Research-Organization">1. Choosing a GRID Research Organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html#2.-Extracting-Publications-Data">2. Extracting Publications Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html#Quick-look-at-publications-statistics">Quick look at publications statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html#What-are-the-main-subject-areas?">What are the main subject areas?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html#3.-Extracting-Patents-linked-to-Publications">3. Extracting Patents linked to Publications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html#Enriching-publications-with-patents-citations-metrics">Enriching publications with patents citations metrics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html#4.-Patents-Data-Analysis">4. Patents Data Analysis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html#How-many-patents-per-year?">How many patents per year?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html#Who-is-filing-the-patents?">Who is filing the patents?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html#What-are-the-publications-most-frequenlty-referenced-in-patents?">What are the publications most frequenlty referenced in patents?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html#What-are-the-main-subject-areas-of-referenced-publications?">What are the main subject areas of referenced publications?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html#Is-there-a-correlation-between-publication-citations-and-patents-citations?">Is there a correlation between publication citations and patents citations?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html#Where-to-go-from-here">Where to go from here</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Datasets</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html">The Datasets API: Features Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#1.-Sample-Dataset-Queries">1. Sample Dataset Queries</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#Searching-datasets-by-keyword">Searching datasets by keyword</a></li>
<li class="toctree-l3"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#Returning-associated-grants-and-publication-data">Returning associated grants and publication data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#Searching-using-fielded-search">Searching using fielded search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#Extracting-related-funding-via-grants">Extracting related funding via grants</a></li>
<li class="toctree-l3"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#Aggregating-results-using-facets">Aggregating results using facets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#Top-funders">Top funders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#Top-research-organizations">Top research organizations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#Top-contributors">Top contributors</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#2.-A-closer-look-at-Datasets-statistics">2. A closer look at Datasets statistics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#Counting-records-per-each-field">Counting records per each field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#Creating-a-bar-chart">Creating a bar chart</a></li>
<li class="toctree-l3"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#Counting-the-yearly-distribution-of-field/records-data">Counting the yearly distribution of field/records data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#Creating-a-line-chart">Creating a line chart</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#Where-to-find-out-more">Where to find out more</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Researchers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../7-researchers/Calculating-the-H-Index-of-a-researcher.html">Calculating the H-index of a researcher</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../7-researchers/Calculating-the-H-Index-of-a-researcher.html#Background">Background</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7-researchers/Calculating-the-H-Index-of-a-researcher.html#Prerequisites">Prerequisites</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Calculating-the-H-Index-of-a-researcher.html#Selecting-a-researcher">Selecting a researcher</a></li>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Calculating-the-H-Index-of-a-researcher.html#The-H-Index-function">The H-Index function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Calculating-the-H-Index-of-a-researcher.html#Getting-citations-data-from-Dimensions">Getting citations data from Dimensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Calculating-the-H-Index-of-a-researcher.html#Wrapping-things-up">Wrapping things up</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../7-researchers/Researchers-Search-tips-V2.html">Extracting researchers based on affiliations and publications history</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../7-researchers/Researchers-Search-tips-V2.html#Background:-understanding-the-data-model">Background: understanding the data model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7-researchers/Researchers-Search-tips-V2.html#Methodology:-two-options-available">Methodology: two options available</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7-researchers/Researchers-Search-tips-V2.html#Approach-1.-From-publications-to-researchers">Approach 1. From publications to researchers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Researchers-Search-tips-V2.html#Researchers-affiliated-to-the-GRID-ID-at-the-time-of-writing">Researchers affiliated to the GRID-ID <strong>at the time of writing</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Researchers-Search-tips-V2.html#Researchers-affiliated-to-the-GRIDID-at-the-time-of-speaking-ie-now">Researchers affiliated to the GRIDID <strong>at the time of speaking</strong> ie now</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../7-researchers/Researchers-Search-tips-V2.html#Approach-2.-From-researchers-to-publications">Approach 2. From researchers to publications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Researchers-Search-tips-V2.html#id1">Researchers affiliated to the GRID-ID <strong>at the time of writing</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Researchers-Search-tips-V2.html#id2">Researchers affiliated to the GRIDID <strong>at the time of speaking</strong> ie now</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../7-researchers/Researchers-Search-tips-V2.html#Conclusions">Conclusions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Researchers-Search-tips-V2.html#Why-are-the-total-counts-different?">Why are the total counts different?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Researchers-Search-tips-V2.html#So-which-method-should-I-choose?">So which method should I choose?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../7-researchers/Experts-search-introduction.html">Expert Identification with the Dimensions API - An Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../7-researchers/Experts-search-introduction.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7-researchers/Experts-search-introduction.html#Step-1:-Concept-Extraction">Step 1: Concept Extraction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7-researchers/Experts-search-introduction.html#Step-2:-Expert-Identification">Step 2: Expert Identification</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Experts-search-introduction.html#Example-1.-Most-Basic-Query-using-concepts">Example 1. Most Basic Query using <code class="docutils literal notranslate"><span class="pre">concepts</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Experts-search-introduction.html#Example-2.-Query-with-OR-connectors">Example 2. Query with <code class="docutils literal notranslate"><span class="pre">OR</span></code> connectors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Experts-search-introduction.html#Example-3.-Query-with-where-filters">Example 3. Query with <code class="docutils literal notranslate"><span class="pre">where</span></code> filters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Experts-search-introduction.html#Example-4.-Adding-Overlap-Annotations-(eg-for-conflict-of-interests-checks)">Example 4. Adding Overlap Annotations (eg for conflict of interests checks)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Experts-search-introduction.html#Example-5.-Query-with-MUST/NOT-Operators">Example 5. Query with MUST/NOT Operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Experts-search-introduction.html#Example-6.-MUST-together-with-AND/OR">Example 6. MUST together with AND/OR</a></li>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Experts-search-introduction.html#Example-7.-Wildcard-searches">Example 7. Wildcard searches</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Organizations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../8-organizations/1-GRID-preview.html">The Organizations API: Features Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/1-GRID-preview.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/1-GRID-preview.html#1.-Matching-affiliation-data-to-GRID-IDs-using-extract_affiliations">1. Matching affiliation data to GRID IDs using <code class="docutils literal notranslate"><span class="pre">extract_affiliations</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/1-GRID-preview.html#2.-Searching-GRID-organizations">2. Searching GRID organizations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../8-organizations/1-GRID-preview.html#Full-text-search">Full-text search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../8-organizations/1-GRID-preview.html#Fielded-search">Fielded search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../8-organizations/1-GRID-preview.html#Returning-facets">Returning facets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../8-organizations/1-GRID-preview.html#Returning-organizations-facets-from-publications">Returning organizations facets from publications</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/1-GRID-preview.html#3.-A-closer-look-at-the-organizations-data-statistics">3. A closer look at the organizations data statistics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../8-organizations/1-GRID-preview.html#Let’s-visualize-the-data-with-plotly">Let’s visualize the data with plotly</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/1-GRID-preview.html#Where-to-find-out-more">Where to find out more</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../8-organizations/2-Industry-Collaboration.html">Identifying the Industry Collaborators of an Academic Institution</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/2-Industry-Collaboration.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/2-Industry-Collaboration.html#1.-Selecting-an-academic-institution">1. Selecting an academic institution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/2-Industry-Collaboration.html#2.-Extracting-publications-from-industry-collaborations">2. Extracting publications from industry collaborations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/2-Industry-Collaboration.html#3.-Analyses">3. Analyses</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../8-organizations/2-Industry-Collaboration.html#3.1-Count-of-Publications-per-year-from-Industry-Collaborations">3.1 Count of Publications per year from Industry Collaborations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../8-organizations/2-Industry-Collaboration.html#3.2-Citations-from-Industry-Collaboration">3.2 Citations from Industry Collaboration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../8-organizations/2-Industry-Collaboration.html#3.3-Top-Industry-Collaborators">3.3 Top Industry Collaborators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../8-organizations/2-Industry-Collaboration.html#3.4-Countries-of-Industry-Collaborators">3.4 Countries of Industry Collaborators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../8-organizations/2-Industry-Collaboration.html#3.5-Putting-Countries-and-Collaborators-together">3.5 Putting Countries and Collaborators together</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../8-organizations/3-Organizations-Collaboration-Network.html">Building an Organizations Collaboration Network Diagram</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/3-Organizations-Collaboration-Network.html#1.-Prerequisites:-load-libraries-and-log-in">1. Prerequisites: load libraries and log in</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/3-Organizations-Collaboration-Network.html#2.-Choose-an-Organization-and-a-keyword-(topic)">2. Choose an Organization and a keyword (topic)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/3-Organizations-Collaboration-Network.html#3.-Building-a-one-degree-network-of-collaborating-institutions">3. Building a one-degree network of collaborating institutions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/3-Organizations-Collaboration-Network.html#4.-Building-a-network-of-any-size">4. Building a network of any size</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/3-Organizations-Collaboration-Network.html#5.-Visualizing-the-network">5. Visualizing the network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/3-Organizations-Collaboration-Network.html#6.-Addendum:-showing-only-‘Government’-collaborators">6. Addendum: showing only ‘Government’ collaborators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/3-Organizations-Collaboration-Network.html#7.-Conclusions">7. Conclusions</a></li>
</ul>
</li>
</ul>

            
          


   <div id="sidebar_github" style="margin-top: 12px;">
   <h3>Github Source</h3>

      <div style="margin: 10px 20px;">
      
         <iframe src="https://ghbtns.com/github-btn.html?user=digital-science&repo=dimensions-api-lab&type=star&count=true" frameborder="0" scrolling="0" width="170px" height="20px"></iframe>

         <iframe src="https://ghbtns.com/github-btn.html?user=digital-science&repo=dimensions-api-lab&type=fork&count=true" frameborder="0" scrolling="0" width="170px" height="20px"></iframe> 
      
      </div>

   </div>


        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">DSL</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    

    

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container,
div.nbinput.container div.prompt,
div.nbinput.container div.input_area,
div.nbinput.container div[class*=highlight],
div.nbinput.container div[class*=highlight] pre,
div.nboutput.container,
div.nboutput.container div.prompt,
div.nboutput.container div.output_area,
div.nboutput.container div[class*=highlight],
div.nboutput.container div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<script src='http://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js'></script>
<script>require=requirejs;</script><a class="reference external image-reference" href="https://colab.research.google.com/github/digital-science/dimensions-api-lab/blob/master/cookbooks/1-getting-started/7-Working-with-concepts.ipynb"><img alt="../../_images/badge-colab.svg" src="../../_images/badge-colab.svg" /></a>
<a class="reference external image-reference" href="https://github.com/digital-science/dimensions-api-lab/blob/master/cookbooks/1-getting-started/7-Working-with-concepts.ipynb"><img alt="../../_images/badge-github-custom.svg" src="../../_images/badge-github-custom.svg" /></a>
<hr class="docutils" />
<div class="section" id="Working-with-concepts-in-the-Dimensions-API">
<h1>Working with <em>concepts</em> in the Dimensions API<a class="headerlink" href="#Working-with-concepts-in-the-Dimensions-API" title="Permalink to this headline">¶</a></h1>
<p>This Python notebook shows how to use the <a class="reference external" href="https://www.dimensions.ai/dimensions-apis/">Dimensions Analytics API</a> in order to extract <code class="docutils literal notranslate"><span class="pre">concepts</span></code> from documents and use them as the basis for more advanced topic-analysis tasks.</p>
<div class="section" id="Prerequisites">
<h2>Prerequisites<a class="headerlink" href="#Prerequisites" title="Permalink to this headline">¶</a></h2>
<p>This notebook assumes you have installed the <a class="reference external" href="https://pypi.org/project/dimcli/">Dimcli</a> library and are familiar with the <em>Getting Started</em> tutorial.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">!</span>pip install dimcli plotly -U --quiet

<span class="kn">import</span> <span class="nn">dimcli</span>
<span class="kn">from</span> <span class="nn">dimcli.shortcuts</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="k">if</span> <span class="ow">not</span> <span class="s1">&#39;google.colab&#39;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
  <span class="c1"># make js dependecies local / needed by html exports</span>
  <span class="kn">from</span> <span class="nn">plotly.offline</span> <span class="kn">import</span> <span class="n">init_notebook_mode</span>
  <span class="n">init_notebook_mode</span><span class="p">(</span><span class="n">connected</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1">#</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;==</span><span class="se">\n</span><span class="s2">Logging in..&quot;</span><span class="p">)</span>
<span class="c1"># https://github.com/digital-science/dimcli#authentication</span>
<span class="n">ENDPOINT</span> <span class="o">=</span> <span class="s2">&quot;https://app.dimensions.ai&quot;</span>
<span class="k">if</span> <span class="s1">&#39;google.colab&#39;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
  <span class="kn">import</span> <span class="nn">getpass</span>
  <span class="n">USERNAME</span> <span class="o">=</span> <span class="n">getpass</span><span class="o">.</span><span class="n">getpass</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="s1">&#39;Username: &#39;</span><span class="p">)</span>
  <span class="n">PASSWORD</span> <span class="o">=</span> <span class="n">getpass</span><span class="o">.</span><span class="n">getpass</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="s1">&#39;Password: &#39;</span><span class="p">)</span>
  <span class="n">dimcli</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">USERNAME</span><span class="p">,</span> <span class="n">PASSWORD</span><span class="p">,</span> <span class="n">ENDPOINT</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
  <span class="n">USERNAME</span><span class="p">,</span> <span class="n">PASSWORD</span>  <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>
  <span class="n">dimcli</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">USERNAME</span><span class="p">,</span> <span class="n">PASSWORD</span><span class="p">,</span> <span class="n">ENDPOINT</span><span class="p">)</span>
<span class="n">dsl</span> <span class="o">=</span> <span class="n">dimcli</span><span class="o">.</span><span class="n">Dsl</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<script type="text/javascript">
window.PlotlyConfig = {MathJaxConfig: 'local'};
if (window.MathJax) {MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
if (typeof require !== 'undefined') {
require.undef("plotly");
requirejs.config({
    paths: {
        'plotly': ['https://cdn.plot.ly/plotly-latest.min']
    }
});
require(['plotly'], function(Plotly) {
    window._Plotly = Plotly;
});
}
</script></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
==
Logging in..
Dimcli - Dimensions API Client (v0.7)
Connected to: https://app.dimensions.ai - DSL v1.25
Method: dsl.ini file
</pre></div></div>
</div>
</div>
<div class="section" id="1.-Background:-What-are-Dimensions-concepts?">
<h2>1. Background: What are Dimensions <code class="docutils literal notranslate"><span class="pre">concepts</span></code>?<a class="headerlink" href="#1.-Background:-What-are-Dimensions-concepts?" title="Permalink to this headline">¶</a></h2>
<p>Concepts are normalized <em>noun phrases</em> describing the main topics of a document (see also the <a class="reference external" href="https://docs.dimensions.ai/dsl/language.html#searching-using-concepts">official documentation</a>). Concepts are automatically derived from documents abstracts using machine learning techniques, and are ranked based on their relevance.</p>
<p>In the JSON data, concepts are available as an ordered list (=first items are the most relevant), including a relevance score. E.g. for the publications with ID ‘pub.1122072646’:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;pub.1122072646&#39;</span><span class="p">,</span>
<span class="s1">&#39;concepts_scores&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;concept&#39;</span><span class="p">:</span> <span class="s1">&#39;acid&#39;</span><span class="p">,</span> <span class="s1">&#39;relevance&#39;</span><span class="p">:</span> <span class="mf">0.07450046286579201</span><span class="p">},</span>
                    <span class="p">{</span><span class="s1">&#39;concept&#39;</span><span class="p">:</span> <span class="s1">&#39;conversion&#39;</span><span class="p">,</span> <span class="s1">&#39;relevance&#39;</span><span class="p">:</span> <span class="mf">0.055053872555463006</span><span class="p">},</span>
                    <span class="p">{</span><span class="s1">&#39;concept&#39;</span><span class="p">:</span> <span class="s1">&#39;formic acid&#39;</span><span class="p">,</span> <span class="s1">&#39;relevance&#39;</span><span class="p">:</span> <span class="mf">0.048144671935356</span><span class="p">},</span>
                    <span class="p">{</span><span class="s1">&#39;concept&#39;</span><span class="p">:</span> <span class="s1">&#39;CO2&#39;</span><span class="p">,</span> <span class="s1">&#39;relevance&#39;</span><span class="p">:</span> <span class="mf">0.032150964737607</span><span class="p">}</span>
                    <span class="p">[</span><span class="o">........</span><span class="p">]</span>
                    <span class="p">],</span>
 <span class="p">}</span>
</pre></div>
</div>
<p>Please note that (as of version 1.25 of the DSL API) it is possible to return either <code class="docutils literal notranslate"><span class="pre">concepts_scores</span></code> or <code class="docutils literal notranslate"><span class="pre">concepts</span></code> with Publications queries, but only <code class="docutils literal notranslate"><span class="pre">concepts</span></code> with Grants queries.</p>
<div class="section" id="Extracting-Concepts-with-Dimcli:-the-as_dataframe_concepts-method">
<h3>Extracting Concepts with Dimcli: the <code class="docutils literal notranslate"><span class="pre">as_dataframe_concepts</span></code> method<a class="headerlink" href="#Extracting-Concepts-with-Dimcli:-the-as_dataframe_concepts-method" title="Permalink to this headline">¶</a></h3>
<p>Since each publication has an associated <strong>list</strong> of concepts, in order to analyse them we need to ‘expand’ that list, so to have a new table with one row per concept.</p>
<p>Dimcli provides a <a class="reference external" href="https://api-lab.dimensions.ai/cookbooks/1-getting-started/3-Working-with-dataframes.html#4.-Dataframe-Methods-for-%E2%80%98Concepts%E2%80%99-queries">method</a> that does exactly that: <code class="docutils literal notranslate"><span class="pre">as_dataframe_concepts()</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">q</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;search publications for &quot;graphene&quot;</span>
<span class="s2">            where year=2019</span>
<span class="s2">       return publications[id+title+year+concepts_scores] limit 100&quot;&quot;&quot;</span>
<span class="n">concepts</span> <span class="o">=</span> <span class="n">dsl</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">q</span><span class="p">)</span><span class="o">.</span><span class="n">as_dataframe_concepts</span><span class="p">()</span>
<span class="n">concepts</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Returned Publications: 100 (total = 100863)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>title</th>
      <th>id</th>
      <th>year</th>
      <th>concepts_count</th>
      <th>concept</th>
      <th>score</th>
      <th>frequency</th>
      <th>score_avg</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Smart Non-Woven Fiber Mats with Light-Induced ...</td>
      <td>pub.1123764889</td>
      <td>2019</td>
      <td>63</td>
      <td>non-woven fiber mats</td>
      <td>0.78424</td>
      <td>1</td>
      <td>0.78424</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Smart Non-Woven Fiber Mats with Light-Induced ...</td>
      <td>pub.1123764889</td>
      <td>2019</td>
      <td>63</td>
      <td>polymer matrix</td>
      <td>0.72761</td>
      <td>3</td>
      <td>0.64380</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Smart Non-Woven Fiber Mats with Light-Induced ...</td>
      <td>pub.1123764889</td>
      <td>2019</td>
      <td>63</td>
      <td>atom transfer radical polymerization</td>
      <td>0.72668</td>
      <td>1</td>
      <td>0.72668</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Smart Non-Woven Fiber Mats with Light-Induced ...</td>
      <td>pub.1123764889</td>
      <td>2019</td>
      <td>63</td>
      <td>transfer radical polymerization</td>
      <td>0.70781</td>
      <td>1</td>
      <td>0.70781</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Smart Non-Woven Fiber Mats with Light-Induced ...</td>
      <td>pub.1123764889</td>
      <td>2019</td>
      <td>63</td>
      <td>ray photoelectron spectroscopy</td>
      <td>0.69869</td>
      <td>3</td>
      <td>0.64896</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">as_dataframe_concepts()</span></code> method internally uses pandas to <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.explode.html">explode</a> the concepts list, plus it adds some extra metrics that are handy in order to carry out further analyses:</p>
<ol class="arabic simple">
<li><p><strong>concepts_count</strong>: the total number of concepts for each single document. E.g., if a document has 35 concepts, concepts_count=35.</p></li>
<li><p><strong>frequency</strong>: how often a concept occur within a dataset, i.e. how many documents include that concept. E.g., if a concept appears in 5 documents, frequency=5.</p></li>
<li><p><strong>score</strong>: the relevancy of a concept in the context of the document it is extracted from. Concept scores go from 0 (= not relevant) to 1 (= very relevant). NOTE if concepts are returned without scores, these are generated automatically by normalizing its ranking against the total number of concepts for a single document. E.g., if a document has 10 concepts in total, the first concept gets a score=1, the second score=0.9, etc..</p></li>
<li><p><strong>score_avg</strong>: the average (mean) value of all scores of a concept across multiple documents, within a given in a dataset.</p></li>
</ol>
<p>As we will see, by sorting and segmenting data using these parameters, it is possible to filter out common-name concepts and highlight more interesting ones.</p>
</div>
</div>
<div class="section" id="2.-Data-acquisition:-querying-publications-with-all-the-associated-concepts">
<h2>2. Data acquisition: querying publications with all the associated concepts<a class="headerlink" href="#2.-Data-acquisition:-querying-publications-with-all-the-associated-concepts" title="Permalink to this headline">¶</a></h2>
<p>Let’s pull all publications from University College London classified with the FOR code “16 Studies in Human Society”.</p>
<blockquote>
<div><p>Tip: you can experiment by changing the parameters below as you want, eg by <a class="reference external" href="https://grid.ac/institutes">choosing another GRID organization</a>.</p>
</div></blockquote>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">GRIDID</span> <span class="o">=</span> <span class="s2">&quot;grid.83440.3b&quot;</span> <span class="c1">#@param {type:&quot;string&quot;}</span>
<span class="n">FOR</span> <span class="o">=</span> <span class="s2">&quot;16 Studies in Human Society&quot;</span> <span class="c1">#@param {type:&quot;string&quot;}</span>

<span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">search publications</span>
<span class="s2">    where research_orgs.id = &quot;</span><span class="si">{</span><span class="n">GRIDID</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="s2">    and category_for.name= &quot;</span><span class="si">{</span><span class="n">FOR</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="s2">    return publications[id+doi+concepts_scores+year]</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;===</span><span class="se">\n</span><span class="s2">Query:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">query</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;===</span><span class="se">\n</span><span class="s2">Retrieving Publications.. &quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">dsl</span><span class="o">.</span><span class="n">query_iterative</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
===
Query:

search publications
    where research_orgs.id = &#34;grid.83440.3b&#34;
    and category_for.name= &#34;16 Studies in Human Society&#34;
    return publications[id+doi+concepts_scores+year]

===
Retrieving Publications..
1000 / ...
1000 / 8267
2000 / 8267
3000 / 8267
4000 / 8267
5000 / 8267
6000 / 8267
7000 / 8267
8000 / 8267
8267 / 8267
===
Records extracted: 8267
</pre></div></div>
</div>
<p>Let’s turn the results into a dataframe and have a quick look at the data. You’ll see a column <code class="docutils literal notranslate"><span class="pre">concepts_scores</span></code> that contains a list of concepts for each of the publications retrieved.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pubs</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">as_dataframe</span><span class="p">()</span>
<span class="n">pubs</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>doi</th>
      <th>concepts_scores</th>
      <th>id</th>
      <th>year</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>10.1080/01419870.2018.1544651</td>
      <td>[{'concept': 'second-generation migrants', 're...</td>
      <td>pub.1110346939</td>
      <td>2020</td>
    </tr>
    <tr>
      <th>1</th>
      <td>10.1007/s41109-019-0246-9</td>
      <td>[{'concept': 'specific industrial sectors', 'r...</td>
      <td>pub.1123927393</td>
      <td>2020</td>
    </tr>
    <tr>
      <th>2</th>
      <td>10.1140/epjds/s13688-020-00225-y</td>
      <td>[{'concept': 'development indicators', 'releva...</td>
      <td>pub.1126594457</td>
      <td>2020</td>
    </tr>
    <tr>
      <th>3</th>
      <td>10.1186/s40163-020-00117-6</td>
      <td>[{'concept': 'non-residential burglaries', 're...</td>
      <td>pub.1127684774</td>
      <td>2020</td>
    </tr>
    <tr>
      <th>4</th>
      <td>10.1186/s40545-020-00215-5</td>
      <td>[{'concept': 'gender equity', 'relevance': 0.7...</td>
      <td>pub.1127643349</td>
      <td>2020</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="section" id="2.1-Extracting-concepts">
<h3>2.1 Extracting concepts<a class="headerlink" href="#2.1-Extracting-concepts" title="Permalink to this headline">¶</a></h3>
<p>Now it’s time to start digging into the ‘concepts’ column of publications.</p>
<p>Each publications has an associated <strong>list</strong> of concepts, so in order to analyse them we need to ‘explode’ that list so to have a new table with one row per concept.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">concepts</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">as_dataframe_concepts</span><span class="p">()</span>

<span class="c1"># in this case NO NEED TO HAVE YEAR, PUB ETC.. columns</span>
<span class="n">concepts_unique</span> <span class="o">=</span> <span class="n">concepts</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="s2">&quot;concept&quot;</span><span class="p">)[[</span><span class="s1">&#39;concept&#39;</span><span class="p">,</span> <span class="s1">&#39;frequency&#39;</span><span class="p">,</span> <span class="s1">&#39;score_avg&#39;</span><span class="p">]]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;===</span><span class="se">\n</span><span class="s2">Concepts Found (total):&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">concepts</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;===</span><span class="se">\n</span><span class="s2">Preview:&quot;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">concepts</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;===</span><span class="se">\n</span><span class="s2">Unique Concepts Found:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">concepts_unique</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;===</span><span class="se">\n</span><span class="s2">Preview:&quot;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">concepts_unique</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
===
Concepts Found (total): 316998
===
Preview:
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>doi</th>
      <th>id</th>
      <th>year</th>
      <th>concepts_count</th>
      <th>concept</th>
      <th>score</th>
      <th>frequency</th>
      <th>score_avg</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>10.1080/01419870.2018.1544651</td>
      <td>pub.1110346939</td>
      <td>2020</td>
      <td>50</td>
      <td>second-generation migrants</td>
      <td>0.69108</td>
      <td>1</td>
      <td>0.69108</td>
    </tr>
    <tr>
      <th>1</th>
      <td>10.1080/01419870.2018.1544651</td>
      <td>pub.1110346939</td>
      <td>2020</td>
      <td>50</td>
      <td>children of migrants</td>
      <td>0.68700</td>
      <td>1</td>
      <td>0.68700</td>
    </tr>
    <tr>
      <th>2</th>
      <td>10.1080/01419870.2018.1544651</td>
      <td>pub.1110346939</td>
      <td>2020</td>
      <td>50</td>
      <td>Donald Trump’s election</td>
      <td>0.68565</td>
      <td>1</td>
      <td>0.68565</td>
    </tr>
    <tr>
      <th>3</th>
      <td>10.1080/01419870.2018.1544651</td>
      <td>pub.1110346939</td>
      <td>2020</td>
      <td>50</td>
      <td>second-generation group</td>
      <td>0.68345</td>
      <td>1</td>
      <td>0.68345</td>
    </tr>
    <tr>
      <th>4</th>
      <td>10.1080/01419870.2018.1544651</td>
      <td>pub.1110346939</td>
      <td>2020</td>
      <td>50</td>
      <td>feelings of exclusion</td>
      <td>0.67114</td>
      <td>1</td>
      <td>0.67114</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>316993</th>
      <td>10.1038/002374c0</td>
      <td>pub.1032460376</td>
      <td>1870</td>
      <td>28</td>
      <td>importance</td>
      <td>0.01678</td>
      <td>352</td>
      <td>0.28769</td>
    </tr>
    <tr>
      <th>316994</th>
      <td>10.1038/002374c0</td>
      <td>pub.1032460376</td>
      <td>1870</td>
      <td>28</td>
      <td>matter</td>
      <td>0.01657</td>
      <td>124</td>
      <td>0.26206</td>
    </tr>
    <tr>
      <th>316995</th>
      <td>10.1038/002374c0</td>
      <td>pub.1032460376</td>
      <td>1870</td>
      <td>28</td>
      <td>additional remarks</td>
      <td>0.01414</td>
      <td>1</td>
      <td>0.01414</td>
    </tr>
    <tr>
      <th>316996</th>
      <td>10.1038/002374c0</td>
      <td>pub.1032460376</td>
      <td>1870</td>
      <td>28</td>
      <td>letter</td>
      <td>0.01358</td>
      <td>16</td>
      <td>0.19310</td>
    </tr>
    <tr>
      <th>316997</th>
      <td>10.1038/002374c0</td>
      <td>pub.1032460376</td>
      <td>1870</td>
      <td>28</td>
      <td>engineers</td>
      <td>0.01144</td>
      <td>17</td>
      <td>0.15923</td>
    </tr>
  </tbody>
</table>
<p>316998 rows × 8 columns</p>
</div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
===
Unique Concepts Found: 85647
===
Preview:
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>concept</th>
      <th>frequency</th>
      <th>score_avg</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>second-generation migrants</td>
      <td>1</td>
      <td>0.69108</td>
    </tr>
    <tr>
      <th>1</th>
      <td>children of migrants</td>
      <td>1</td>
      <td>0.68700</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Donald Trump’s election</td>
      <td>1</td>
      <td>0.68565</td>
    </tr>
    <tr>
      <th>3</th>
      <td>second-generation group</td>
      <td>1</td>
      <td>0.68345</td>
    </tr>
    <tr>
      <th>4</th>
      <td>feelings of exclusion</td>
      <td>1</td>
      <td>0.67114</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>316977</th>
      <td>same subjects</td>
      <td>1</td>
      <td>0.02285</td>
    </tr>
    <tr>
      <th>316978</th>
      <td>personal opinions</td>
      <td>1</td>
      <td>0.02257</td>
    </tr>
    <tr>
      <th>316979</th>
      <td>engineering colleges</td>
      <td>1</td>
      <td>0.02195</td>
    </tr>
    <tr>
      <th>316990</th>
      <td>serious objections</td>
      <td>1</td>
      <td>0.01875</td>
    </tr>
    <tr>
      <th>316995</th>
      <td>additional remarks</td>
      <td>1</td>
      <td>0.01414</td>
    </tr>
  </tbody>
</table>
<p>85647 rows × 3 columns</p>
</div></div>
</div>
</div>
</div>
<div class="section" id="3.-Basic-statistics-about-Publications-/-Concepts">
<h2>3. Basic statistics about Publications / Concepts<a class="headerlink" href="#3.-Basic-statistics-about-Publications-/-Concepts" title="Permalink to this headline">¶</a></h2>
<p>In this section we’ll show how to get an overview of the concepts data we obtained.</p>
<p>These statistics are important because they will help us contextualize more in-depth analyses of the concepts data we’ll do later on.</p>
<div class="section" id="3.1-Documents-With-concepts-VS-Without">
<h3>3.1 Documents With concepts VS Without<a class="headerlink" href="#3.1-Documents-With-concepts-VS-Without" title="Permalink to this headline">¶</a></h3>
<p>You’ll soon discover that not all documents have associated concepts (eg cause there’s no text to extract them from, in some cases).</p>
<p>Let’s see how many:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">CONCEPTS_FIELD</span> <span class="o">=</span> <span class="s2">&quot;concepts_scores&quot;</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;with_concepts&#39;</span><span class="p">,</span> <span class="s1">&#39;without_concepts&#39;</span><span class="p">]</span> <span class="p">,</span>
    <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">pubs</span><span class="p">[</span><span class="n">CONCEPTS_FIELD</span><span class="p">]</span><span class="o">.</span><span class="n">notnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="n">pubs</span><span class="p">[</span><span class="n">CONCEPTS_FIELD</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()]</span>
             <span class="p">})</span>

<span class="n">px</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">df</span><span class="p">,</span>
       <span class="n">names</span><span class="o">=</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s2">&quot;count&quot;</span><span class="p">,</span>
      <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;How many documents have concepts?&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>


            <div id="e11b5a29-b690-4819-83d9-01221f277209" class="plotly-graph-div" style="height:525px; width:100%;"></div>
            <script type="text/javascript">
                require(["plotly"], function(Plotly) {
                    window.PLOTLYENV=window.PLOTLYENV || {};

                if (document.getElementById("e11b5a29-b690-4819-83d9-01221f277209")) {
                    Plotly.newPlot(
                        'e11b5a29-b690-4819-83d9-01221f277209',
                        [{"domain": {"x": [0.0, 1.0], "y": [0.0, 1.0]}, "hovertemplate": "type=%{label}<br>count=%{value}<extra></extra>", "labels": ["with_concepts", "without_concepts"], "legendgroup": "", "name": "", "showlegend": true, "type": "pie", "values": [8031, 236]}],
                        {"legend": {"tracegroupgap": 0}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "title": {"text": "How many documents have concepts?"}},
                        {"responsive": true}
                    ).then(function(){

var gd = document.getElementById('e11b5a29-b690-4819-83d9-01221f277209');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })
                };
                });
            </script>
        </div></div>
</div>
</div>
<div class="section" id="3.2-Yearly-breakdown-of-Documents-With-concepts-VS-Without">
<h3>3.2 Yearly breakdown of Documents With concepts VS Without<a class="headerlink" href="#3.2-Yearly-breakdown-of-Documents-With-concepts-VS-Without" title="Permalink to this headline">¶</a></h3>
<p>It’s also useful to look at whether the ratio of with/without concepts is stable across the years.</p>
<div class="line-block">
<div class="line">To this end we can use * the publications <code class="docutils literal notranslate"><span class="pre">id</span></code> column to count the total number of publications per year</div>
<div class="line">* the <code class="docutils literal notranslate"><span class="pre">concepts</span></code> column to count the ones that have concepts</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">temp1</span> <span class="o">=</span> <span class="n">pubs</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()[[</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">CONCEPTS_FIELD</span><span class="p">]]</span>
<span class="n">temp1</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s2">&quot;documents&quot;</span><span class="p">,</span> <span class="n">CONCEPTS_FIELD</span><span class="p">:</span> <span class="s2">&quot;with_concepts&quot;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># reorder cols/rows</span>
<span class="n">temp1</span> <span class="o">=</span> <span class="n">temp1</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">id_vars</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;year&quot;</span><span class="p">],</span>
         <span class="n">var_name</span><span class="o">=</span><span class="s2">&quot;type&quot;</span><span class="p">,</span>
        <span class="n">value_name</span><span class="o">=</span><span class="s2">&quot;count&quot;</span><span class="p">)</span>

<span class="n">px</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">temp1</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;How many documents have concepts? Yearly breakdown.&quot;</span><span class="p">,</span>
       <span class="n">x</span><span class="o">=</span><span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;count&quot;</span><span class="p">,</span>
       <span class="n">color</span><span class="o">=</span><span class="s2">&quot;type&quot;</span><span class="p">,</span>
       <span class="n">barmode</span><span class="o">=</span><span class="s2">&quot;group&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>


            <div id="a76e1084-ef40-46bc-b72e-797de40a8fd5" class="plotly-graph-div" style="height:525px; width:100%;"></div>
            <script type="text/javascript">
                require(["plotly"], function(Plotly) {
                    window.PLOTLYENV=window.PLOTLYENV || {};

                if (document.getElementById("a76e1084-ef40-46bc-b72e-797de40a8fd5")) {
                    Plotly.newPlot(
                        'a76e1084-ef40-46bc-b72e-797de40a8fd5',
                        [{"alignmentgroup": "True", "hovertemplate": "type=documents<br>year=%{x}<br>count=%{y}<extra></extra>", "legendgroup": "documents", "marker": {"color": "#636efa"}, "name": "documents", "offsetgroup": "documents", "orientation": "v", "showlegend": true, "textposition": "auto", "type": "bar", "x": [1870, 1878, 1912, 1920, 1921, 1923, 1926, 1927, 1928, 1929, 1930, 1939, 1948, 1949, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, 1961, 1962, 1963, 1964, 1965, 1966, 1967, 1968, 1969, 1970, 1971, 1972, 1973, 1974, 1975, 1976, 1977, 1978, 1979, 1980, 1981, 1982, 1983, 1984, 1985, 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020], "xaxis": "x", "y": [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 6, 13, 1, 2, 4, 7, 4, 4, 1, 6, 1, 7, 9, 4, 5, 2, 8, 8, 19, 13, 13, 24, 21, 14, 20, 25, 32, 25, 42, 35, 29, 37, 30, 45, 55, 61, 46, 66, 75, 57, 62, 62, 75, 68, 82, 82, 90, 109, 101, 108, 100, 112, 133, 146, 147, 146, 199, 223, 270, 283, 260, 259, 307, 345, 365, 384, 398, 554, 676, 732, 500], "yaxis": "y"}, {"alignmentgroup": "True", "hovertemplate": "type=with_concepts<br>year=%{x}<br>count=%{y}<extra></extra>", "legendgroup": "with_concepts", "marker": {"color": "#EF553B"}, "name": "with_concepts", "offsetgroup": "with_concepts", "orientation": "v", "showlegend": true, "textposition": "auto", "type": "bar", "x": [1870, 1878, 1912, 1920, 1921, 1923, 1926, 1927, 1928, 1929, 1930, 1939, 1948, 1949, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, 1961, 1962, 1963, 1964, 1965, 1966, 1967, 1968, 1969, 1970, 1971, 1972, 1973, 1974, 1975, 1976, 1977, 1978, 1979, 1980, 1981, 1982, 1983, 1984, 1985, 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020], "xaxis": "x", "y": [1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 2, 6, 13, 1, 2, 4, 7, 4, 4, 1, 6, 1, 7, 9, 4, 5, 2, 8, 8, 19, 13, 13, 24, 20, 13, 19, 24, 30, 24, 40, 33, 28, 35, 30, 43, 51, 57, 45, 63, 71, 52, 57, 61, 73, 67, 81, 74, 84, 106, 98, 104, 98, 103, 126, 142, 139, 141, 181, 206, 260, 273, 252, 250, 302, 336, 360, 378, 392, 549, 668, 721, 498], "yaxis": "y"}],
                        {"barmode": "group", "legend": {"title": {"text": "type"}, "tracegroupgap": 0}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "title": {"text": "How many documents have concepts? Yearly breakdown."}, "xaxis": {"anchor": "y", "domain": [0.0, 1.0], "title": {"text": "year"}}, "yaxis": {"anchor": "x", "domain": [0.0, 1.0], "title": {"text": "count"}}},
                        {"responsive": true}
                    ).then(function(){

var gd = document.getElementById('a76e1084-ef40-46bc-b72e-797de40a8fd5');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })
                };
                });
            </script>
        </div></div>
</div>
</div>
<div class="section" id="3.3-Concepts-frequency">
<h3>3.3 Concepts frequency<a class="headerlink" href="#3.3-Concepts-frequency" title="Permalink to this headline">¶</a></h3>
<p>It is useful to look at how many concepts appear more than once in our dataset. As you’ll discovert, is often the case that only a subset of concepts appear more than once. That is because documents tend to be highly specialised hence a large number of extracted noun phrases aren’t very common.</p>
<p>By looking at this basic frequency statistics we can determine a useful <strong>frequency threshold</strong> for our analysis - ie to screen out concepts that are not representative of the overall dataset we have.</p>
<p>Tip: change the value of <code class="docutils literal notranslate"><span class="pre">THRESHOLD</span></code> to explore the data.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">THRESHOLD</span> <span class="o">=</span> <span class="mi">2</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s1">&#39;freq&lt;</span><span class="si">{</span><span class="n">THRESHOLD</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
             <span class="sa">f</span><span class="s1">&#39;freq=</span><span class="si">{</span><span class="n">THRESHOLD</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
             <span class="sa">f</span><span class="s1">&#39;freq&gt;</span><span class="si">{</span><span class="n">THRESHOLD</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="p">,</span>
    <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">concepts_unique</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;frequency &lt; </span><span class="si">{</span><span class="n">THRESHOLD</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)[</span><span class="s1">&#39;concept&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">(),</span>
              <span class="n">concepts_unique</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;frequency == </span><span class="si">{</span><span class="n">THRESHOLD</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)[</span><span class="s1">&#39;concept&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">(),</span>
              <span class="n">concepts_unique</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;frequency &gt; </span><span class="si">{</span><span class="n">THRESHOLD</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)[</span><span class="s1">&#39;concept&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()]</span>
             <span class="p">})</span>

<span class="n">px</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">df</span><span class="p">,</span>
       <span class="n">names</span><span class="o">=</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s2">&quot;count&quot;</span><span class="p">,</span>
      <span class="n">title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Concepts with a frequency major than: </span><span class="si">{</span><span class="n">THRESHOLD</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>


            <div id="00f3330a-923d-4f03-a772-49c6a9a3aba4" class="plotly-graph-div" style="height:525px; width:100%;"></div>
            <script type="text/javascript">
                require(["plotly"], function(Plotly) {
                    window.PLOTLYENV=window.PLOTLYENV || {};

                if (document.getElementById("00f3330a-923d-4f03-a772-49c6a9a3aba4")) {
                    Plotly.newPlot(
                        '00f3330a-923d-4f03-a772-49c6a9a3aba4',
                        [{"domain": {"x": [0.0, 1.0], "y": [0.0, 1.0]}, "hovertemplate": "type=%{label}<br>count=%{value}<extra></extra>", "labels": ["freq<2", "freq=2", "freq>2"], "legendgroup": "", "name": "", "showlegend": true, "type": "pie", "values": [63940, 9916, 11791]}],
                        {"legend": {"tracegroupgap": 0}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "title": {"text": "Concepts with a frequency major than: 2"}},
                        {"responsive": true}
                    ).then(function(){

var gd = document.getElementById('00f3330a-923d-4f03-a772-49c6a9a3aba4');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })
                };
                });
            </script>
        </div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">temp</span> <span class="o">=</span> <span class="n">concepts_unique</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;frequency&#39;</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="s1">&#39;concept&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">temp</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;concept&#39;</span> <span class="p">:</span> <span class="s1">&#39;concepts with this frequency&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">px</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span>
           <span class="n">x</span><span class="o">=</span><span class="s2">&quot;frequency&quot;</span><span class="p">,</span>
           <span class="n">y</span><span class="o">=</span><span class="s2">&quot;concepts with this frequency&quot;</span><span class="p">,</span>
          <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Distribution of concepts frequencies&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>


            <div id="42b6fe2d-72f0-4d58-a9e2-4682a91184b3" class="plotly-graph-div" style="height:525px; width:100%;"></div>
            <script type="text/javascript">
                require(["plotly"], function(Plotly) {
                    window.PLOTLYENV=window.PLOTLYENV || {};

                if (document.getElementById("42b6fe2d-72f0-4d58-a9e2-4682a91184b3")) {
                    Plotly.newPlot(
                        '42b6fe2d-72f0-4d58-a9e2-4682a91184b3',
                        [{"hovertemplate": "frequency=%{x}<br>concepts with this frequency=%{y}<extra></extra>", "legendgroup": "", "marker": {"color": "#636efa", "symbol": "circle"}, "mode": "markers", "name": "", "orientation": "v", "showlegend": false, "type": "scatter", "x": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 111, 112, 113, 114, 116, 117, 118, 119, 121, 122, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 149, 150, 151, 152, 153, 155, 156, 157, 158, 159, 161, 163, 164, 165, 168, 169, 171, 173, 175, 176, 177, 178, 179, 181, 182, 183, 184, 187, 188, 189, 190, 191, 194, 195, 196, 197, 198, 199, 201, 203, 205, 207, 208, 209, 210, 212, 213, 214, 216, 217, 218, 219, 220, 221, 225, 226, 229, 230, 231, 233, 234, 235, 236, 237, 240, 243, 244, 246, 247, 249, 252, 253, 254, 257, 259, 261, 262, 264, 265, 268, 270, 272, 273, 275, 276, 279, 280, 281, 282, 283, 284, 288, 289, 292, 296, 298, 300, 304, 308, 319, 326, 331, 332, 336, 337, 339, 340, 342, 343, 344, 346, 348, 349, 350, 352, 359, 360, 361, 363, 368, 370, 373, 374, 378, 381, 386, 388, 389, 390, 393, 394, 396, 401, 402, 406, 410, 412, 421, 426, 428, 430, 435, 436, 437, 450, 458, 459, 464, 472, 483, 484, 493, 501, 512, 518, 520, 531, 535, 541, 548, 549, 561, 569, 570, 573, 576, 580, 582, 586, 588, 613, 630, 634, 651, 661, 663, 670, 672, 686, 692, 695, 697, 700, 717, 760, 768, 773, 782, 805, 829, 859, 860, 901, 910, 944, 971, 1024, 1028, 1038, 1084, 1091, 1225, 1301, 1479, 1845, 2021], "xaxis": "x", "y": [63940, 9916, 3544, 1929, 1177, 742, 525, 437, 310, 280, 238, 205, 153, 124, 134, 99, 82, 86, 83, 68, 48, 61, 49, 40, 40, 39, 34, 36, 45, 32, 24, 27, 22, 28, 20, 26, 26, 22, 19, 18, 14, 15, 15, 11, 12, 18, 18, 13, 19, 5, 11, 12, 14, 10, 12, 10, 7, 5, 13, 13, 11, 10, 6, 17, 10, 13, 8, 8, 5, 6, 3, 7, 9, 3, 6, 3, 8, 11, 6, 7, 6, 3, 7, 7, 5, 4, 6, 2, 6, 5, 4, 1, 7, 2, 9, 3, 2, 4, 1, 4, 4, 1, 3, 5, 5, 5, 4, 3, 3, 6, 7, 3, 3, 5, 5, 2, 2, 1, 3, 1, 2, 3, 4, 2, 1, 3, 5, 5, 1, 2, 2, 4, 4, 1, 4, 4, 3, 3, 2, 1, 2, 1, 2, 2, 2, 2, 1, 3, 2, 2, 2, 4, 2, 5, 4, 3, 2, 1, 3, 1, 2, 5, 3, 2, 1, 3, 2, 4, 4, 1, 1, 1, 3, 1, 1, 2, 1, 3, 3, 1, 1, 1, 2, 3, 1, 1, 1, 1, 1, 1, 2, 1, 3, 2, 1, 1, 1, 1, 2, 1, 2, 1, 1, 1, 1, 1, 3, 2, 1, 1, 1, 1, 1, 2, 1, 3, 1, 2, 2, 1, 2, 1, 1, 1, 1, 1, 2, 1, 2, 1, 2, 1, 1, 1, 1, 1, 1, 4, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 1, 1, 1, 3, 2, 1, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 3, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], "yaxis": "y"}],
                        {"legend": {"tracegroupgap": 0}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "title": {"text": "Distribution of concepts frequencies"}, "xaxis": {"anchor": "y", "domain": [0.0, 1.0], "title": {"text": "frequency"}}, "yaxis": {"anchor": "x", "domain": [0.0, 1.0], "title": {"text": "concepts with this frequency"}}},
                        {"responsive": true}
                    ).then(function(){

var gd = document.getElementById('42b6fe2d-72f0-4d58-a9e2-4682a91184b3');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })
                };
                });
            </script>
        </div></div>
</div>
</div>
<div class="section" id="3.4-Yearly-breakdown:-unique-VS-repeated-concepts">
<h3>3.4 Yearly breakdown: unique VS repeated concepts<a class="headerlink" href="#3.4-Yearly-breakdown:-unique-VS-repeated-concepts" title="Permalink to this headline">¶</a></h3>
<p>Also useful to look at the number of concepts per year, VS the number of unique concepts. That will give us a sense of whether the distribution of repeated concepts is stable across the years.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">series1</span> <span class="o">=</span> <span class="n">concepts</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;year&quot;</span><span class="p">)[</span><span class="s1">&#39;concept&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s2">&quot;All concepts&quot;</span><span class="p">)</span>
<span class="n">series2</span> <span class="o">=</span> <span class="n">concepts</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;year&quot;</span><span class="p">)[</span><span class="s1">&#39;concept&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s2">&quot;Unique concepts&quot;</span><span class="p">)</span>
<span class="n">temp2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">series1</span><span class="p">,</span> <span class="n">series2</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">temp2</span> <span class="o">=</span> <span class="n">temp2</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">id_vars</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;year&quot;</span><span class="p">],</span>
         <span class="n">var_name</span><span class="o">=</span><span class="s2">&quot;type&quot;</span><span class="p">,</span>
        <span class="n">value_name</span><span class="o">=</span><span class="s2">&quot;count&quot;</span><span class="p">)</span>

<span class="n">px</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">temp2</span><span class="p">,</span>
       <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Yearly breakdown: Tot concepts VS Unique concepts&quot;</span><span class="p">,</span>
       <span class="n">x</span><span class="o">=</span><span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;count&quot;</span><span class="p">,</span>
       <span class="n">color</span><span class="o">=</span><span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="n">barmode</span><span class="o">=</span><span class="s2">&quot;group&quot;</span><span class="p">,</span>
       <span class="n">color_discrete_sequence</span><span class="o">=</span><span class="n">px</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">carto</span><span class="o">.</span><span class="n">Antique</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>


            <div id="dd2e23ed-1bc8-4c63-99da-648f5e6c32ad" class="plotly-graph-div" style="height:525px; width:100%;"></div>
            <script type="text/javascript">
                require(["plotly"], function(Plotly) {
                    window.PLOTLYENV=window.PLOTLYENV || {};

                if (document.getElementById("dd2e23ed-1bc8-4c63-99da-648f5e6c32ad")) {
                    Plotly.newPlot(
                        'dd2e23ed-1bc8-4c63-99da-648f5e6c32ad',
                        [{"alignmentgroup": "True", "hovertemplate": "type=All concepts<br>year=%{x}<br>count=%{y}<extra></extra>", "legendgroup": "All concepts", "marker": {"color": "rgb(133, 92, 117)"}, "name": "All concepts", "offsetgroup": "All concepts", "orientation": "v", "showlegend": true, "textposition": "auto", "type": "bar", "x": [1870, 1878, 1912, 1920, 1921, 1923, 1926, 1928, 1929, 1930, 1939, 1948, 1949, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, 1961, 1962, 1963, 1964, 1965, 1966, 1967, 1968, 1969, 1970, 1971, 1972, 1973, 1974, 1975, 1976, 1977, 1978, 1979, 1980, 1981, 1982, 1983, 1984, 1985, 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020], "xaxis": "x", "y": [28, 18, 36, 66, 36, 21, 10, 8, 5, 3, 46, 44, 77, 3, 14, 80, 79, 31, 159, 108, 138, 2, 153, 215, 75, 79, 5, 124, 59, 755, 449, 309, 537, 543, 270, 483, 309, 455, 416, 935, 631, 391, 589, 356, 743, 1194, 1116, 924, 1488, 2028, 1309, 1253, 2019, 1824, 1874, 1400, 1776, 2849, 2945, 3333, 3433, 3192, 3725, 4531, 4973, 5466, 5445, 7159, 8114, 9923, 10175, 10278, 10916, 11815, 15972, 15662, 15987, 17939, 25480, 31658, 34508, 23422], "yaxis": "y"}, {"alignmentgroup": "True", "hovertemplate": "type=Unique concepts<br>year=%{x}<br>count=%{y}<extra></extra>", "legendgroup": "Unique concepts", "marker": {"color": "rgb(217, 175, 107)"}, "name": "Unique concepts", "offsetgroup": "Unique concepts", "orientation": "v", "showlegend": true, "textposition": "auto", "type": "bar", "x": [1870, 1878, 1912, 1920, 1921, 1923, 1926, 1928, 1929, 1930, 1939, 1948, 1949, 1952, 1953, 1954, 1955, 1956, 1957, 1958, 1959, 1960, 1961, 1962, 1963, 1964, 1965, 1966, 1967, 1968, 1969, 1970, 1971, 1972, 1973, 1974, 1975, 1976, 1977, 1978, 1979, 1980, 1981, 1982, 1983, 1984, 1985, 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020], "xaxis": "x", "y": [28, 18, 36, 66, 36, 21, 10, 8, 5, 3, 46, 28, 50, 3, 14, 77, 78, 22, 155, 108, 136, 2, 143, 210, 75, 79, 5, 119, 57, 615, 411, 285, 450, 472, 246, 425, 290, 402, 368, 730, 530, 346, 517, 323, 603, 932, 886, 748, 1120, 1423, 1005, 969, 1434, 1357, 1349, 1106, 1293, 2036, 2079, 2226, 2293, 2038, 2473, 2925, 3066, 3322, 3339, 4190, 4645, 5422, 5507, 5684, 5894, 6380, 8119, 7845, 8059, 8695, 11519, 13714, 14687, 10760], "yaxis": "y"}],
                        {"barmode": "group", "legend": {"title": {"text": "type"}, "tracegroupgap": 0}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "title": {"text": "Yearly breakdown: Tot concepts VS Unique concepts"}, "xaxis": {"anchor": "y", "domain": [0.0, 1.0], "title": {"text": "year"}}, "yaxis": {"anchor": "x", "domain": [0.0, 1.0], "title": {"text": "count"}}},
                        {"responsive": true}
                    ).then(function(){

var gd = document.getElementById('dd2e23ed-1bc8-4c63-99da-648f5e6c32ad');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })
                };
                });
            </script>
        </div></div>
</div>
</div>
</div>
<div class="section" id="4.-Making-sense-of-concepts-information">
<h2>4. Making sense of <em>concepts</em> information<a class="headerlink" href="#4.-Making-sense-of-concepts-information" title="Permalink to this headline">¶</a></h2>
<p>In this section we will take a deep dive into the concepts themselves, in particular by using the two metrics obtained above: <code class="docutils literal notranslate"><span class="pre">frequency</span></code> and <code class="docutils literal notranslate"><span class="pre">score_avg</span></code>.</p>
<p>These metrics will let us filter out concepts that are too common or very infrequent, while instead highlighting concepts that are semantically representative of our dataset.</p>
<p>The main thing to keep in mind is that <strong>only the combination of these two metrics can lead to interesting results</strong>. For example, if we used only <em>frequency</em> it’ll lead to common keywords that are not very relevant; on the other hand, using only <em>relevancy</em> will result in concepts that important but just to one or two documents.</p>
<p>For example, let’s see what happens if we get the top concepts based on <code class="docutils literal notranslate"><span class="pre">frequency</span></code> only:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">top</span> <span class="o">=</span> <span class="n">concepts_unique</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;frequency&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)[:</span><span class="mi">20</span><span class="p">]</span>

<span class="n">px</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">top</span><span class="p">,</span>
       <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Concepts sorted by frequency&quot;</span><span class="p">,</span>
       <span class="n">x</span><span class="o">=</span><span class="s2">&quot;concept&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;frequency&quot;</span><span class="p">,</span>
       <span class="n">color</span><span class="o">=</span><span class="s2">&quot;score_avg&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>


            <div id="12e8e929-bdc3-410f-baa3-81c7fda45f9a" class="plotly-graph-div" style="height:525px; width:100%;"></div>
            <script type="text/javascript">
                require(["plotly"], function(Plotly) {
                    window.PLOTLYENV=window.PLOTLYENV || {};

                if (document.getElementById("12e8e929-bdc3-410f-baa3-81c7fda45f9a")) {
                    Plotly.newPlot(
                        '12e8e929-bdc3-410f-baa3-81c7fda45f9a',
                        [{"alignmentgroup": "True", "hovertemplate": "concept=%{x}<br>frequency=%{y}<br>score_avg=%{marker.color}<extra></extra>", "legendgroup": "", "marker": {"color": [0.23867, 0.25108, 0.23123, 0.33375, 0.38806, 0.30482, 0.21227, 0.46985, 0.26277, 0.27178, 0.38204, 0.34815, 0.27101, 0.28405, 0.38396, 0.16563, 0.38717, 0.31633, 0.29583, 0.35109], "coloraxis": "coloraxis"}, "name": "", "offsetgroup": "", "orientation": "v", "showlegend": false, "textposition": "auto", "type": "bar", "x": ["study", "paper", "analysis", "research", "article", "development", "data", "policy", "approach", "process", "practice", "way", "changes", "role", "context", "results", "people", "relationship", "work", "issues"], "xaxis": "x", "y": [2021, 1845, 1479, 1301, 1225, 1091, 1084, 1038, 1028, 1024, 971, 944, 910, 901, 860, 859, 829, 805, 782, 773], "yaxis": "y"}],
                        {"barmode": "relative", "coloraxis": {"colorbar": {"title": {"text": "score_avg"}}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "legend": {"tracegroupgap": 0}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "title": {"text": "Concepts sorted by frequency"}, "xaxis": {"anchor": "y", "domain": [0.0, 1.0], "title": {"text": "concept"}}, "yaxis": {"anchor": "x", "domain": [0.0, 1.0], "title": {"text": "frequency"}}},
                        {"responsive": true}
                    ).then(function(){

var gd = document.getElementById('12e8e929-bdc3-410f-baa3-81c7fda45f9a');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })
                };
                });
            </script>
        </div></div>
</div>
<p>Not very interesting at all! Those keywords are obviously very common (eg <em>study</em> or <em>development</em>) in the scientific literature, but of very little semantic interest.</p>
<div class="section" id="4.1-[Method-1]-prefiltering-by-score_avg-and-sorting-by-frequency">
<h3>4.1 [Method 1] prefiltering by <code class="docutils literal notranslate"><span class="pre">score_avg</span></code> and sorting by <code class="docutils literal notranslate"><span class="pre">frequency</span></code><a class="headerlink" href="#4.1-[Method-1]-prefiltering-by-score_avg-and-sorting-by-frequency" title="Permalink to this headline">¶</a></h3>
<p>IE by doing so we aim at extracting concepts that are both frequent and tend to be very relevant (within their documents).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">temp</span> <span class="o">=</span> <span class="n">concepts_unique</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;score_avg &gt; 0.6&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;frequency&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">px</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">temp</span><span class="p">[:</span><span class="mi">50</span><span class="p">],</span>
       <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Concepts with high average score, sorted by frequency&quot;</span><span class="p">,</span>
       <span class="n">x</span><span class="o">=</span><span class="s2">&quot;concept&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;frequency&quot;</span><span class="p">,</span>
       <span class="n">color</span><span class="o">=</span><span class="s2">&quot;score_avg&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>


            <div id="04fc71a8-a1a0-4428-b71b-076f66b19ea1" class="plotly-graph-div" style="height:525px; width:100%;"></div>
            <script type="text/javascript">
                require(["plotly"], function(Plotly) {
                    window.PLOTLYENV=window.PLOTLYENV || {};

                if (document.getElementById("04fc71a8-a1a0-4428-b71b-076f66b19ea1")) {
                    Plotly.newPlot(
                        '04fc71a8-a1a0-4428-b71b-076f66b19ea1',
                        [{"alignmentgroup": "True", "hovertemplate": "concept=%{x}<br>frequency=%{y}<br>score_avg=%{marker.color}<extra></extra>", "legendgroup": "", "marker": {"color": [0.64703, 0.6052, 0.61566, 0.60898, 0.62621, 0.64366, 0.60657, 0.6206, 0.68189, 0.64316, 0.6378, 0.60061, 0.60211, 0.65169, 0.62178, 0.63601, 0.62059, 0.67405, 0.64116, 0.66007, 0.62431, 0.61278, 0.62434, 0.60273, 0.62683, 0.63482, 0.66836, 0.68979, 0.60652, 0.63127, 0.61947, 0.66968, 0.66179, 0.60011, 0.66936, 0.68315, 0.60459, 0.66954, 0.63663, 0.61407, 0.64733, 0.61101, 0.62422, 0.65313, 0.63273, 0.66947, 0.61276, 0.6067, 0.69789, 0.66331], "coloraxis": "coloraxis"}, "name": "", "offsetgroup": "", "orientation": "v", "showlegend": false, "textposition": "auto", "type": "bar", "x": ["young people", "higher education", "public policy", "depth interviews", "economic growth", "local governments", "Global South", "qualitative research", "social policy", "power relations", "education policy", "social capital", "social mobility", "civil society", "social justice", "government policy", "qualitative interviews", "policy agenda", "social exclusion", "political parties", "regional development", "social movements", "policy development", "crime prevention", "urban change", "knowledge production", "policy analysis", "welfare state", "social life", "urban policy", "political context", "housing policy", "informal settlements", "public sphere", "financial crisis", "political system", "public transport", "policy discourse", "policy process", "discourse analysis", "policy changes", "natural resources", "urban governance", "social inclusion", "middle class", "policy framework", "Global North", "ethnographic study", "gender equality", "political participation"], "xaxis": "x", "y": [181, 81, 66, 64, 52, 51, 47, 47, 45, 45, 45, 43, 38, 38, 37, 36, 33, 32, 30, 30, 30, 30, 29, 28, 25, 24, 24, 23, 23, 23, 23, 22, 22, 22, 22, 22, 22, 21, 21, 20, 20, 20, 19, 19, 19, 18, 18, 18, 18, 18], "yaxis": "y"}],
                        {"barmode": "relative", "coloraxis": {"colorbar": {"title": {"text": "score_avg"}}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "legend": {"tracegroupgap": 0}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "title": {"text": "Concepts with high average score, sorted by frequency"}, "xaxis": {"anchor": "y", "domain": [0.0, 1.0], "title": {"text": "concept"}}, "yaxis": {"anchor": "x", "domain": [0.0, 1.0], "title": {"text": "frequency"}}},
                        {"responsive": true}
                    ).then(function(){

var gd = document.getElementById('04fc71a8-a1a0-4428-b71b-076f66b19ea1');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })
                };
                });
            </script>
        </div></div>
</div>
</div>
<div class="section" id="4.2-[Method-2]-prefiltering-by-frequency-and-sorting-by-score_avg">
<h3>4.2 [Method 2] prefiltering by <code class="docutils literal notranslate"><span class="pre">frequency</span></code> and sorting by <code class="docutils literal notranslate"><span class="pre">score_avg</span></code><a class="headerlink" href="#4.2-[Method-2]-prefiltering-by-frequency-and-sorting-by-score_avg" title="Permalink to this headline">¶</a></h3>
<p>This method also allows to isolate interesting concepts, even if they are not very frequently appearing in our dataset.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">temp</span> <span class="o">=</span> <span class="n">concepts_unique</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;frequency &gt; 10 &amp; frequency &lt; 100&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">&quot;score_avg&quot;</span><span class="p">,</span> <span class="s2">&quot;frequency&quot;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">px</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">temp</span><span class="p">[:</span><span class="mi">100</span><span class="p">],</span>
       <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Concepts with medium frequency, sorted by score_avg&quot;</span><span class="p">,</span>
       <span class="n">x</span><span class="o">=</span><span class="s2">&quot;concept&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;score_avg&quot;</span><span class="p">,</span>
       <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>
       <span class="n">color</span><span class="o">=</span><span class="s2">&quot;frequency&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>


            <div id="fe862aa4-c78a-4375-af2c-a348a3b60c91" class="plotly-graph-div" style="height:600px; width:100%;"></div>
            <script type="text/javascript">
                require(["plotly"], function(Plotly) {
                    window.PLOTLYENV=window.PLOTLYENV || {};

                if (document.getElementById("fe862aa4-c78a-4375-af2c-a348a3b60c91")) {
                    Plotly.newPlot(
                        'fe862aa4-c78a-4375-af2c-a348a3b60c91',
                        [{"alignmentgroup": "True", "hovertemplate": "concept=%{x}<br>score_avg=%{y}<br>frequency=%{marker.color}<extra></extra>", "legendgroup": "", "marker": {"color": [11, 17, 14, 11, 15, 13, 18, 15, 12, 11, 18, 23, 11, 15, 17, 22, 45, 15, 12, 12, 32, 16, 14, 13, 12, 22, 21, 18, 22, 24, 11, 12, 18, 13, 22, 30, 12, 12, 11, 12, 11, 12, 11, 19, 15, 14, 38, 12, 20, 13, 12, 15, 13, 51, 11, 45, 30, 11, 12, 45, 11, 15, 21, 36, 17, 16, 24, 14, 13, 15, 11, 17, 17, 19, 23, 18, 11, 11, 11, 25, 14, 52, 13, 16, 11, 14, 29, 30, 19, 12, 11, 13, 11, 37, 47, 33, 15, 23, 13, 17], "coloraxis": "coloraxis"}, "name": "", "offsetgroup": "", "orientation": "v", "showlegend": false, "textposition": "auto", "type": "bar", "x": ["non-state actors", "Sustainable Development Goals", "global financial crisis", "policy mobilities", "environmental governance", "political change", "political philosophy", "climate change adaptation", "community participation", "party politics", "gender equality", "welfare state", "Labour government", "political ecology", "non-governmental organizations", "political system", "social policy", "development policies", "political agenda", "domestic violence", "policy agenda", "political institutions", "urban politics", "policy approaches", "political discourse", "housing policy", "policy discourse", "policy framework", "financial crisis", "policy analysis", "political scientists", "policy reforms", "political participation", "ethnic identity", "informal settlements", "political parties", "higher education institutions", "environmental justice", "ethnic minority groups", "political thought", "English schools", "policy documents", "political representation", "social inclusion", "social cohesion", "social order", "civil society", "educational reform", "policy changes", "policy actors", "local economy", "change adaptation", "police officers", "local governments", "demographic transition", "power relations", "social exclusion", "urban fabric", "inclusive education", "education policy", "socio-economic position", "Cold War", "policy process", "government policy", "national governments", "inner city", "knowledge production", "income inequality", "Southeast Asia", "planning policies", "nation state", "policy areas", "social construction", "middle class", "urban policy", "Soviet Union", "cultural values", "state policies", "rule of law", "urban change", "minority groups", "economic growth", "central government", "good governance", "social welfare", "innovation system", "policy development", "regional development", "urban governance", "social determinants", "contemporary debates", "Latin American cities", "women's rights", "social justice", "qualitative research", "qualitative interviews", "education institutions", "political context", "capability approach", "ethnic minorities"], "xaxis": "x", "y": [0.76735, 0.74172, 0.71775, 0.71619, 0.70696, 0.7068, 0.70499, 0.703, 0.70278, 0.69987, 0.69789, 0.68979, 0.68757, 0.68649, 0.68641, 0.68315, 0.68189, 0.67983, 0.67851, 0.67641, 0.67405, 0.67372, 0.67018, 0.67006, 0.66978, 0.66968, 0.66954, 0.66947, 0.66936, 0.66836, 0.66785, 0.66742, 0.66331, 0.66284, 0.66179, 0.66007, 0.65953, 0.65802, 0.658, 0.6578, 0.65758, 0.65681, 0.65445, 0.65313, 0.65275, 0.65234, 0.65169, 0.65137, 0.64733, 0.64698, 0.64638, 0.64618, 0.64406, 0.64366, 0.64317, 0.64316, 0.64116, 0.63851, 0.63829, 0.6378, 0.63715, 0.63681, 0.63663, 0.63601, 0.63578, 0.63569, 0.63482, 0.6346, 0.63449, 0.63433, 0.63405, 0.63317, 0.63282, 0.63273, 0.63127, 0.63038, 0.62962, 0.62954, 0.62952, 0.62683, 0.62638, 0.62621, 0.6262, 0.62568, 0.62497, 0.62477, 0.62434, 0.62431, 0.62422, 0.62419, 0.62345, 0.62321, 0.622, 0.62178, 0.6206, 0.62059, 0.62057, 0.61947, 0.61915, 0.61742], "yaxis": "y"}],
                        {"barmode": "relative", "coloraxis": {"colorbar": {"title": {"text": "frequency"}}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "height": 600, "legend": {"tracegroupgap": 0}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "title": {"text": "Concepts with medium frequency, sorted by score_avg"}, "xaxis": {"anchor": "y", "domain": [0.0, 1.0], "title": {"text": "concept"}}, "yaxis": {"anchor": "x", "domain": [0.0, 1.0], "title": {"text": "score_avg"}}},
                        {"responsive": true}
                    ).then(function(){

var gd = document.getElementById('fe862aa4-c78a-4375-af2c-a348a3b60c91');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })
                };
                });
            </script>
        </div></div>
</div>
<p>Another visualization of the same data: plotting the frequency on the y axis makes it easier to isolate the most common concepts.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">temp</span> <span class="o">=</span> <span class="n">concepts_unique</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;frequency &gt; 10 &amp; frequency &lt; 100&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">&quot;score_avg&quot;</span><span class="p">,</span> <span class="s2">&quot;frequency&quot;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">px</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">temp</span><span class="p">[:</span><span class="mi">100</span><span class="p">],</span>
           <span class="n">x</span><span class="o">=</span><span class="s2">&quot;concept&quot;</span><span class="p">,</span>
           <span class="n">y</span><span class="o">=</span><span class="s2">&quot;frequency&quot;</span><span class="p">,</span>
           <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>
           <span class="n">color</span><span class="o">=</span><span class="s2">&quot;score_avg&quot;</span><span class="p">,</span>
           <span class="n">size</span><span class="o">=</span><span class="s2">&quot;score_avg&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>


            <div id="ab2926e1-c93e-45b8-b988-ab9cf743fc6e" class="plotly-graph-div" style="height:600px; width:100%;"></div>
            <script type="text/javascript">
                require(["plotly"], function(Plotly) {
                    window.PLOTLYENV=window.PLOTLYENV || {};

                if (document.getElementById("ab2926e1-c93e-45b8-b988-ab9cf743fc6e")) {
                    Plotly.newPlot(
                        'ab2926e1-c93e-45b8-b988-ab9cf743fc6e',
                        [{"hovertemplate": "concept=%{x}<br>frequency=%{y}<br>score_avg=%{marker.color}<extra></extra>", "legendgroup": "", "marker": {"color": [0.76735, 0.74172, 0.71775, 0.71619, 0.70696, 0.7068, 0.70499, 0.703, 0.70278, 0.69987, 0.69789, 0.68979, 0.68757, 0.68649, 0.68641, 0.68315, 0.68189, 0.67983, 0.67851, 0.67641, 0.67405, 0.67372, 0.67018, 0.67006, 0.66978, 0.66968, 0.66954, 0.66947, 0.66936, 0.66836, 0.66785, 0.66742, 0.66331, 0.66284, 0.66179, 0.66007, 0.65953, 0.65802, 0.658, 0.6578, 0.65758, 0.65681, 0.65445, 0.65313, 0.65275, 0.65234, 0.65169, 0.65137, 0.64733, 0.64698, 0.64638, 0.64618, 0.64406, 0.64366, 0.64317, 0.64316, 0.64116, 0.63851, 0.63829, 0.6378, 0.63715, 0.63681, 0.63663, 0.63601, 0.63578, 0.63569, 0.63482, 0.6346, 0.63449, 0.63433, 0.63405, 0.63317, 0.63282, 0.63273, 0.63127, 0.63038, 0.62962, 0.62954, 0.62952, 0.62683, 0.62638, 0.62621, 0.6262, 0.62568, 0.62497, 0.62477, 0.62434, 0.62431, 0.62422, 0.62419, 0.62345, 0.62321, 0.622, 0.62178, 0.6206, 0.62059, 0.62057, 0.61947, 0.61915, 0.61742], "coloraxis": "coloraxis", "size": [0.76735, 0.74172, 0.71775, 0.71619, 0.70696, 0.7068, 0.70499, 0.703, 0.70278, 0.69987, 0.69789, 0.68979, 0.68757, 0.68649, 0.68641, 0.68315, 0.68189, 0.67983, 0.67851, 0.67641, 0.67405, 0.67372, 0.67018, 0.67006, 0.66978, 0.66968, 0.66954, 0.66947, 0.66936, 0.66836, 0.66785, 0.66742, 0.66331, 0.66284, 0.66179, 0.66007, 0.65953, 0.65802, 0.658, 0.6578, 0.65758, 0.65681, 0.65445, 0.65313, 0.65275, 0.65234, 0.65169, 0.65137, 0.64733, 0.64698, 0.64638, 0.64618, 0.64406, 0.64366, 0.64317, 0.64316, 0.64116, 0.63851, 0.63829, 0.6378, 0.63715, 0.63681, 0.63663, 0.63601, 0.63578, 0.63569, 0.63482, 0.6346, 0.63449, 0.63433, 0.63405, 0.63317, 0.63282, 0.63273, 0.63127, 0.63038, 0.62962, 0.62954, 0.62952, 0.62683, 0.62638, 0.62621, 0.6262, 0.62568, 0.62497, 0.62477, 0.62434, 0.62431, 0.62422, 0.62419, 0.62345, 0.62321, 0.622, 0.62178, 0.6206, 0.62059, 0.62057, 0.61947, 0.61915, 0.61742], "sizemode": "area", "sizeref": 0.001918375, "symbol": "circle"}, "mode": "markers", "name": "", "orientation": "v", "showlegend": false, "type": "scatter", "x": ["non-state actors", "Sustainable Development Goals", "global financial crisis", "policy mobilities", "environmental governance", "political change", "political philosophy", "climate change adaptation", "community participation", "party politics", "gender equality", "welfare state", "Labour government", "political ecology", "non-governmental organizations", "political system", "social policy", "development policies", "political agenda", "domestic violence", "policy agenda", "political institutions", "urban politics", "policy approaches", "political discourse", "housing policy", "policy discourse", "policy framework", "financial crisis", "policy analysis", "political scientists", "policy reforms", "political participation", "ethnic identity", "informal settlements", "political parties", "higher education institutions", "environmental justice", "ethnic minority groups", "political thought", "English schools", "policy documents", "political representation", "social inclusion", "social cohesion", "social order", "civil society", "educational reform", "policy changes", "policy actors", "local economy", "change adaptation", "police officers", "local governments", "demographic transition", "power relations", "social exclusion", "urban fabric", "inclusive education", "education policy", "socio-economic position", "Cold War", "policy process", "government policy", "national governments", "inner city", "knowledge production", "income inequality", "Southeast Asia", "planning policies", "nation state", "policy areas", "social construction", "middle class", "urban policy", "Soviet Union", "cultural values", "state policies", "rule of law", "urban change", "minority groups", "economic growth", "central government", "good governance", "social welfare", "innovation system", "policy development", "regional development", "urban governance", "social determinants", "contemporary debates", "Latin American cities", "women's rights", "social justice", "qualitative research", "qualitative interviews", "education institutions", "political context", "capability approach", "ethnic minorities"], "xaxis": "x", "y": [11, 17, 14, 11, 15, 13, 18, 15, 12, 11, 18, 23, 11, 15, 17, 22, 45, 15, 12, 12, 32, 16, 14, 13, 12, 22, 21, 18, 22, 24, 11, 12, 18, 13, 22, 30, 12, 12, 11, 12, 11, 12, 11, 19, 15, 14, 38, 12, 20, 13, 12, 15, 13, 51, 11, 45, 30, 11, 12, 45, 11, 15, 21, 36, 17, 16, 24, 14, 13, 15, 11, 17, 17, 19, 23, 18, 11, 11, 11, 25, 14, 52, 13, 16, 11, 14, 29, 30, 19, 12, 11, 13, 11, 37, 47, 33, 15, 23, 13, 17], "yaxis": "y"}],
                        {"coloraxis": {"colorbar": {"title": {"text": "score_avg"}}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "height": 600, "legend": {"itemsizing": "constant", "tracegroupgap": 0}, "margin": {"t": 60}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "xaxis": {"anchor": "y", "domain": [0.0, 1.0], "title": {"text": "concept"}}, "yaxis": {"anchor": "x", "domain": [0.0, 1.0], "title": {"text": "frequency"}}},
                        {"responsive": true}
                    ).then(function(){

var gd = document.getElementById('ab2926e1-c93e-45b8-b988-ab9cf743fc6e');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })
                };
                });
            </script>
        </div></div>
</div>
</div>
</div>
<div class="section" id="5.-Analyses-By-Year">
<h2>5. Analyses By Year<a class="headerlink" href="#5.-Analyses-By-Year" title="Permalink to this headline">¶</a></h2>
<p>In this section we will show how to use the methods above together with a yearly segmentation of the documents data. This will allow us to draw up some cool comparison of concepts/topics across years.</p>
<div class="section" id="5.1-Adding-year-based-metrics-to-the-concepts-dataframe">
<h3>5.1 Adding year-based metrics to the concepts dataframe<a class="headerlink" href="#5.1-Adding-year-based-metrics-to-the-concepts-dataframe" title="Permalink to this headline">¶</a></h3>
<p>These are the steps</p>
<ul class="simple">
<li><p>recalculate <em>freq</em> and <em>score_avg</em> for each year, using the original concepts dataset from section 2.1</p></li>
<li><p>note this will result in duplicates (as many as the appearances of a concept within the same year), which of course we should remove</p></li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[41]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">concepts</span><span class="p">[</span><span class="s1">&#39;frequency_year&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">concepts</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="s1">&#39;concept&#39;</span><span class="p">])[</span><span class="s1">&#39;concept&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>
<span class="n">concepts</span><span class="p">[</span><span class="s1">&#39;score_avg_year&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">concepts</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="s1">&#39;concept&#39;</span><span class="p">])[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="s1">&#39;mean&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<span class="n">concepts_by_year</span> <span class="o">=</span> <span class="n">concepts</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;concept&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">])</span>\
                    <span class="p">[[</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="s1">&#39;concept&#39;</span><span class="p">,</span> <span class="s1">&#39;frequency_year&#39;</span><span class="p">,</span> <span class="s1">&#39;score_avg_year&#39;</span><span class="p">]]</span>
<span class="n">concepts_by_year</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[41]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>concept</th>
      <th>frequency_year</th>
      <th>score_avg_year</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2020</td>
      <td>second-generation migrants</td>
      <td>1</td>
      <td>0.69108</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2020</td>
      <td>children of migrants</td>
      <td>1</td>
      <td>0.68700</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2020</td>
      <td>Donald Trump’s election</td>
      <td>1</td>
      <td>0.68565</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2020</td>
      <td>second-generation group</td>
      <td>1</td>
      <td>0.68345</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2020</td>
      <td>feelings of exclusion</td>
      <td>1</td>
      <td>0.67114</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>For example, let’s look at the yearly-distribution of a specific concept: <em>migrants</em></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[42]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">concepts_by_year</span><span class="p">[</span><span class="n">concepts_by_year</span><span class="p">[</span><span class="s1">&#39;concept&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;migrants&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[42]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>concept</th>
      <th>frequency_year</th>
      <th>score_avg_year</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>15</th>
      <td>2020</td>
      <td>migrants</td>
      <td>13</td>
      <td>0.57374</td>
    </tr>
    <tr>
      <th>24802</th>
      <td>2019</td>
      <td>migrants</td>
      <td>20</td>
      <td>0.54701</td>
    </tr>
    <tr>
      <th>58574</th>
      <td>2018</td>
      <td>migrants</td>
      <td>19</td>
      <td>0.56283</td>
    </tr>
    <tr>
      <th>91568</th>
      <td>2017</td>
      <td>migrants</td>
      <td>10</td>
      <td>0.45743</td>
    </tr>
    <tr>
      <th>116217</th>
      <td>2016</td>
      <td>migrants</td>
      <td>11</td>
      <td>0.48838</td>
    </tr>
    <tr>
      <th>133627</th>
      <td>2015</td>
      <td>migrants</td>
      <td>3</td>
      <td>0.50477</td>
    </tr>
    <tr>
      <th>153586</th>
      <td>2014</td>
      <td>migrants</td>
      <td>4</td>
      <td>0.57564</td>
    </tr>
    <tr>
      <th>167388</th>
      <td>2013</td>
      <td>migrants</td>
      <td>3</td>
      <td>0.58176</td>
    </tr>
    <tr>
      <th>185555</th>
      <td>2012</td>
      <td>migrants</td>
      <td>2</td>
      <td>0.52287</td>
    </tr>
    <tr>
      <th>197645</th>
      <td>2011</td>
      <td>migrants</td>
      <td>3</td>
      <td>0.51742</td>
    </tr>
    <tr>
      <th>204038</th>
      <td>2010</td>
      <td>migrants</td>
      <td>4</td>
      <td>0.35890</td>
    </tr>
    <tr>
      <th>219759</th>
      <td>2009</td>
      <td>migrants</td>
      <td>2</td>
      <td>0.56712</td>
    </tr>
    <tr>
      <th>223898</th>
      <td>2008</td>
      <td>migrants</td>
      <td>5</td>
      <td>0.47707</td>
    </tr>
    <tr>
      <th>234404</th>
      <td>2007</td>
      <td>migrants</td>
      <td>4</td>
      <td>0.60750</td>
    </tr>
    <tr>
      <th>244544</th>
      <td>2006</td>
      <td>migrants</td>
      <td>4</td>
      <td>0.52949</td>
    </tr>
    <tr>
      <th>274089</th>
      <td>2000</td>
      <td>migrants</td>
      <td>1</td>
      <td>0.49055</td>
    </tr>
    <tr>
      <th>276538</th>
      <td>1999</td>
      <td>migrants</td>
      <td>2</td>
      <td>0.55131</td>
    </tr>
    <tr>
      <th>283362</th>
      <td>1997</td>
      <td>migrants</td>
      <td>1</td>
      <td>0.65821</td>
    </tr>
    <tr>
      <th>288184</th>
      <td>1996</td>
      <td>migrants</td>
      <td>1</td>
      <td>0.24544</td>
    </tr>
    <tr>
      <th>291173</th>
      <td>1994</td>
      <td>migrants</td>
      <td>1</td>
      <td>0.59848</td>
    </tr>
    <tr>
      <th>296980</th>
      <td>1991</td>
      <td>migrants</td>
      <td>1</td>
      <td>0.52219</td>
    </tr>
    <tr>
      <th>308946</th>
      <td>1980</td>
      <td>migrants</td>
      <td>1</td>
      <td>0.53460</td>
    </tr>
    <tr>
      <th>311505</th>
      <td>1976</td>
      <td>migrants</td>
      <td>1</td>
      <td>0.03168</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="5.2-Charting-the-variation:-multi-year-visualization">
<h3>5.2 Charting the variation: multi-year visualization<a class="headerlink" href="#5.2-Charting-the-variation:-multi-year-visualization" title="Permalink to this headline">¶</a></h3>
<p>We can use Plotly’s ‘facets’ to have subsections that show variation across years. Plotly will plot all the values retrieved - which allows to spot the trends up and down.</p>
<ul class="simple">
<li><p>tip: to have an equal representation for each year, we take the top N concepts across a chosen years-span and then look at their frequency distribution over the years</p></li>
</ul>
<p>In order to isolate interesting concepts, we can use the same formula from above (filter by score, then sort by frequency). Only this time using yearly values of course!</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[75]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">MAX_CONCEPTS</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">YEAR_START</span> <span class="o">=</span> <span class="mi">2015</span>
<span class="n">YEAR_END</span> <span class="o">=</span> <span class="mi">2019</span>
<span class="n">SCORE_MIN</span> <span class="o">=</span> <span class="mf">0.4</span>

<span class="n">segment</span> <span class="o">=</span> <span class="n">concepts_by_year</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;year &gt;= </span><span class="si">{</span><span class="n">YEAR_START</span><span class="si">}</span><span class="s2"> &amp; year &lt;= </span><span class="si">{</span><span class="n">YEAR_END</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># create metrics for the segment only</span>
<span class="n">segment</span><span class="p">[</span><span class="s1">&#39;frequency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">concepts</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;concept&#39;</span><span class="p">)[</span><span class="s1">&#39;concept&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>
<span class="n">segment</span><span class="p">[</span><span class="s1">&#39;score_avg&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">concepts</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;concept&#39;</span><span class="p">)[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="s1">&#39;mean&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># get top N concepts for the dataviz</span>
<span class="n">top_concepts</span> <span class="o">=</span> <span class="n">segment</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="s1">&#39;concept&#39;</span><span class="p">)</span>\
        <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;score_avg &gt; </span><span class="si">{</span><span class="n">SCORE_MIN</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>\
        <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;frequency&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)[:</span><span class="n">MAX_CONCEPTS</span><span class="p">]</span>

<span class="c1"># use yearly data only for top N concepts</span>
<span class="n">segment_subset</span> <span class="o">=</span> <span class="n">segment</span><span class="p">[</span><span class="n">segment</span><span class="p">[</span><span class="s1">&#39;concept&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">top</span><span class="p">[</span><span class="s1">&#39;concept&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">())]</span>

<span class="n">px</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">segment_subset</span><span class="p">,</span>
       <span class="n">x</span><span class="o">=</span><span class="s2">&quot;concept&quot;</span><span class="p">,</span>
       <span class="n">y</span><span class="o">=</span><span class="s2">&quot;frequency_year&quot;</span><span class="p">,</span>
       <span class="n">facet_row</span><span class="o">=</span><span class="s2">&quot;year&quot;</span><span class="p">,</span>
       <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Top concepts </span><span class="si">{</span><span class="n">YEAR_START</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">YEAR_END</span><span class="si">}</span><span class="s2"> with score_avg &gt; </span><span class="si">{</span><span class="n">SCORE_MIN</span><span class="si">}</span><span class="s2">, sorted by frequency&quot;</span><span class="p">,</span>
       <span class="n">height</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
       <span class="n">color</span><span class="o">=</span><span class="s2">&quot;frequency_year&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>


            <div id="25b434af-07eb-41fc-b513-2748fed39051" class="plotly-graph-div" style="height:1000px; width:100%;"></div>
            <script type="text/javascript">
                require(["plotly"], function(Plotly) {
                    window.PLOTLYENV=window.PLOTLYENV || {};

                if (document.getElementById("25b434af-07eb-41fc-b513-2748fed39051")) {
                    Plotly.newPlot(
                        '25b434af-07eb-41fc-b513-2748fed39051',
                        [{"alignmentgroup": "True", "hovertemplate": "year=2019<br>concept=%{x}<br>frequency_year=%{marker.color}<extra></extra>", "legendgroup": "", "marker": {"color": [10, 9, 4, 7, 1, 5, 2, 2, 4, 3, 19, 7, 4, 3, 6, 5, 5, 3, 5, 5, 5, 5, 2, 2, 3, 4, 4, 1, 3, 3, 4, 4, 4, 5, 3, 3, 3, 3, 2, 2, 2, 1, 1, 2, 1, 1, 1, 2, 1], "coloraxis": "coloraxis"}, "name": "", "offsetgroup": "", "orientation": "v", "showlegend": false, "textposition": "auto", "type": "bar", "x": ["Global South", "higher education", "urban change", "depth interviews", "policy process", "policy development", "ethnographic study", "crime prevention", "local governments", "natural resources", "young people", "economic growth", "qualitative research", "political system", "education policy", "social inclusion", "Global North", "political parties", "social movements", "power relations", "urban policy", "informal settlements", "discourse analysis", "qualitative interviews", "social life", "policy changes", "social justice", "civil society", "regional development", "urban governance", "public policy", "policy agenda", "policy discourse", "knowledge production", "social exclusion", "public transport", "financial crisis", "policy framework", "policy analysis", "political philosophy", "housing policy", "middle class", "social mobility", "government policy", "public sphere", "Soviet Union", "social policy", "welfare state", "political context"], "xaxis": "x5", "y": [10, 9, 4, 7, 1, 5, 2, 2, 4, 3, 19, 7, 4, 3, 6, 5, 5, 3, 5, 5, 5, 5, 2, 2, 3, 4, 4, 1, 3, 3, 4, 4, 4, 5, 3, 3, 3, 3, 2, 2, 2, 1, 1, 2, 1, 1, 1, 2, 1], "yaxis": "y5"}, {"alignmentgroup": "True", "hovertemplate": "year=2018<br>concept=%{x}<br>frequency_year=%{marker.color}<extra></extra>", "legendgroup": "", "marker": {"color": [2, 4, 3, 25, 7, 14, 2, 3, 3, 2, 1, 1, 8, 6, 10, 2, 11, 2, 7, 3, 3, 2, 4, 2, 2, 3, 5, 4, 5, 2, 3, 3, 7, 7, 1, 3, 3, 1, 1, 1, 3, 4, 1, 1, 2, 1], "coloraxis": "coloraxis"}, "name": "", "offsetgroup": "", "orientation": "v", "showlegend": false, "textposition": "auto", "type": "bar", "x": ["housing policy", "Global South", "social capital", "young people", "depth interviews", "higher education", "regional development", "social life", "policy discourse", "power relations", "political philosophy", "financial crisis", "qualitative research", "civil society", "public policy", "natural resources", "economic growth", "political parties", "local governments", "urban governance", "public transport", "crime prevention", "social mobility", "education policy", "policy agenda", "middle class", "informal settlements", "urban policy", "knowledge production", "policy framework", "urban change", "political system", "government policy", "qualitative interviews", "social policy", "ethnographic study", "policy development", "social exclusion", "welfare state", "social justice", "discourse analysis", "policy changes", "public sphere", "Global North", "policy analysis", "political context"], "xaxis": "x4", "y": [2, 4, 3, 25, 7, 14, 2, 3, 3, 2, 1, 1, 8, 6, 10, 2, 11, 2, 7, 3, 3, 2, 4, 2, 2, 3, 5, 4, 5, 2, 3, 3, 7, 7, 1, 3, 3, 1, 1, 1, 3, 4, 1, 1, 2, 1], "yaxis": "y4"}, {"alignmentgroup": "True", "hovertemplate": "year=2017<br>concept=%{x}<br>frequency_year=%{marker.color}<extra></extra>", "legendgroup": "", "marker": {"color": [2, 5, 1, 3, 1, 14, 2, 7, 3, 6, 1, 2, 6, 2, 2, 2, 3, 1, 4, 2, 4, 4, 1, 1, 6, 1, 1, 3, 3, 6, 3, 2, 5, 4, 1, 1, 2, 3, 2, 1, 1, 1, 3, 1, 1], "coloraxis": "coloraxis"}, "name": "", "offsetgroup": "", "orientation": "v", "showlegend": false, "textposition": "auto", "type": "bar", "x": ["social inclusion", "knowledge production", "Global North", "depth interviews", "social mobility", "young people", "financial crisis", "social exclusion", "policy development", "power relations", "qualitative interviews", "social life", "public policy", "urban governance", "social capital", "policy framework", "local governments", "policy analysis", "political system", "policy process", "crime prevention", "regional development", "social movements", "discourse analysis", "qualitative research", "middle class", "public transport", "education policy", "public sphere", "social justice", "social policy", "policy discourse", "Global South", "higher education", "Soviet Union", "housing policy", "economic growth", "natural resources", "government policy", "ethnographic study", "political parties", "political context", "informal settlements", "policy agenda", "civil society"], "xaxis": "x3", "y": [2, 5, 1, 3, 1, 14, 2, 7, 3, 6, 1, 2, 6, 2, 2, 2, 3, 1, 4, 2, 4, 4, 1, 1, 6, 1, 1, 3, 3, 6, 3, 2, 5, 4, 1, 1, 2, 3, 2, 1, 1, 1, 3, 1, 1], "yaxis": "y3"}, {"alignmentgroup": "True", "hovertemplate": "year=2016<br>concept=%{x}<br>frequency_year=%{marker.color}<extra></extra>", "legendgroup": "", "marker": {"color": [2, 12, 5, 3, 4, 3, 3, 6, 3, 2, 1, 5, 1, 1, 1, 2, 5, 3, 1, 2, 1, 2, 4, 1, 2, 2, 2, 5, 1, 2, 2, 1, 1, 2, 1, 2, 1, 1, 2], "coloraxis": "coloraxis"}, "name": "", "offsetgroup": "", "orientation": "v", "showlegend": false, "textposition": "auto", "type": "bar", "x": ["government policy", "young people", "social capital", "Global South", "power relations", "education policy", "knowledge production", "higher education", "informal settlements", "ethnographic study", "local governments", "economic growth", "policy discourse", "urban change", "social life", "policy framework", "depth interviews", "social exclusion", "policy agenda", "public transport", "social inclusion", "qualitative interviews", "crime prevention", "political parties", "Global North", "qualitative research", "social mobility", "public policy", "social justice", "policy process", "social movements", "discourse analysis", "public sphere", "housing policy", "civil society", "social policy", "financial crisis", "urban policy", "policy development"], "xaxis": "x2", "y": [2, 12, 5, 3, 4, 3, 3, 6, 3, 2, 1, 5, 1, 1, 1, 2, 5, 3, 1, 2, 1, 2, 4, 1, 2, 2, 2, 5, 1, 2, 2, 1, 1, 2, 1, 2, 1, 1, 2], "yaxis": "y2"}, {"alignmentgroup": "True", "hovertemplate": "year=2015<br>concept=%{x}<br>frequency_year=%{marker.color}<extra></extra>", "legendgroup": "", "marker": {"color": [4, 2, 3, 4, 12, 2, 5, 2, 5, 2, 2, 2, 3, 2, 2, 1, 2, 1, 1, 2, 4, 2, 1, 3, 3, 1, 2, 2, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1], "coloraxis": "coloraxis"}, "name": "", "offsetgroup": "", "orientation": "v", "showlegend": false, "textposition": "auto", "type": "bar", "x": ["social mobility", "qualitative interviews", "public policy", "crime prevention", "young people", "social exclusion", "Global South", "Global North", "higher education", "political parties", "welfare state", "political philosophy", "qualitative research", "natural resources", "local governments", "policy process", "civil society", "regional development", "government policy", "depth interviews", "social capital", "urban policy", "social inclusion", "policy development", "economic growth", "middle class", "social movements", "public sphere", "policy agenda", "power relations", "education policy", "policy framework", "urban governance", "informal settlements", "financial crisis", "social life", "policy discourse", "public transport", "knowledge production", "ethnographic study"], "xaxis": "x", "y": [4, 2, 3, 4, 12, 2, 5, 2, 5, 2, 2, 2, 3, 2, 2, 1, 2, 1, 1, 2, 4, 2, 1, 3, 3, 1, 2, 2, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1], "yaxis": "y"}],
                        {"annotations": [{"font": {}, "showarrow": false, "text": "year=2015", "textangle": 90, "x": 0.98, "xanchor": "left", "xref": "paper", "y": 0.08800000000000001, "yanchor": "middle", "yref": "paper"}, {"font": {}, "showarrow": false, "text": "year=2016", "textangle": 90, "x": 0.98, "xanchor": "left", "xref": "paper", "y": 0.29400000000000004, "yanchor": "middle", "yref": "paper"}, {"font": {}, "showarrow": false, "text": "year=2017", "textangle": 90, "x": 0.98, "xanchor": "left", "xref": "paper", "y": 0.5, "yanchor": "middle", "yref": "paper"}, {"font": {}, "showarrow": false, "text": "year=2018", "textangle": 90, "x": 0.98, "xanchor": "left", "xref": "paper", "y": 0.706, "yanchor": "middle", "yref": "paper"}, {"font": {}, "showarrow": false, "text": "year=2019", "textangle": 90, "x": 0.98, "xanchor": "left", "xref": "paper", "y": 0.912, "yanchor": "middle", "yref": "paper"}], "barmode": "relative", "coloraxis": {"colorbar": {"title": {"text": "frequency_year"}}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "height": 1000, "legend": {"tracegroupgap": 0}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "title": {"text": "Top concepts 2015-2019 with score_avg > 0.4, sorted by frequency"}, "xaxis": {"anchor": "y", "domain": [0.0, 0.98], "title": {"text": "concept"}}, "xaxis2": {"anchor": "y2", "domain": [0.0, 0.98], "matches": "x", "showticklabels": false}, "xaxis3": {"anchor": "y3", "domain": [0.0, 0.98], "matches": "x", "showticklabels": false}, "xaxis4": {"anchor": "y4", "domain": [0.0, 0.98], "matches": "x", "showticklabels": false}, "xaxis5": {"anchor": "y5", "domain": [0.0, 0.98], "matches": "x", "showticklabels": false}, "yaxis": {"anchor": "x", "domain": [0.0, 0.17600000000000002], "title": {"text": "frequency_year"}}, "yaxis2": {"anchor": "x2", "domain": [0.20600000000000002, 0.382], "matches": "y", "title": {"text": "frequency_year"}}, "yaxis3": {"anchor": "x3", "domain": [0.41200000000000003, 0.5880000000000001], "matches": "y", "title": {"text": "frequency_year"}}, "yaxis4": {"anchor": "x4", "domain": [0.618, 0.794], "matches": "y", "title": {"text": "frequency_year"}}, "yaxis5": {"anchor": "x5", "domain": [0.8240000000000001, 1.0], "matches": "y", "title": {"text": "frequency_year"}}},
                        {"responsive": true}
                    ).then(function(){

var gd = document.getElementById('25b434af-07eb-41fc-b513-2748fed39051');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })
                };
                });
            </script>
        </div></div>
</div>
<p>Lastly, let’s represent the same data using a <a class="reference external" href="https://plotly.com/python/treemaps/">treemap</a>.</p>
<p>This visualization is less suitable for comparing the years, but it is definitely quite fun to navigate around :-)</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[92]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">px</span><span class="o">.</span><span class="n">treemap</span><span class="p">(</span><span class="n">segment_subset</span><span class="p">,</span>
           <span class="n">path</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="s1">&#39;concept&#39;</span><span class="p">],</span>
           <span class="n">values</span><span class="o">=</span><span class="s1">&#39;frequency_year&#39;</span><span class="p">,</span>
           <span class="n">color</span><span class="o">=</span><span class="s2">&quot;concept&quot;</span><span class="p">,</span>
           <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>
          <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<div>


            <div id="894fd6e0-f386-4845-8705-e0f3ed584f1f" class="plotly-graph-div" style="height:600px; width:100%;"></div>
            <script type="text/javascript">
                require(["plotly"], function(Plotly) {
                    window.PLOTLYENV=window.PLOTLYENV || {};

                if (document.getElementById("894fd6e0-f386-4845-8705-e0f3ed584f1f")) {
                    Plotly.newPlot(
                        '894fd6e0-f386-4845-8705-e0f3ed584f1f',
                        [{"branchvalues": "total", "customdata": [["policy agenda"], ["policy changes"], ["civil society"], ["social life"], ["regional development"], ["Global North"], ["political philosophy"], ["financial crisis"], ["public sphere"], ["social life"], ["political system"], ["ethnographic study"], ["discourse analysis"], ["housing policy"], ["social movements"], ["social inclusion"], ["public policy"], ["knowledge production"], ["policy process"], ["social life"], ["regional development"], ["Global South"], ["social policy"], ["government policy"], ["policy development"], ["qualitative research"], ["Global North"], ["policy agenda"], ["political context"], ["social exclusion"], ["depth interviews"], ["Soviet Union"], ["power relations"], ["urban governance"], ["informal settlements"], ["qualitative interviews"], ["urban policy"], ["knowledge production"], ["civil society"], ["political parties"], ["public sphere"], ["public transport"], ["power relations"], ["natural resources"], ["young people"], ["Global South"], ["welfare state"], ["social inclusion"], ["policy development"], ["higher education"], ["education policy"], ["public policy"], ["middle class"], ["power relations"], ["ethnographic study"], ["social policy"], ["Global North"], ["government policy"], ["public transport"], ["social mobility"], ["political system"], ["financial crisis"], ["education policy"], ["social exclusion"], ["political system"], ["public policy"], ["welfare state"], ["crime prevention"], ["public transport"], ["local governments"], ["young people"], ["local governments"], ["policy changes"], ["economic growth"], ["public transport"], ["public transport"], ["informal settlements"], ["Global South"], ["social movements"], ["policy framework"], ["knowledge production"], ["urban governance"], ["ethnographic study"], ["political parties"], ["social movements"], ["housing policy"], ["Global South"], ["power relations"], ["urban policy"], ["knowledge production"], ["economic growth"], ["public policy"], ["qualitative research"], ["policy analysis"], ["policy framework"], ["education policy"], ["depth interviews"], ["policy agenda"], ["urban change"], ["Global South"], ["social justice"], ["natural resources"], ["policy discourse"], ["political philosophy"], ["young people"], ["economic growth"], ["higher education"], ["qualitative interviews"], ["urban policy"], ["local governments"], ["education policy"], ["policy framework"], ["qualitative interviews"], ["social movements"], ["social exclusion"], ["Global North"], ["policy process"], ["policy analysis"], ["financial crisis"], ["public policy"], ["power relations"], ["social mobility"], ["crime prevention"], ["informal settlements"], ["regional development"], ["higher education"], ["education policy"], ["social mobility"], ["civil society"], ["middle class"], ["policy process"], ["policy discourse"], ["urban policy"], ["public sphere"], ["crime prevention"], ["higher education"], ["social justice"], ["housing policy"], ["social capital"], ["discourse analysis"], ["policy discourse"], ["urban governance"], ["social exclusion"], ["policy agenda"], ["political parties"], ["ethnographic study"], ["political parties"], ["informal settlements"], ["young people"], ["economic growth"], ["qualitative research"], ["depth interviews"], ["social justice"], ["middle class"], ["policy discourse"], ["regional development"], ["political context"], ["social mobility"], ["housing policy"], ["social capital"], ["civil society"], ["social policy"], ["policy process"], ["government policy"], ["discourse analysis"], ["government policy"], ["social policy"], ["policy framework"], ["public sphere"], ["qualitative research"], ["economic growth"], ["policy development"], ["natural resources"], ["social life"], ["civil society"], ["qualitative research"], ["policy analysis"], ["urban change"], ["policy agenda"], ["political parties"], ["social capital"], ["depth interviews"], ["young people"], ["qualitative interviews"], ["policy discourse"], ["higher education"], ["depth interviews"], ["policy development"], ["ethnographic study"], ["social capital"], ["knowledge production"], ["social justice"], ["crime prevention"], ["urban governance"], ["political context"], ["social exclusion"], ["middle class"], ["social inclusion"], ["political philosophy"], ["financial crisis"], ["qualitative interviews"], ["Global North"], ["local governments"], ["discourse analysis"], ["informal settlements"], ["policy framework"], ["welfare state"], ["urban change"], ["social inclusion"], ["crime prevention"], ["local governments"], ["financial crisis"], ["natural resources"], ["social mobility"], ["government policy"], ["social life"], ["policy development"], ["public sphere"], ["Soviet Union"], ["(?)"], ["(?)"], ["(?)"], ["(?)"], ["(?)"]], "domain": {"x": [0.0, 1.0], "y": [0.0, 1.0]}, "hovertemplate": "labels=%{label}<br>frequency_year=%{value}<br>parent=%{parent}<br>id=%{id}<br>concept=%{customdata[0]}<extra></extra>", "ids": ["2019/policy agenda", "2019/policy changes", "2019/civil society", "2019/social life", "2019/regional development", "2015/Global North", "2019/political philosophy", "2019/financial crisis", "2017/public sphere", "2018/social life", "2018/political system", "2019/ethnographic study", "2016/discourse analysis", "2017/housing policy", "2019/social movements", "2015/social inclusion", "2018/public policy", "2015/knowledge production", "2017/policy process", "2015/social life", "2017/regional development", "2017/Global South", "2018/social policy", "2017/government policy", "2015/policy development", "2015/qualitative research", "2018/Global North", "2016/policy agenda", "2018/political context", "2017/social exclusion", "2015/depth interviews", "2019/Soviet Union", "2015/power relations", "2015/urban governance", "2015/informal settlements", "2015/qualitative interviews", "2018/urban policy", "2017/knowledge production", "2017/civil society", "2017/political parties", "2019/public sphere", "2018/public transport", "2018/power relations", "2015/natural resources", "2019/young people", "2016/Global South", "2019/welfare state", "2017/social inclusion", "2018/policy development", "2019/higher education", "2015/education policy", "2019/public policy", "2017/middle class", "2017/power relations", "2017/ethnographic study", "2017/social policy", "2016/Global North", "2018/government policy", "2016/public transport", "2015/social mobility", "2017/political system", "2018/financial crisis", "2019/education policy", "2019/social exclusion", "2019/political system", "2016/public policy", "2018/welfare state", "2019/crime prevention", "2017/public transport", "2015/local governments", "2018/young people", "2017/local governments", "2018/policy changes", "2017/economic growth", "2015/public transport", "2019/public transport", "2017/informal settlements", "2018/Global South", "2016/social movements", "2018/policy framework", "2019/knowledge production", "2017/urban governance", "2015/ethnographic study", "2015/political parties", "2015/social movements", "2019/housing policy", "2019/Global South", "2016/power relations", "2015/urban policy", "2018/knowledge production", "2015/economic growth", "2017/public policy", "2017/qualitative research", "2017/policy analysis", "2019/policy framework", "2017/education policy", "2018/depth interviews", "2017/policy agenda", "2019/urban change", "2015/Global South", "2016/social justice", "2017/natural resources", "2015/policy discourse", "2018/political philosophy", "2016/young people", "2016/economic growth", "2016/higher education", "2016/qualitative interviews", "2019/urban policy", "2018/local governments", "2016/education policy", "2017/policy framework", "2019/qualitative interviews", "2017/social movements", "2015/social exclusion", "2019/Global North", "2016/policy process", "2018/policy analysis", "2017/financial crisis", "2015/public policy", "2019/power relations", "2016/social mobility", "2015/crime prevention", "2016/informal settlements", "2018/regional development", "2018/higher education", "2018/education policy", "2018/social mobility", "2016/civil society", "2015/middle class", "2015/policy process", "2016/policy discourse", "2016/urban policy", "2018/public sphere", "2017/crime prevention", "2017/higher education", "2019/social justice", "2018/housing policy", "2017/social capital", "2019/discourse analysis", "2019/policy discourse", "2019/urban governance", "2018/social exclusion", "2018/policy agenda", "2018/political parties", "2018/ethnographic study", "2016/political parties", "2019/informal settlements", "2017/young people", "2019/economic growth", "2018/qualitative research", "2016/depth interviews", "2018/social justice", "2018/middle class", "2017/policy discourse", "2015/regional development", "2019/political context", "2019/social mobility", "2016/housing policy", "2015/social capital", "2015/civil society", "2016/social policy", "2019/policy process", "2019/government policy", "2017/discourse analysis", "2015/government policy", "2019/social policy", "2016/policy framework", "2016/public sphere", "2016/qualitative research", "2018/economic growth", "2019/policy development", "2018/natural resources", "2017/social life", "2018/civil society", "2019/qualitative research", "2019/policy analysis", "2018/urban change", "2015/policy agenda", "2019/political parties", "2018/social capital", "2019/depth interviews", "2015/young people", "2018/qualitative interviews", "2018/policy discourse", "2015/higher education", "2017/depth interviews", "2016/policy development", "2016/ethnographic study", "2016/social capital", "2016/knowledge production", "2017/social justice", "2016/crime prevention", "2018/urban governance", "2017/political context", "2016/social exclusion", "2019/middle class", "2016/social inclusion", "2015/political philosophy", "2015/financial crisis", "2017/qualitative interviews", "2017/Global North", "2019/local governments", "2018/discourse analysis", "2018/informal settlements", "2015/policy framework", "2015/welfare state", "2016/urban change", "2019/social inclusion", "2018/crime prevention", "2016/local governments", "2016/financial crisis", "2019/natural resources", "2017/social mobility", "2016/government policy", "2016/social life", "2017/policy development", "2015/public sphere", "2017/Soviet Union", "2015", "2016", "2017", "2018", "2019"], "labels": ["policy agenda", "policy changes", "civil society", "social life", "regional development", "Global North", "political philosophy", "financial crisis", "public sphere", "social life", "political system", "ethnographic study", "discourse analysis", "housing policy", "social movements", "social inclusion", "public policy", "knowledge production", "policy process", "social life", "regional development", "Global South", "social policy", "government policy", "policy development", "qualitative research", "Global North", "policy agenda", "political context", "social exclusion", "depth interviews", "Soviet Union", "power relations", "urban governance", "informal settlements", "qualitative interviews", "urban policy", "knowledge production", "civil society", "political parties", "public sphere", "public transport", "power relations", "natural resources", "young people", "Global South", "welfare state", "social inclusion", "policy development", "higher education", "education policy", "public policy", "middle class", "power relations", "ethnographic study", "social policy", "Global North", "government policy", "public transport", "social mobility", "political system", "financial crisis", "education policy", "social exclusion", "political system", "public policy", "welfare state", "crime prevention", "public transport", "local governments", "young people", "local governments", "policy changes", "economic growth", "public transport", "public transport", "informal settlements", "Global South", "social movements", "policy framework", "knowledge production", "urban governance", "ethnographic study", "political parties", "social movements", "housing policy", "Global South", "power relations", "urban policy", "knowledge production", "economic growth", "public policy", "qualitative research", "policy analysis", "policy framework", "education policy", "depth interviews", "policy agenda", "urban change", "Global South", "social justice", "natural resources", "policy discourse", "political philosophy", "young people", "economic growth", "higher education", "qualitative interviews", "urban policy", "local governments", "education policy", "policy framework", "qualitative interviews", "social movements", "social exclusion", "Global North", "policy process", "policy analysis", "financial crisis", "public policy", "power relations", "social mobility", "crime prevention", "informal settlements", "regional development", "higher education", "education policy", "social mobility", "civil society", "middle class", "policy process", "policy discourse", "urban policy", "public sphere", "crime prevention", "higher education", "social justice", "housing policy", "social capital", "discourse analysis", "policy discourse", "urban governance", "social exclusion", "policy agenda", "political parties", "ethnographic study", "political parties", "informal settlements", "young people", "economic growth", "qualitative research", "depth interviews", "social justice", "middle class", "policy discourse", "regional development", "political context", "social mobility", "housing policy", "social capital", "civil society", "social policy", "policy process", "government policy", "discourse analysis", "government policy", "social policy", "policy framework", "public sphere", "qualitative research", "economic growth", "policy development", "natural resources", "social life", "civil society", "qualitative research", "policy analysis", "urban change", "policy agenda", "political parties", "social capital", "depth interviews", "young people", "qualitative interviews", "policy discourse", "higher education", "depth interviews", "policy development", "ethnographic study", "social capital", "knowledge production", "social justice", "crime prevention", "urban governance", "political context", "social exclusion", "middle class", "social inclusion", "political philosophy", "financial crisis", "qualitative interviews", "Global North", "local governments", "discourse analysis", "informal settlements", "policy framework", "welfare state", "urban change", "social inclusion", "crime prevention", "local governments", "financial crisis", "natural resources", "social mobility", "government policy", "social life", "policy development", "public sphere", "Soviet Union", "2015", "2016", "2017", "2018", "2019"], "marker": {"colors": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#ab63fa", "#FECB52", "#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#ab63fa", "#FFA15A", "#FF97FF", "#FECB52", "#636efa", "#EF553B", "#00cc96", "#19d3f3", "#636efa", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52", "#636efa", "#EF553B", "#FF6692", "#00cc96", "#00cc96", "#FF97FF", "#ab63fa", "#B6E880", "#FFA15A", "#19d3f3", "#FF97FF", "#FF6692", "#FFA15A", "#EF553B", "#B6E880", "#FF97FF", "#19d3f3", "#FECB52", "#B6E880", "#636efa", "#FECB52", "#19d3f3", "#636efa", "#ab63fa", "#636efa", "#FECB52", "#B6E880", "#FF97FF", "#FFA15A", "#FECB52", "#19d3f3", "#FF6692", "#EF553B", "#ab63fa", "#00cc96", "#19d3f3", "#00cc96", "#EF553B", "#ab63fa", "#ab63fa", "#ab63fa", "#FECB52", "#FF97FF", "#ab63fa", "#FFA15A", "#FF6692", "#FF97FF", "#636efa", "#00cc96", "#ab63fa", "#00cc96", "#FF97FF", "#B6E880", "#EF553B", "#FF6692", "#ab63fa", "#19d3f3", "#00cc96", "#19d3f3", "#FFA15A", "#FF97FF", "#19d3f3", "#636efa", "#FF6692", "#FF97FF", "#B6E880", "#FFA15A", "#FF97FF", "#FF6692", "#19d3f3", "#ab63fa", "#B6E880", "#636efa", "#EF553B", "#00cc96", "#FF97FF", "#FFA15A", "#636efa", "#ab63fa", "#FFA15A", "#19d3f3", "#B6E880", "#19d3f3", "#B6E880", "#19d3f3", "#B6E880", "#636efa", "#EF553B", "#FECB52", "#FFA15A", "#B6E880", "#FF97FF", "#636efa", "#00cc96", "#FECB52", "#B6E880", "#FF97FF", "#EF553B", "#FF97FF", "#EF553B", "#B6E880", "#B6E880", "#00cc96", "#FECB52", "#EF553B", "#FF97FF", "#FF97FF", "#FFA15A", "#636efa", "#00cc96", "#636efa", "#00cc96", "#FECB52", "#19d3f3", "#ab63fa", "#00cc96", "#19d3f3", "#B6E880", "#FECB52", "#FF97FF", "#FFA15A", "#ab63fa", "#636efa", "#00cc96", "#FECB52", "#00cc96", "#FECB52", "#B6E880", "#636efa", "#EF553B", "#636efa", "#FECB52", "#FFA15A", "#FF97FF", "#00cc96", "#ab63fa", "#EF553B", "#FFA15A", "#ab63fa", "#00cc96", "#00cc96", "#19d3f3", "#FF6692", "#636efa", "#00cc96", "#FECB52", "#19d3f3", "#19d3f3", "#636efa", "#FF97FF", "#B6E880", "#19d3f3", "#EF553B", "#636efa", "#FECB52", "#FF6692", "#B6E880", "#EF553B", "#FF97FF", "#ab63fa", "#FFA15A", "#FECB52", "#FFA15A", "#FF6692", "#B6E880", "#636efa", "#19d3f3", "#00cc96", "#EF553B", "#FECB52", "#FFA15A", "#FF6692", "#FF6692", "#FFA15A", "#EF553B", "#00cc96", "#B6E880", "#FFA15A", "#636efa", "#636efa", "#ab63fa", "#EF553B", "#FF97FF", "#FF6692", "#636efa", "#636efa", "#636efa", "#636efa", "#636efa"]}, "name": "", "parents": ["2019", "2019", "2019", "2019", "2019", "2015", "2019", "2019", "2017", "2018", "2018", "2019", "2016", "2017", "2019", "2015", "2018", "2015", "2017", "2015", "2017", "2017", "2018", "2017", "2015", "2015", "2018", "2016", "2018", "2017", "2015", "2019", "2015", "2015", "2015", "2015", "2018", "2017", "2017", "2017", "2019", "2018", "2018", "2015", "2019", "2016", "2019", "2017", "2018", "2019", "2015", "2019", "2017", "2017", "2017", "2017", "2016", "2018", "2016", "2015", "2017", "2018", "2019", "2019", "2019", "2016", "2018", "2019", "2017", "2015", "2018", "2017", "2018", "2017", "2015", "2019", "2017", "2018", "2016", "2018", "2019", "2017", "2015", "2015", "2015", "2019", "2019", "2016", "2015", "2018", "2015", "2017", "2017", "2017", "2019", "2017", "2018", "2017", "2019", "2015", "2016", "2017", "2015", "2018", "2016", "2016", "2016", "2016", "2019", "2018", "2016", "2017", "2019", "2017", "2015", "2019", "2016", "2018", "2017", "2015", "2019", "2016", "2015", "2016", "2018", "2018", "2018", "2018", "2016", "2015", "2015", "2016", "2016", "2018", "2017", "2017", "2019", "2018", "2017", "2019", "2019", "2019", "2018", "2018", "2018", "2018", "2016", "2019", "2017", "2019", "2018", "2016", "2018", "2018", "2017", "2015", "2019", "2019", "2016", "2015", "2015", "2016", "2019", "2019", "2017", "2015", "2019", "2016", "2016", "2016", "2018", "2019", "2018", "2017", "2018", "2019", "2019", "2018", "2015", "2019", "2018", "2019", "2015", "2018", "2018", "2015", "2017", "2016", "2016", "2016", "2016", "2017", "2016", "2018", "2017", "2016", "2019", "2016", "2015", "2015", "2017", "2017", "2019", "2018", "2018", "2015", "2015", "2016", "2019", "2018", "2016", "2016", "2019", "2017", "2016", "2016", "2017", "2015", "2017", "", "", "", "", ""], "type": "treemap", "values": [4, 4, 1, 3, 3, 2, 2, 3, 3, 3, 3, 2, 1, 1, 5, 1, 10, 1, 2, 1, 4, 5, 1, 2, 3, 3, 1, 1, 1, 7, 2, 1, 1, 2, 1, 2, 4, 5, 1, 1, 1, 3, 2, 2, 19, 3, 2, 2, 3, 9, 1, 4, 1, 6, 1, 3, 2, 7, 2, 4, 4, 1, 6, 3, 3, 5, 1, 2, 1, 2, 25, 3, 4, 2, 2, 3, 3, 4, 2, 2, 5, 2, 1, 2, 2, 2, 10, 4, 2, 5, 3, 6, 6, 1, 3, 3, 7, 1, 4, 5, 1, 3, 1, 1, 12, 5, 6, 2, 5, 7, 3, 2, 2, 1, 2, 5, 2, 2, 2, 3, 5, 2, 4, 3, 2, 14, 2, 4, 1, 1, 1, 1, 1, 1, 4, 4, 4, 2, 2, 2, 4, 3, 1, 2, 2, 3, 1, 5, 14, 7, 8, 5, 1, 3, 2, 1, 1, 1, 2, 4, 2, 2, 1, 2, 1, 1, 1, 2, 1, 2, 11, 5, 2, 2, 6, 4, 2, 3, 1, 3, 3, 7, 12, 7, 3, 5, 3, 2, 2, 5, 3, 6, 4, 3, 1, 3, 1, 1, 2, 1, 1, 1, 4, 3, 5, 1, 2, 1, 5, 2, 1, 1, 3, 1, 2, 1, 3, 2, 1, 91, 100, 130, 190, 186]}],
                        {"height": 600, "legend": {"tracegroupgap": 0}, "margin": {"t": 60}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}},
                        {"responsive": true}
                    ).then(function(){

var gd = document.getElementById('894fd6e0-f386-4845-8705-e0f3ed584f1f');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })
                };
                });
            </script>
        </div></div>
</div>
</div>
</div>
<div class="section" id="6.-Conclusion">
<h2>6. Conclusion<a class="headerlink" href="#6.-Conclusion" title="Permalink to this headline">¶</a></h2>
<p>In this tutorial we have demonstrated how to query for <a class="reference external" href="https://docs.dimensions.ai/dsl/language.html#searching-using-concepts">concepts</a> using the <a class="reference external" href="https://www.dimensions.ai/dimensions-apis/">Dimensions Analytics API</a>.</p>
<p>Here are the main takeaways:</p>
<ul class="simple">
<li><p>concepts can be easily extracted by using the <code class="docutils literal notranslate"><span class="pre">as_dataframe_concepts()</span></code> method</p></li>
<li><p>concepts have an implicit score relative to the document they belong to - but we can create more absolute metrics by normalizing these scores</p></li>
<li><p>it is useful to look at the frequency of concepts in the context of the entire dataset we have</p></li>
<li><p>there can be a long tail of concepts that are very infrequent, hence it’s useful to filter those out</p></li>
<li><p>by using a combination of frequency and score_avg metrics, we can filter out uninteresting concepts</p></li>
</ul>
<div class="section" id="Where-to-go-from-here">
<h3>Where to go from here<a class="headerlink" href="#Where-to-go-from-here" title="Permalink to this headline">¶</a></h3>
<p>Using these methods, you can take advantage of <em>concepts</em> data in a number of real-world scenarios. Here are some ideas:</p>
<ul class="simple">
<li><p>you can segment concepts using other dimensions: eg by <em>journal</em> or by <em>field of research</em>, in order to identify more specific trends;</p></li>
<li><p>concepts extracted can be used to create new DSL searches - using the <code class="docutils literal notranslate"><span class="pre">in</span> <span class="pre">concepts</span></code> <a class="reference external" href="https://docs.dimensions.ai/dsl/language.html#in-search-index">search syntax</a>;</p></li>
<li><p>concepts data can be grouped further using <a class="reference external" href="https://spacy.io/usage/vectors-similarity">semantic similarity</a> or <a class="reference external" href="https://scikit-learn.org/stable/modules/clustering.html">clustering</a> techniques;</p></li>
<li><p>you can look at the co-occurence of concepts withing the same document, in order to build a semantic network.</p></li>
</ul>
<p>Happy data analyses!</p>
</div>
</div>
</div>
<hr class="docutils" />
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <a class="reference external" href="https://www.dimensions.ai/dimensions-apis/">Dimensions Analytics API</a> allows to carry out sophisticated research data analytics tasks like the ones described on this website. Check out also the associated <a class="reference external" href="https://github.com/digital-science/dimensions-api-lab">Github repository</a> for examples, the source code of these tutorials and much more.</p>
</div>
<a class="reference external image-reference" href="https://www.dimensions.ai/dimensions-apis/"><img alt="../../_images/badge-dimensions-api.svg" src="../../_images/badge-dimensions-api.svg" /></a>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
    <p>© Copyright 2020 Digital Science & Research Solutions, Inc. All Rights Reserved | <a href="https://www.dimensions.ai/">About us</a> · <a href="https://www.dimensions.ai/privacy/">Privacy policy</a> · <a href="https://www.dimensions.ai/website-terms/">Legal terms</a></p>
     


</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
    

    <!-- Adds target=_blank to external links -->

  <script type="text/javascript">
    $(document).ready(function () {
      $('a[href^="http://"], a[href^="https://"]').not('a[class*=internal]').attr('target', '_blank');
    });
  </script>
  


</body>
</html>