

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Working with lists in the Dimensions API &mdash; API Lab - reusable notebooks for research data analytics - powered by Dimensions Analytics API</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/js/custom.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Working with concepts in the Dimensions API" href="7-Working-with-concepts.html" />
    <link rel="prev" title="Exploring The Dimensions Search Language (DSL) - Deep Dive" href="5-Deep-dive-DSL-language.html" />
    

   <script async src="https://www.googletagmanager.com/gtag/js?id=UA-149959808-1"></script>
   <!-- <script src="_static/js/custom.js"></script> -->


</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> DSL
          

          
            
            <img src="../../_static/dimensions-logo@2x.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          

   <p class="">
      <h3 id="cookbooks_title">API COOKBOOKS</h3>
   </p>


   
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="0-Verifying-your-connection.html">Verifying Your API Connection</a><ul>
<li class="toctree-l2"><a class="reference internal" href="0-Verifying-your-connection.html#Technical-prerequisites">Technical prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="0-Verifying-your-connection.html#Connecting-to-the-API">Connecting to the API</a></li>
<li class="toctree-l2"><a class="reference internal" href="0-Verifying-your-connection.html#Legacy-authentication-method">Legacy authentication method</a></li>
<li class="toctree-l2"><a class="reference internal" href="0-Verifying-your-connection.html#Troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="1-Using-the-Dimcli-library-to-query-the-API.html">The Dimcli Python library: Installation and Querying</a><ul>
<li class="toctree-l2"><a class="reference internal" href="1-Using-the-Dimcli-library-to-query-the-API.html#Installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="1-Using-the-Dimcli-library-to-query-the-API.html#Authentication">Authentication</a><ul>
<li class="toctree-l3"><a class="reference internal" href="1-Using-the-Dimcli-library-to-query-the-API.html#More-secure-method:-storing-a-private-credentials-file">More secure method: storing a private credentials file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="1-Using-the-Dimcli-library-to-query-the-API.html#Querying">Querying</a><ul>
<li class="toctree-l3"><a class="reference internal" href="1-Using-the-Dimcli-library-to-query-the-API.html#Simple-Querying">Simple Querying</a></li>
<li class="toctree-l3"><a class="reference internal" href="1-Using-the-Dimcli-library-to-query-the-API.html#Iterative-querying-(loops)">Iterative querying (loops)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="1-Using-the-Dimcli-library-to-query-the-API.html#Command-line-interface">Command line interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="1-Using-the-Dimcli-library-to-query-the-API.html#Running-the-CLI">Running the CLI</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="3-Working-with-dataframes.html">The Dimcli Python library: Working with Pandas Dataframes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="3-Working-with-dataframes.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="3-Working-with-dataframes.html#1.-General-method-to-transform-JSON-query-results-into-a-dataframe">1. General method to transform JSON query results into a dataframe</a></li>
<li class="toctree-l2"><a class="reference internal" href="3-Working-with-dataframes.html#2.-Dataframe-Methods-for-‘Publications’-queries">2. Dataframe Methods for ‘Publications’ queries</a><ul>
<li class="toctree-l3"><a class="reference internal" href="3-Working-with-dataframes.html#Extracting-authors:-as_dataframe_authors">Extracting authors: <code class="docutils literal notranslate"><span class="pre">as_dataframe_authors</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="3-Working-with-dataframes.html#Extracting-Affiliations:-as_dataframe_authors_affiliations">Extracting Affiliations: <code class="docutils literal notranslate"><span class="pre">as_dataframe_authors_affiliations</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="3-Working-with-dataframes.html#3.-Dataframe-Methods-for-‘Grants’-queries">3. Dataframe Methods for ‘Grants’ queries</a><ul>
<li class="toctree-l3"><a class="reference internal" href="3-Working-with-dataframes.html#Extracting-Funders:-as_dataframe_funders">Extracting Funders: <code class="docutils literal notranslate"><span class="pre">as_dataframe_funders</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="3-Working-with-dataframes.html#Extracting-investigators:-as_dataframe_investigators">Extracting investigators: <code class="docutils literal notranslate"><span class="pre">as_dataframe_investigators</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="3-Working-with-dataframes.html#4.-Dataframe-Methods-for-‘Concepts’-queries">4. Dataframe Methods for ‘Concepts’ queries</a><ul>
<li class="toctree-l3"><a class="reference internal" href="3-Working-with-dataframes.html#Extracting-Concepts:-as_dataframe_concepts">Extracting Concepts: <code class="docutils literal notranslate"><span class="pre">as_dataframe_concepts</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="3-Working-with-dataframes.html#Conclusions">Conclusions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="4-Dimcli-magic-commands.html">The Dimcli Python library: Magic Commands</a><ul>
<li class="toctree-l2"><a class="reference internal" href="4-Dimcli-magic-commands.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="4-Dimcli-magic-commands.html#id1">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="4-Dimcli-magic-commands.html#Dimcli-‘magic’-commands">Dimcli ‘magic’ commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="4-Dimcli-magic-commands.html#Tip:-Accessing-data-returned-by-magic-queries">Tip: Accessing data returned by magic queries</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="4-Dimcli-magic-commands.html#1.-Simple-queries-with-%dsl-or-%%dsl">1. Simple queries with <code class="docutils literal notranslate"><span class="pre">%dsl</span></code> or <code class="docutils literal notranslate"><span class="pre">%%dsl</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="4-Dimcli-magic-commands.html#2.-Loop-queries-with-%dslloop-or-%%dslloop">2. Loop queries with <code class="docutils literal notranslate"><span class="pre">%dslloop</span></code> or <code class="docutils literal notranslate"><span class="pre">%%dslloop</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="4-Dimcli-magic-commands.html#3.-Returning-dataframes:-%dsldf-and-%%dsldf">3. Returning dataframes: <code class="docutils literal notranslate"><span class="pre">%dsldf</span></code> and <code class="docutils literal notranslate"><span class="pre">%%dsldf</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="4-Dimcli-magic-commands.html#4.-Looped-dataframe-queries:-%dslloopdf-and-%%dslloopdf">4. Looped dataframe queries: <code class="docutils literal notranslate"><span class="pre">%dslloopdf</span></code> and <code class="docutils literal notranslate"><span class="pre">%%dslloopdf</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="4-Dimcli-magic-commands.html#5.-Getting-API-schema-documentation-with-%dsldocs">5. Getting API schema documentation with <code class="docutils literal notranslate"><span class="pre">%dsldocs</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="2-Understanding-query-results.html">Exploring The Dimensions Search Language (DSL) - Quick Intro</a><ul>
<li class="toctree-l2"><a class="reference internal" href="2-Understanding-query-results.html#Prerequisites">Prerequisites</a><ul>
<li class="toctree-l3"><a class="reference internal" href="2-Understanding-query-results.html#What-the-query-statistics-refer-to">What the query statistics refer to</a></li>
<li class="toctree-l3"><a class="reference internal" href="2-Understanding-query-results.html#Working-with-fields">Working with fields</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="2-Understanding-query-results.html#Control-the-fields-you-return">Control the fields you return</a></li>
<li class="toctree-l2"><a class="reference internal" href="2-Understanding-query-results.html#Make-a-mistake,-and-the-DSL-will-tell-you-what-fields-that-you-could-have-used">Make a mistake, and the DSL will tell you what fields that you could have used</a></li>
<li class="toctree-l2"><a class="reference internal" href="2-Understanding-query-results.html#Get-all-fields">Get all fields</a><ul>
<li class="toctree-l3"><a class="reference internal" href="2-Understanding-query-results.html#Full-text-search">Full text search</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="2-Understanding-query-results.html#A-simple-author-search">A simple author search</a></li>
<li class="toctree-l2"><a class="reference internal" href="2-Understanding-query-results.html#..or-search-for-a-researcher-by-a-specific-id">..or search for a researcher by a specific id</a><ul>
<li class="toctree-l3"><a class="reference internal" href="2-Understanding-query-results.html#Sources-VS-Facets">Sources VS Facets</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="2-Understanding-query-results.html#You-can-paginate-through-source-results-up-to-50000-rows">You can paginate through <em>source</em> results up to 50000 rows</a></li>
<li class="toctree-l2"><a class="reference internal" href="2-Understanding-query-results.html#You-can-return-max-1000-facet-rows">You can return max 1000 <code class="docutils literal notranslate"><span class="pre">facet</span></code> rows</a></li>
<li class="toctree-l2"><a class="reference internal" href="2-Understanding-query-results.html#Just-make-a-mistake,-and-you-will-ge-the-complete-list-of-available-facets">Just make a mistake, and you will ge the complete list of available facets</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="5-Deep-dive-DSL-language.html">Exploring The Dimensions Search Language (DSL) - Deep Dive</a><ul>
<li class="toctree-l2"><a class="reference internal" href="5-Deep-dive-DSL-language.html#What-is-the-Dimensions-Search-Language?">What is the Dimensions Search Language?</a></li>
<li class="toctree-l2"><a class="reference internal" href="5-Deep-dive-DSL-language.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="5-Deep-dive-DSL-language.html#Sections-Index">Sections Index</a></li>
<li class="toctree-l2"><a class="reference internal" href="5-Deep-dive-DSL-language.html#1.-Basic-query-structure">1. Basic query structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#search-source"><code class="docutils literal notranslate"><span class="pre">search</span> <span class="pre">source</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#return-result-(source-or-facet)"><code class="docutils literal notranslate"><span class="pre">return</span></code> result (source or facet)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="5-Deep-dive-DSL-language.html#2.-Full-text-Searching">2. Full-text Searching</a><ul>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#2.1-in-[search-index]">2.1 <code class="docutils literal notranslate"><span class="pre">in</span> <span class="pre">[search</span> <span class="pre">index]</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#2.2-for-&quot;search-term&quot;">2.2 <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">&quot;search</span> <span class="pre">term&quot;</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#2.3-Boolean-Operators">2.3 Boolean Operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#2.4-Wildcard-Searches">2.4 Wildcard Searches</a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#2.5-Proximity-Searches">2.5 Proximity Searches</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="5-Deep-dive-DSL-language.html#3.-Field-Searching">3. Field Searching</a><ul>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#3.1-where">3.1 <code class="docutils literal notranslate"><span class="pre">where</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#3.2-in">3.2 <code class="docutils literal notranslate"><span class="pre">in</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#3.3-count---filter-function">3.3 <code class="docutils literal notranslate"><span class="pre">count</span></code> - filter function</a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#3.4-Filter-Operators">3.4 Filter Operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#3.5-Partial-string-matching-with-~">3.5 Partial string matching with <code class="docutils literal notranslate"><span class="pre">~</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#3.6-Emptiness-filters-is-empty">3.6 Emptiness filters <code class="docutils literal notranslate"><span class="pre">is</span> <span class="pre">empty</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="5-Deep-dive-DSL-language.html#4.-Searching-for-Researchers">4. Searching for Researchers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#4.1-Exact-name-searches">4.1 Exact name searches</a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#4.2-Fuzzy-Searches">4.2 Fuzzy Searches</a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#4.3-Using-the-disambiguated-Researchers-database">4.3 Using the disambiguated Researchers database</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="5-Deep-dive-DSL-language.html#5.-Returning-results">5. Returning results</a><ul>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#5.1-Returning-Multiple-Sources">5.1 Returning Multiple Sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#5.2-Returning-Specific-Fields">5.2 Returning Specific Fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#5.3-Returning-Facets">5.3 Returning Facets</a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#5.4-What-the-query-statistics-refer-to---sources-VS-facets">5.4 What the query statistics refer to - sources VS facets</a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#5.5-Paginating-Results">5.5 Paginating Results</a></li>
<li class="toctree-l3"><a class="reference internal" href="5-Deep-dive-DSL-language.html#5.6-Sorting-Results">5.6 Sorting Results</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="5-Deep-dive-DSL-language.html#6.-Aggregations">6. Aggregations</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Working with lists in the Dimensions API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="#1.-How-do-we-use-lists-in-the-Dimensions-API?">1. How do we use lists in the Dimensions API?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#2.-What-are-all-the-things-that-we-can-make-lists-of-in-the-Dimensions-API?">2. What are all the things that we can make lists of in the Dimensions API?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#What-are-the-internal-Entities-that-we-might-put-in-a-list?">What are the internal Entities that we might put in a list?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#What-about-lists-of-ids?">What about lists of ids?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#What-are-the-external-entities-that-we-can-put-in-a-list?">What are the external entities that we can put in a list?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#3.-Making-a-list-from-the-results-of-a-query">3. Making a list from the results of a query</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Putting-both-parts-of-this-example-together">Putting both parts of this example together</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Doing-something-useful:-Get-all-the-publications-that-cite-my-publications">Doing something useful: Get all the publications that cite my publications</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#5.-How-Long-can-lists-get?">5. How Long can lists get?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#This-won’t-work">This won’t work</a></li>
<li class="toctree-l3"><a class="reference internal" href="#This-will">This will</a></li>
<li class="toctree-l3"><a class="reference internal" href="#What-if-I-need-a-very-long-list?">What if I need a very long list?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#6.-What-if-I-want-to-get-the-researchers-associated-with-the-publications-the-cite-my-institution?">6. What if I want to get the researchers associated with the publications the cite my institution?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#7.-What-if-I-want-to-get-all-the-researchers-associated-with-the-publications-that-cite-my-institution?">7. What if I want to get <em>all</em> the researchers associated with the publications that cite my institution?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#8.-..and-if-we-want-details-about-our-researchers,-we-can-put-our-list-of-researchers-into-the-researcher-API">8. ..and if we want details about our researchers, we can put our list of researchers into the researcher API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#9.-Patents-example-(patents--&gt;-publications)">9. Patents example (patents -&gt; publications)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#10.-Clinical-Trials-(clinical-trials--&gt;-publications)">10. Clinical Trials (clinical trials -&gt; publications)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#11.-Grants-(publications--&gt;-grants)">11. Grants (publications -&gt; grants)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Why-didn’t-I-use-resulting_publication_ids-?">Why didn’t I use resulting_publication_ids ?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Conclusions">Conclusions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="7-Working-with-concepts.html">Working with <em>concepts</em> in the Dimensions API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="7-Working-with-concepts.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="7-Working-with-concepts.html#1.-Background:-What-are-concepts?">1. Background: What are <code class="docutils literal notranslate"><span class="pre">concepts</span></code>?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="7-Working-with-concepts.html#1.1-From-concepts-to-dataframes:-Dimcli’s-as_dataframe_concepts-method">1.1 From concepts to dataframes: Dimcli’s <code class="docutils literal notranslate"><span class="pre">as_dataframe_concepts</span></code> method</a></li>
<li class="toctree-l3"><a class="reference internal" href="7-Working-with-concepts.html#1.2-Extracting-concepts-from-any-text">1.2 Extracting concepts from any text</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="7-Working-with-concepts.html#2.-Data-acquisition:-retrieving-publications-and-all-their-associated-concepts">2. Data acquisition: retrieving publications and all their associated concepts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="7-Working-with-concepts.html#2.1-Processing-concept-data">2.1 Processing concept data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="7-Working-with-concepts.html#3.-Exploring-our-dataset:-basic-statistics-about-Publications-/-Concepts">3. Exploring our dataset: basic statistics about Publications / Concepts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="7-Working-with-concepts.html#3.1-Documents-With-concepts-VS-Without">3.1 Documents With concepts VS Without</a></li>
<li class="toctree-l3"><a class="reference internal" href="7-Working-with-concepts.html#3.2-Yearly-breakdown-of-Documents-With-concepts-VS-Without">3.2 Yearly breakdown of Documents With concepts VS Without</a></li>
<li class="toctree-l3"><a class="reference internal" href="7-Working-with-concepts.html#3.3-Concepts-frequency">3.3 Concepts frequency</a></li>
<li class="toctree-l3"><a class="reference internal" href="7-Working-with-concepts.html#3.4-Distribution-of-Concepts-Frequency">3.4 Distribution of Concepts Frequency</a></li>
<li class="toctree-l3"><a class="reference internal" href="7-Working-with-concepts.html#3.5-Yearly-breakdown:-unique-VS-repeated-concepts">3.5 Yearly breakdown: unique VS repeated concepts</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="7-Working-with-concepts.html#4.-Isolating-‘interesting’-concepts-using-frequency-and-score_avg">4. Isolating ‘interesting’ concepts using <code class="docutils literal notranslate"><span class="pre">frequency</span></code> and <code class="docutils literal notranslate"><span class="pre">score_avg</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="7-Working-with-concepts.html#4.1-The-problem:-frequent-concepts-are-not-that-interesting!">4.1 The problem: frequent concepts are not <em>that</em> interesting!</a></li>
<li class="toctree-l3"><a class="reference internal" href="7-Working-with-concepts.html#4.2-Solution-1:-prefiltering-by-score_avg-and-sorting-by-frequency">4.2 Solution 1: prefiltering by <code class="docutils literal notranslate"><span class="pre">score_avg</span></code> and sorting by <code class="docutils literal notranslate"><span class="pre">frequency</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="7-Working-with-concepts.html#4.3-Solution-2:-prefiltering-by-frequency-and-sorting-by-score_avg">4.3 Solution 2: prefiltering by <code class="docutils literal notranslate"><span class="pre">frequency</span></code> and sorting by <code class="docutils literal notranslate"><span class="pre">score_avg</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="7-Working-with-concepts.html#5.-Analyses-By-Year">5. Analyses By Year</a><ul>
<li class="toctree-l3"><a class="reference internal" href="7-Working-with-concepts.html#5.1-Adding-year-based-metrics-to-the-concepts-dataframe">5.1 Adding year-based metrics to the concepts dataframe</a></li>
<li class="toctree-l3"><a class="reference internal" href="7-Working-with-concepts.html#5.2-Charting-the-variation:-multi-year-visualization">5.2 Charting the variation: multi-year visualization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="7-Working-with-concepts.html#6.-Conclusion">6. Conclusion</a><ul>
<li class="toctree-l3"><a class="reference internal" href="7-Working-with-concepts.html#The-main-takeaways">The main takeaways</a></li>
<li class="toctree-l3"><a class="reference internal" href="7-Working-with-concepts.html#What-next">What next</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Publications</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../2-publications/General-statistics.html">General Publication Statistics about a Research Organization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/General-statistics.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/General-statistics.html#Choose-a-Research-Organization">Choose a Research Organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/General-statistics.html#Publications-output-by-year">Publications output by year</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/General-statistics.html#Publications-most-cited-in-last-2-years">Publications most cited in last 2 years</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/General-statistics.html#Publications-most-cited---all-time">Publications most cited - all time</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/General-statistics.html#Publications-most-cited-:-which-research-areas?">Publications most cited : which research areas?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/General-statistics.html#Publications-most-cited-:-which-journals?">Publications most cited : which journals?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/General-statistics.html#Top-Funders-(by-aggregated-funding-amount)">Top Funders (by aggregated funding amount)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/General-statistics.html#Top-funders-split-by-country-of-the-funder">Top funders split by country of the funder</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/General-statistics.html#Correlation-between-No-of-Publications-VS-Funding">Correlation between No of Publications VS Funding</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../2-publications/Citation-Analysis.html">Citation Analysis: an Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Citation-Analysis.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Citation-Analysis.html#Method-A:-getting-citations-for-one-publication-at-a-time">Method A: getting citations for one publication at a time</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Citation-Analysis.html#Comments-about-this-method">Comments about this method</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Citation-Analysis.html#Method-B:-Getting-citations-for-multiple-publications-via-a-single-query">Method B: Getting citations for multiple publications via a single query</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Citation-Analysis.html#Creating-a-second-level-citations-network">Creating a second-level citations network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Citation-Analysis.html#Building-a-Simple-Dataviz">Building a Simple Dataviz</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Citation-Analysis.html#Final-considerations">Final considerations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Citation-Analysis.html#Querying-for-more-than-1000-results">Querying for more than 1000 results</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Citation-Analysis.html#Querying-for-more-than-50K-results">Querying for more than 50K results</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Citation-Analysis.html#Dealing-with-highly-cited-publications">Dealing with highly cited publications</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Citation-Analysis.html#Pre-checking-citations-counts">Pre-checking citations counts</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../2-publications/Which-Are-the-Journals-Citing-My-Organization.html">Citation Analysis: Journals Citing a Research Organization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Which-Are-the-Journals-Citing-My-Organization.html#1.-Prerequisites">1. Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Which-Are-the-Journals-Citing-My-Organization.html#2.-Choose-a-Research-Organization">2. Choose a Research Organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Which-Are-the-Journals-Citing-My-Organization.html#3.-Building-a-Publications-Baseset">3. Building a Publications Baseset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Which-Are-the-Journals-Citing-My-Organization.html#4.-Extracting-Publications-Citing-the-Baseset">4. Extracting Publications Citing the Baseset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Which-Are-the-Journals-Citing-My-Organization.html#5.-Journal-Analysis">5. Journal Analysis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Which-Are-the-Journals-Citing-My-Organization.html#Number-of-Unique-journals">Number of Unique journals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Which-Are-the-Journals-Citing-My-Organization.html#Most-frequent-journals">Most frequent journals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Which-Are-the-Journals-Citing-My-Organization.html#Top-100-journals-chart">Top 100 journals chart</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Which-Are-the-Journals-Citing-My-Organization.html#Top-20-journals-by-year-chart">Top 20 journals by year chart</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../2-publications/Journal-Profile-1-Gathering-data.html">Journal Profiling Part 1: Getting the Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-1-Gathering-data.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-1-Gathering-data.html#Selecting-a-Journal-and-Extracting-All-Publications-Metadata">Selecting a Journal and Extracting All Publications Metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-1-Gathering-data.html#Some-stats-about-authors">Some stats about authors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-1-Gathering-data.html#A-quick-look-at-authors-without-a-Dimensions-Researcher-ID">A quick look at authors <em>without</em> a Dimensions Researcher ID</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Journal-Profile-1-Gathering-data.html#Any-common-patterns?">Any common patterns?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Journal-Profile-1-Gathering-data.html#Creating-an-export-for-manual-curation">Creating an export for manual curation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../2-publications/Journal-Profile-2-Researchers-Impact-Metrics.html">Journal Profiling Part 2: Impact Metrics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-2-Researchers-Impact-Metrics.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-2-Researchers-Impact-Metrics.html#Measuring-the-Impact-of-Researchers-within-a-Journal">Measuring the Impact of Researchers within a Journal</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Journal-Profile-2-Researchers-Impact-Metrics.html#Load-the-publications-and-authors-data-previously-saved">Load the publications and authors data previously saved</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Journal-Profile-2-Researchers-Impact-Metrics.html#Isolate-the-Researchers-data-(=-authors-with-an-ID)">Isolate the Researchers data (= authors with an ID)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Journal-Profile-2-Researchers-Impact-Metrics.html#Enrich-the-data-with-Impact-Statistics">Enrich the data with Impact Statistics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-2-Researchers-Impact-Metrics.html#Couple-of-Dataviz">Couple of Dataviz</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../2-publications/Journal-Profile-3-Funding-of-Researchers.html">Journal Profiling Part 3: Funding</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-3-Funding-of-Researchers.html#Prerequisites">Prerequisites</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Journal-Profile-3-Funding-of-Researchers.html#Load-previously-saved-researchers-data">Load previously saved researchers data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-3-Funding-of-Researchers.html#Adding-another-impact-measure:-funding">Adding another impact measure: funding</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Journal-Profile-3-Funding-of-Researchers.html#We’ll-have-to-do-it-in-two-steps">We’ll have to do it in two steps</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-3-Funding-of-Researchers.html#Next:-full-data-for-step-1">Next: full data for step 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-3-Funding-of-Researchers.html#Next:-full-data-for-step-2">Next: full data for step 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-3-Funding-of-Researchers.html#Finally:-let’s-merge-the-new-data-into-the-‘researchers-impact’-table">Finally: let’s merge the new data into the ‘researchers-impact’ table</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-3-Funding-of-Researchers.html#Couple-of-Dataviz">Couple of Dataviz</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../2-publications/Journal-Profile-4-Institutions.html">Journal Profiling Part 4: Institutions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-4-Institutions.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-4-Institutions.html#Institutions-Contributing-to-a-Journal">Institutions Contributing to a Journal</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Journal-Profile-4-Institutions.html#Load-previously-saved-affiliations-data">Load previously saved affiliations data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-4-Institutions.html#Basic-stats-about-affiliations">Basic stats about affiliations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-4-Institutions.html#Enriching-the-unique-affiliations-(GRIDs-list)-with-pubs-count-and-authors-count">Enriching the unique affiliations (GRIDs list) with pubs count and authors count</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-4-Institutions.html#Couple-of-Dataviz">Couple of Dataviz</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../2-publications/Journal-Profile-5-Competitive-Analysis.html">Journal Profiling Part 5: Competing Journals Analysis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-5-Competitive-Analysis.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-5-Competitive-Analysis.html#Competing-Journals">Competing Journals</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Journal-Profile-5-Competitive-Analysis.html#First-let’s-reload-the-data-obtained-in-previous-steps">First let’s reload the data obtained in previous steps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../2-publications/Journal-Profile-5-Competitive-Analysis.html#What-the-query-looks-like">What the query looks like</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-5-Competitive-Analysis.html#Extracting-all-publications/journals-information">Extracting all publications/journals information</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Journal-Profile-5-Competitive-Analysis.html#Visualizations">Visualizations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../2-publications/Simple-topic-analysis.html">Topic Modeling Analysis for a Set of Publications: Basic Workflow</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Simple-topic-analysis.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Simple-topic-analysis.html#1.-Creating-a-Dataset:-e.g. Publications-from-a-Research-Organization">1. Creating a Dataset: e.g. Publications from a Research Organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Simple-topic-analysis.html#2.-Concepts:-exploratory-analysis">2. Concepts: exploratory analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Simple-topic-analysis.html#3.-Building-a-word-cloud-visualization">3. Building a word-cloud visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Simple-topic-analysis.html#4.-Trend-analysis---‘emerging’-new-topics-each-year">4. Trend analysis - ‘emerging’ new topics each year</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Simple-topic-analysis.html#5.-Trend-Analysis:-topics-growth">5. Trend Analysis: topics growth</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Simple-topic-analysis.html#6.-Trend-analysis:-growth-distribution-based-on-selected-years">6. Trend analysis: growth distribution based on selected years</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Simple-topic-analysis.html#7.-Conclusion">7. Conclusion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../2-publications/Concepts-network-graph.html">Building a concepts co-occurence network</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Concepts-network-graph.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Concepts-network-graph.html#Step-1:-Creating-a-dataset">Step 1: Creating a dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Concepts-network-graph.html#Step-2:-Building-a-concepts-co-occurrence-network">Step 2: Building a concepts co-occurrence network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Concepts-network-graph.html#Step-3:-Visualizing-the-network">Step 3: Visualizing the network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-publications/Concepts-network-graph.html#Conclusions">Conclusions</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Grants</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../3-grants/1-grants-enrichment-matching-records-to-dimensions.html">Enriching Grants part 1: Matching your grants records to Dimensions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../3-grants/1-grants-enrichment-matching-records-to-dimensions.html#A-sample-grants-list">A sample grants list</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3-grants/1-grants-enrichment-matching-records-to-dimensions.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3-grants/1-grants-enrichment-matching-records-to-dimensions.html#Loading-the-sample-grants-data">Loading the sample grants data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3-grants/1-grants-enrichment-matching-records-to-dimensions.html#Matching-grants-data">Matching grants data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../3-grants/1-grants-enrichment-matching-records-to-dimensions.html#A)-Matching-grants-when-we-have-a-grant-number">A) Matching grants when we have a grant number</a></li>
<li class="toctree-l3"><a class="reference internal" href="../3-grants/1-grants-enrichment-matching-records-to-dimensions.html#B)-What-if-we-don’t-have-a-grant-number?">B) What if we don’t have a grant number?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../3-grants/1-grants-enrichment-matching-records-to-dimensions.html#Back-to-our-grants-list">Back to our grants list</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../3-grants/1-grants-enrichment-matching-records-to-dimensions.html#Enriching-the-original-list">Enriching the original list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../3-grants/1-grants-enrichment-matching-records-to-dimensions.html#Save-the-data">Save the data</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../3-grants/2-grants-enrichment-adding-publications-information.html">Enriching Grants part 2: Adding Publications Information from Dimensions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../3-grants/2-grants-enrichment-adding-publications-information.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3-grants/2-grants-enrichment-adding-publications-information.html#Reusing-the-sample-grants-data-from-part-1">Reusing the sample grants data from part-1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3-grants/2-grants-enrichment-adding-publications-information.html#Extracting-linked-Publications-data-from-Dimensions">Extracting linked Publications data from Dimensions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../3-grants/2-grants-enrichment-adding-publications-information.html#Building-a-looped-extraction">Building a looped extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../3-grants/2-grants-enrichment-adding-publications-information.html#Final-step:-grouping-publications-by-grant">Final step: grouping publications by grant</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../3-grants/2-grants-enrichment-adding-publications-information.html#Data-Exploration">Data Exploration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../3-grants/2-grants-enrichment-adding-publications-information.html#Publications-per-grant-by-year-and-funding-amount">Publications per grant by year and funding amount</a></li>
<li class="toctree-l3"><a class="reference internal" href="../3-grants/2-grants-enrichment-adding-publications-information.html#Publications-per-grant-by-country">Publications per grant by country</a></li>
<li class="toctree-l3"><a class="reference internal" href="../3-grants/2-grants-enrichment-adding-publications-information.html#Correlation-of-num-of-publications-to-grant-length">Correlation of num of publications to grant length</a></li>
<li class="toctree-l3"><a class="reference internal" href="../3-grants/2-grants-enrichment-adding-publications-information.html#Publications-by-grant-funder">Publications by grant funder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../3-grants/2-grants-enrichment-adding-publications-information.html#Publications-by-grant-funder-vs-funding-amount">Publications by grant funder vs funding amount</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../3-grants/2-grants-enrichment-adding-publications-information.html#Conclusion">Conclusion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../3-grants/3-grants-enrichment-adding-patents-cltrials-information.html">Enriching Grants part 3: adding related Patents and Clinical Trials data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../3-grants/3-grants-enrichment-adding-patents-cltrials-information.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3-grants/3-grants-enrichment-adding-patents-cltrials-information.html#Reusing-the-enriched-grants-data-from-part-2">Reusing the enriched grants data from part-2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3-grants/3-grants-enrichment-adding-patents-cltrials-information.html#Extracting-linked-Patents-data">Extracting linked Patents data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3-grants/3-grants-enrichment-adding-patents-cltrials-information.html#Extracting-linked-Clinical-Trials-data">Extracting linked Clinical Trials data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3-grants/3-grants-enrichment-adding-patents-cltrials-information.html#Data-Exploration">Data Exploration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../3-grants/3-grants-enrichment-adding-patents-cltrials-information.html#How-many-linked-objects-overall?">How many linked objects overall?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../3-grants/3-grants-enrichment-adding-patents-cltrials-information.html#Patents-and-Clinical-Trials-by-Year">Patents and Clinical Trials by Year</a></li>
<li class="toctree-l3"><a class="reference internal" href="../3-grants/3-grants-enrichment-adding-patents-cltrials-information.html#Patents-and-Clinical-Trials-by-Grant-Funder">Patents and Clinical Trials by Grant Funder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../3-grants/3-grants-enrichment-adding-patents-cltrials-information.html#Exploring-Correlations-between-dimensions">Exploring Correlations between dimensions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../3-grants/3-grants-enrichment-adding-patents-cltrials-information.html#Conclusion">Conclusion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../3-grants/4-grants-topic-analysis.html">Identifying emerging topics in grants using ‘concepts’</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../3-grants/4-grants-topic-analysis.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3-grants/4-grants-topic-analysis.html#1.-Creating-a-Dataset:-e.g. Grants-from-a-Funder">1. Creating a Dataset: e.g. Grants from a Funder</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3-grants/4-grants-topic-analysis.html#2.-A-first-look-at-the-concepts-we-extracted">2. A first look at the concepts we extracted</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3-grants/4-grants-topic-analysis.html#3.-Building-a-word-cloud-visualization">3. Building a word-cloud visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3-grants/4-grants-topic-analysis.html#4.-Trend-analysis---‘emerging’-new-topics-each-year">4. Trend analysis - ‘emerging’ new topics each year</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3-grants/4-grants-topic-analysis.html#5.-Segmenting-results-using-the-fields-of-research-categories">5. Segmenting results using the fields of research categories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3-grants/4-grants-topic-analysis.html#6.-Conclusion">6. Conclusion</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Clinical Trials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../4-clinical-trials/Clinical_Trials_by_Volume_of_Pubs.html">Clinical Trials by Volume of Publications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../4-clinical-trials/Clinical_Trials_by_Volume_of_Pubs.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4-clinical-trials/Clinical_Trials_by_Volume_of_Pubs.html#Query-for-Clinical-Trials">Query for Clinical Trials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4-clinical-trials/Clinical_Trials_by_Volume_of_Pubs.html#Counting-publications-per-clinical-trial">Counting publications per clinical trial</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Patents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../5-patents/1-introducing-patents.html">The Patents API: Features Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../5-patents/1-introducing-patents.html#1.-Sample-Patents-Queries">1. Sample Patents Queries</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Searching-patents-by-keyword">Searching patents by keyword</a></li>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Searching-using-fielded-search">Searching using fielded search</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Searching-using-dates">Searching using dates</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Extracting-cited-publications-via-publication_ids">Extracting cited publications via <code class="docutils literal notranslate"><span class="pre">publication_ids</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Extracting-cited-patents-via-reference_ids">Extracting cited patents via <code class="docutils literal notranslate"><span class="pre">reference_ids</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Aggregating-results-using-facets">Aggregating results using facets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Top-assignees">Top assignees</a></li>
<li class="toctree-l4"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Top-researchers">Top researchers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Top-FOR-categories">Top FOR categories</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../5-patents/1-introducing-patents.html#2.-A-closer-look-at-Patents-statistics">2. A closer look at Patents statistics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Counting-records-per-each-field">Counting records per each field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Creating-a-bar-chart">Creating a bar chart</a></li>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Counting-the-yearly-distribution-of-field/records-data">Counting the yearly distribution of field/records data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Creating-a-line-chart">Creating a line chart</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../5-patents/1-introducing-patents.html#Where-to-find-out-more">Where to find out more</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html">Measuring the Innovation Impact of an Organization using Patents Citations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html#1.-Choosing-a-GRID-Research-Organization">1. Choosing a GRID Research Organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html#2.-Extracting-Publications-Data">2. Extracting Publications Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html#Quick-look-at-publications-statistics">Quick look at publications statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html#What-are-the-main-subject-areas?">What are the main subject areas?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html#3.-Extracting-Patents-linked-to-Publications">3. Extracting Patents linked to Publications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html#Enriching-publications-with-patents-citations-metrics">Enriching publications with patents citations metrics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html#4.-Patents-Data-Analysis">4. Patents Data Analysis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html#How-many-patents-per-year?">How many patents per year?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html#Who-is-filing-the-patents?">Who is filing the patents?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html#What-are-the-publications-most-frequenlty-referenced-in-patents?">What are the publications most frequenlty referenced in patents?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html#What-are-the-main-subject-areas-of-referenced-publications?">What are the main subject areas of referenced publications?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html#Is-there-a-correlation-between-publication-citations-and-patents-citations?">Is there a correlation between publication citations and patents citations?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../5-patents/1-Patents-referencing-a-Research-Organization.html#Where-to-go-from-here">Where to go from here</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Datasets</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html">The Datasets API: Features Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#1.-Sample-Dataset-Queries">1. Sample Dataset Queries</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#Searching-datasets-by-keyword">Searching datasets by keyword</a></li>
<li class="toctree-l3"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#Returning-associated-grants-and-publication-data">Returning associated grants and publication data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#Searching-using-fielded-search">Searching using fielded search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#Extracting-related-funding-via-grants">Extracting related funding via grants</a></li>
<li class="toctree-l3"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#Aggregating-results-using-facets">Aggregating results using facets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#Top-funders">Top funders</a></li>
<li class="toctree-l4"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#Top-research-organizations">Top research organizations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#Top-contributors">Top contributors</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#2.-A-closer-look-at-Datasets-statistics">2. A closer look at Datasets statistics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#Counting-records-per-each-field">Counting records per each field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#Creating-a-bar-chart">Creating a bar chart</a></li>
<li class="toctree-l3"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#Counting-the-yearly-distribution-of-field/records-data">Counting the yearly distribution of field/records data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#Creating-a-line-chart">Creating a line chart</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../9-datasets/1-introducing-datasets.html#Where-to-find-out-more">Where to find out more</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Researchers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../7-researchers/Calculating-the-H-Index-of-a-researcher.html">Calculating the H-index of a researcher</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../7-researchers/Calculating-the-H-Index-of-a-researcher.html#Background">Background</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Calculating-the-H-Index-of-a-researcher.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Calculating-the-H-Index-of-a-researcher.html#Selecting-a-researcher">Selecting a researcher</a></li>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Calculating-the-H-Index-of-a-researcher.html#The-H-Index-function">The H-Index function</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../7-researchers/Calculating-the-H-Index-of-a-researcher.html#Getting-citations-data-from-Dimensions">Getting citations data from Dimensions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../7-researchers/Calculating-the-H-Index-of-a-researcher.html#Wrapping-things-up">Wrapping things up</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Calculating-the-H-Index-of-a-researcher.html#Where-to-find-out-more">Where to find out more</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../7-researchers/Researchers-Search-tips-V2.html">Extracting researchers based on affiliations and publications history</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../7-researchers/Researchers-Search-tips-V2.html#Prerequisites">Prerequisites</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Researchers-Search-tips-V2.html#Select-an-organization-ID">Select an organization ID</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../7-researchers/Researchers-Search-tips-V2.html#Background:-understanding-the-data-model">Background: understanding the data model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7-researchers/Researchers-Search-tips-V2.html#Methodology:-two-options-available">Methodology: two options available</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7-researchers/Researchers-Search-tips-V2.html#Approach-1.-From-publications-to-researchers">Approach 1. From publications to researchers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7-researchers/Researchers-Search-tips-V2.html#Approach-2.-From-researchers-to-publications">Approach 2. From researchers to publications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7-researchers/Researchers-Search-tips-V2.html#Conclusions">Conclusions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../7-researchers/Experts-search-introduction.html">Expert Identification with the Dimensions API - An Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../7-researchers/Experts-search-introduction.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7-researchers/Experts-search-introduction.html#At-a-glance">At a glance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7-researchers/Experts-search-introduction.html#Step-1:-Concept-Extraction">Step 1: Concept Extraction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../7-researchers/Experts-search-introduction.html#Step-2:-Expert-Identification">Step 2: Expert Identification</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Experts-search-introduction.html#Example-1.-Basic-query-using-concepts">Example 1. Basic query using <code class="docutils literal notranslate"><span class="pre">concepts</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Experts-search-introduction.html#Example-2.-Query-with-OR-connectors">Example 2. Query with <code class="docutils literal notranslate"><span class="pre">OR</span></code> connectors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Experts-search-introduction.html#Example-3.-Query-with-where-filters">Example 3. Query with <code class="docutils literal notranslate"><span class="pre">where</span></code> filters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Experts-search-introduction.html#Example-4.-Adding-Overlap-Annotations-(eg-for-conflict-of-interests-checks)">Example 4. Adding Overlap Annotations (eg for conflict of interests checks)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Experts-search-introduction.html#Example-5.-Query-with-MUST/NOT-Operators">Example 5. Query with MUST/NOT Operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Experts-search-introduction.html#Example-6.-MUST-together-with-AND/OR">Example 6. MUST together with AND/OR</a></li>
<li class="toctree-l3"><a class="reference internal" href="../7-researchers/Experts-search-introduction.html#Example-7.-Wildcard-searches">Example 7. Wildcard searches</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Organizations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../8-organizations/1-GRID-preview.html">The Organizations API: Features Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/1-GRID-preview.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/1-GRID-preview.html#1.-Matching-affiliation-data-to-GRID-IDs-using-extract_affiliations">1. Matching affiliation data to GRID IDs using <code class="docutils literal notranslate"><span class="pre">extract_affiliations</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/1-GRID-preview.html#2.-Searching-GRID-organizations">2. Searching GRID organizations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../8-organizations/1-GRID-preview.html#Full-text-search">Full-text search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../8-organizations/1-GRID-preview.html#Fielded-search">Fielded search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../8-organizations/1-GRID-preview.html#Returning-facets">Returning facets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../8-organizations/1-GRID-preview.html#Returning-organizations-facets-from-publications">Returning organizations facets from publications</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/1-GRID-preview.html#3.-A-closer-look-at-the-organizations-data-statistics">3. A closer look at the organizations data statistics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../8-organizations/1-GRID-preview.html#Let’s-visualize-the-data-with-plotly">Let’s visualize the data with plotly</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/1-GRID-preview.html#Where-to-find-out-more">Where to find out more</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../8-organizations/2-Industry-Collaboration.html">Identifying the Industry Collaborators of an Academic Institution</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/2-Industry-Collaboration.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/2-Industry-Collaboration.html#1.-Selecting-an-academic-institution">1. Selecting an academic institution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/2-Industry-Collaboration.html#2.-Extracting-publications-from-industry-collaborations">2. Extracting publications from industry collaborations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/2-Industry-Collaboration.html#3.-Analyses">3. Analyses</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../8-organizations/2-Industry-Collaboration.html#3.1-Count-of-Publications-per-year-from-Industry-Collaborations">3.1 Count of Publications per year from Industry Collaborations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../8-organizations/2-Industry-Collaboration.html#3.2-Citations-from-Industry-Collaboration">3.2 Citations from Industry Collaboration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../8-organizations/2-Industry-Collaboration.html#3.3-Top-Industry-Collaborators">3.3 Top Industry Collaborators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../8-organizations/2-Industry-Collaboration.html#3.4-Countries-of-Industry-Collaborators">3.4 Countries of Industry Collaborators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../8-organizations/2-Industry-Collaboration.html#3.5-Putting-Countries-and-Collaborators-together">3.5 Putting Countries and Collaborators together</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../8-organizations/3-Organizations-Collaboration-Network.html">Building an Organizations Collaboration Network Diagram</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/3-Organizations-Collaboration-Network.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/3-Organizations-Collaboration-Network.html#1.-Choose-an-Organization-and-a-keyword-(topic)">1. Choose an Organization and a keyword (topic)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/3-Organizations-Collaboration-Network.html#2.-Building-a-one-degree-network-of-collaborating-institutions">2. Building a one-degree network of collaborating institutions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/3-Organizations-Collaboration-Network.html#3.-Building-a-network-of-any-size">3. Building a network of any size</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/3-Organizations-Collaboration-Network.html#4.-Visualizing-the-network">4. Visualizing the network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/3-Organizations-Collaboration-Network.html#5.-Addendum:-showing-only-‘Government’-collaborators">5. Addendum: showing only ‘Government’ collaborators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8-organizations/3-Organizations-Collaboration-Network.html#Conclusions">Conclusions</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../10-misc/1-report-content-volumes-per-year.html">Generating a report that monitors research topics across Dimensions sources</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../10-misc/1-report-content-volumes-per-year.html#Prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10-misc/1-report-content-volumes-per-year.html#1.-Creating-a-query-builder">1. Creating a query builder</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../10-misc/1-report-content-volumes-per-year.html#Query-logic">Query logic</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../10-misc/1-report-content-volumes-per-year.html#2.-Plotting-the-results">2. Plotting the results</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10-misc/1-report-content-volumes-per-year.html#3.-Conclusions">3. Conclusions</a></li>
</ul>
</li>
</ul>

            
          


   <div id="sidebar_github" style="margin-top: 12px;">
   <h3>Github Source</h3>

      <div style="margin: 10px 20px;">
      
         <iframe src="https://ghbtns.com/github-btn.html?user=digital-science&repo=dimensions-api-lab&type=star&count=true" frameborder="0" scrolling="0" width="170px" height="20px"></iframe>

         <iframe src="https://ghbtns.com/github-btn.html?user=digital-science&repo=dimensions-api-lab&type=fork&count=true" frameborder="0" scrolling="0" width="170px" height="20px"></iframe> 
      
      </div>

   </div>


        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">DSL</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    

    

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container,
div.nbinput.container div.prompt,
div.nbinput.container div.input_area,
div.nbinput.container div[class*=highlight],
div.nbinput.container div[class*=highlight] pre,
div.nboutput.container,
div.nboutput.container div.prompt,
div.nboutput.container div.output_area,
div.nboutput.container div[class*=highlight],
div.nboutput.container div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<script src='http://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js'></script>
<script>require=requirejs;</script><a class="reference external image-reference" href="https://colab.research.google.com/github/digital-science/dimensions-api-lab/blob/master/cookbooks/1-getting-started/6-Working-with-lists.ipynb"><img alt="../../_images/badge-colab.svg" src="../../_images/badge-colab.svg" /></a>
<a class="reference external image-reference" href="https://github.com/digital-science/dimensions-api-lab/blob/master/cookbooks/1-getting-started/6-Working-with-lists.ipynb"><img alt="../../_images/badge-github-custom.svg" src="../../_images/badge-github-custom.svg" /></a>
<hr class="docutils" />
<div class="section" id="Working-with-lists-in-the-Dimensions-API">
<h1>Working with lists in the Dimensions API<a class="headerlink" href="#Working-with-lists-in-the-Dimensions-API" title="Permalink to this headline">¶</a></h1>
<p>In this notebook we are going to show:</p>
<ul class="simple">
<li><p>How to use lists in order to write more efficient DSL queries</p></li>
<li><p>How lists can be used to concatenate the results of one query with another query</p></li>
<li><p>How these methods can be used for real-word applications e.g., getting publications/patents/grants that cite my publications</p></li>
</ul>
<div class="section" id="Prerequisites">
<h2>Prerequisites<a class="headerlink" href="#Prerequisites" title="Permalink to this headline">¶</a></h2>
<p>This notebook assumes you have installed the <a class="reference external" href="https://pypi.org/project/dimcli/">Dimcli</a> library and are familiar with the <em>Getting Started</em> tutorial.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">!</span>pip install dimcli -U --quiet

<span class="kn">import</span> <span class="nn">dimcli</span>
<span class="kn">from</span> <span class="nn">dimcli.utils</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;==</span><span class="se">\n</span><span class="s2">Logging in..&quot;</span><span class="p">)</span>
<span class="c1"># https://digital-science.github.io/dimcli/getting-started.html#authentication</span>
<span class="n">ENDPOINT</span> <span class="o">=</span> <span class="s2">&quot;https://app.dimensions.ai&quot;</span>
<span class="k">if</span> <span class="s1">&#39;google.colab&#39;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
  <span class="kn">import</span> <span class="nn">getpass</span>
  <span class="n">KEY</span> <span class="o">=</span> <span class="n">getpass</span><span class="o">.</span><span class="n">getpass</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="s1">&#39;API Key: &#39;</span><span class="p">)</span>
  <span class="n">dimcli</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">KEY</span><span class="p">,</span> <span class="n">ENDPOINT</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
  <span class="n">KEY</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
  <span class="n">dimcli</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">KEY</span><span class="p">,</span> <span class="n">ENDPOINT</span><span class="p">)</span>
<span class="n">dsl</span> <span class="o">=</span> <span class="n">dimcli</span><span class="o">.</span><span class="n">Dsl</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
==
Logging in..
Dimcli - Dimensions API Client (v0.8.2)
Connected to: https://app.dimensions.ai - DSL v1.28
Method: dsl.ini file
</pre></div></div>
</div>
</div>
<div class="section" id="1.-How-do-we-use-lists-in-the-Dimensions-API?">
<h2>1. How do we use lists in the Dimensions API?<a class="headerlink" href="#1.-How-do-we-use-lists-in-the-Dimensions-API?" title="Permalink to this headline">¶</a></h2>
<p>We use lists in the API because they are easier to read, and easier to work with.</p>
<p>Here is a query without lists.</p>
<p>How many publications were produced from either Monash or Melbourne University ( grid.1002.3, grid.1008.9 ) in either (2019 OR 2020). Be really careful with your brakets!</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%%</span><span class="k">dsldf</span>

search publications
where
      (
          research_orgs.id = &quot;grid.1008.9&quot;
       or research_orgs.id = &quot;grid.1002.3&quot;
       )
  and (
          year = 2019
       or year = 2020
       )
return publications
limit 1

</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Returned Publications: 1 (total = 39938)
Time: 0.45s
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>title</th>
      <th>pages</th>
      <th>author_affiliations</th>
      <th>year</th>
      <th>issue</th>
      <th>id</th>
      <th>type</th>
      <th>volume</th>
      <th>journal.id</th>
      <th>journal.title</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>“Surviving not thriving”: experiences of healt...</td>
      <td>809-823</td>
      <td>[[{'first_name': 'Madelaine', 'last_name': 'Sm...</td>
      <td>2020</td>
      <td>1</td>
      <td>pub.1128910744</td>
      <td>article</td>
      <td>25</td>
      <td>jour.1097842</td>
      <td>International Journal of Adolescence and Youth</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>The query above could get really messy. What if I wanted 20 institutions. What if I wanted the last ten years: (or,or,or,or,or….) and (or,or,or,or,or)</p>
<p>By using lists we can quickly add a large number of conditions by means of an easy to read square-brakets notation:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%%</span><span class="k">dsldf</span>
search publications
where research_orgs.id in [&quot;grid.1008.9&quot;,&quot;grid.1002.3&quot;]
  and year in [2019:2020]
return publications[id]
limit 100
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Returned Publications: 100 (total = 39938)
Time: 0.45s
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>pub.1128910744</td>
    </tr>
    <tr>
      <th>1</th>
      <td>pub.1125408894</td>
    </tr>
    <tr>
      <th>2</th>
      <td>pub.1125679504</td>
    </tr>
    <tr>
      <th>3</th>
      <td>pub.1121881108</td>
    </tr>
    <tr>
      <th>4</th>
      <td>pub.1125399511</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
    </tr>
    <tr>
      <th>95</th>
      <td>pub.1130154967</td>
    </tr>
    <tr>
      <th>96</th>
      <td>pub.1130473004</td>
    </tr>
    <tr>
      <th>97</th>
      <td>pub.1130565969</td>
    </tr>
    <tr>
      <th>98</th>
      <td>pub.1129877063</td>
    </tr>
    <tr>
      <th>99</th>
      <td>pub.1130210026</td>
    </tr>
  </tbody>
</table>
<p>100 rows × 1 columns</p>
</div></div>
</div>
</div>
<div class="section" id="2.-What-are-all-the-things-that-we-can-make-lists-of-in-the-Dimensions-API?">
<h2>2. What are all the things that we can make lists of in the Dimensions API?<a class="headerlink" href="#2.-What-are-all-the-things-that-we-can-make-lists-of-in-the-Dimensions-API?" title="Permalink to this headline">¶</a></h2>
<div class="section" id="What-are-the-internal-Entities-that-we-might-put-in-a-list?">
<h3>What are the internal Entities that we might put in a list?<a class="headerlink" href="#What-are-the-internal-Entities-that-we-might-put-in-a-list?" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">dsldocs</span>
<span class="n">dsl_last_results</span><span class="p">[</span><span class="n">dsl_last_results</span><span class="p">[</span><span class="s1">&#39;is_entity&#39;</span><span class="p">]</span><span class="o">==</span><span class="kc">True</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sources</th>
      <th>field</th>
      <th>type</th>
      <th>description</th>
      <th>is_filter</th>
      <th>is_entity</th>
      <th>is_facet</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>6</th>
      <td>publications</td>
      <td>category_bra</td>
      <td>categories</td>
      <td>`Broad Research Areas &lt;https://dimensions.fres...</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
    </tr>
    <tr>
      <th>7</th>
      <td>publications</td>
      <td>category_for</td>
      <td>categories</td>
      <td>`ANZSRC Fields of Research classification &lt;htt...</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
    </tr>
    <tr>
      <th>8</th>
      <td>publications</td>
      <td>category_hra</td>
      <td>categories</td>
      <td>`Health Research Areas &lt;https://dimensions.fre...</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
    </tr>
    <tr>
      <th>9</th>
      <td>publications</td>
      <td>category_hrcs_hc</td>
      <td>categories</td>
      <td>`HRCS - Health Categories &lt;https://dimensions....</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
    </tr>
    <tr>
      <th>10</th>
      <td>publications</td>
      <td>category_hrcs_rac</td>
      <td>categories</td>
      <td>`HRCS – Research Activity Codes &lt;https://dimen...</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>284</th>
      <td>datasets</td>
      <td>research_org_cities</td>
      <td>cities</td>
      <td>City of the organisations the publication auth...</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
    </tr>
    <tr>
      <th>285</th>
      <td>datasets</td>
      <td>research_org_countries</td>
      <td>countries</td>
      <td>Country of the organisations the publication a...</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
    </tr>
    <tr>
      <th>286</th>
      <td>datasets</td>
      <td>research_org_states</td>
      <td>states</td>
      <td>State of the organisations the publication aut...</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
    </tr>
    <tr>
      <th>287</th>
      <td>datasets</td>
      <td>research_orgs</td>
      <td>organizations</td>
      <td>GRID organisations linked to the publication a...</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
    </tr>
    <tr>
      <th>288</th>
      <td>datasets</td>
      <td>researchers</td>
      <td>researchers</td>
      <td>Dimensions researchers IDs associated to the d...</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
<p>101 rows × 7 columns</p>
</div></div>
</div>
</div>
<div class="section" id="What-about-lists-of-ids?">
<h3>What about lists of ids?<a class="headerlink" href="#What-about-lists-of-ids?" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">dsldocs</span>
<span class="n">dsl_last_results</span><span class="p">[</span><span class="n">dsl_last_results</span><span class="p">[</span><span class="s1">&#39;field&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">)</span><span class="o">==</span><span class="kc">True</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sources</th>
      <th>field</th>
      <th>type</th>
      <th>description</th>
      <th>is_filter</th>
      <th>is_entity</th>
      <th>is_facet</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>publications</td>
      <td>altmetric_id</td>
      <td>integer</td>
      <td>AltMetric Publication ID</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>25</th>
      <td>publications</td>
      <td>id</td>
      <td>string</td>
      <td>Dimensions publication ID.</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>34</th>
      <td>publications</td>
      <td>pmcid</td>
      <td>string</td>
      <td>PubMed Central ID.</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>35</th>
      <td>publications</td>
      <td>pmid</td>
      <td>string</td>
      <td>PubMed ID.</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>39</th>
      <td>publications</td>
      <td>reference_ids</td>
      <td>string</td>
      <td>Dimensions publication ID for publications in ...</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>51</th>
      <td>publications</td>
      <td>supporting_grant_ids</td>
      <td>string</td>
      <td>Grants supporting a publication, returned as a...</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>89</th>
      <td>grants</td>
      <td>id</td>
      <td>string</td>
      <td>Dimensions grant ID.</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>111</th>
      <td>patents</td>
      <td>associated_grant_ids</td>
      <td>string</td>
      <td>Dimensions IDs of the grants associated to the...</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>120</th>
      <td>patents</td>
      <td>cited_by_ids</td>
      <td>string</td>
      <td>Dimensions IDs of the patents that cite this p...</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>133</th>
      <td>patents</td>
      <td>id</td>
      <td>string</td>
      <td>Dimensions patent ID</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>143</th>
      <td>patents</td>
      <td>publication_ids</td>
      <td>string</td>
      <td>Dimensions IDs of the publications related to ...</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>146</th>
      <td>patents</td>
      <td>reference_ids</td>
      <td>string</td>
      <td>Dimensions IDs of the patents which are cited ...</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>154</th>
      <td>clinical_trials</td>
      <td>associated_grant_ids</td>
      <td>string</td>
      <td>Dimensions IDs of the grants associated to the...</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>171</th>
      <td>clinical_trials</td>
      <td>id</td>
      <td>string</td>
      <td>Dimensions clinical trial ID</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>177</th>
      <td>clinical_trials</td>
      <td>publication_ids</td>
      <td>string</td>
      <td>Dimensions IDs of the publications related to ...</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>193</th>
      <td>policy_documents</td>
      <td>id</td>
      <td>string</td>
      <td>Dimensions policy document ID</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>195</th>
      <td>policy_documents</td>
      <td>publication_ids</td>
      <td>string</td>
      <td>Dimensions IDs of the publications related to ...</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>208</th>
      <td>researchers</td>
      <td>id</td>
      <td>string</td>
      <td>Dimensions researcher ID.</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>212</th>
      <td>researchers</td>
      <td>nih_ppid</td>
      <td>string</td>
      <td>The PI Profile ID (i.e., ppid) is a Researcher...</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>214</th>
      <td>researchers</td>
      <td>orcid_id</td>
      <td>string</td>
      <td>`ORCID &lt;https://orcid.org/&gt;`_ ID.</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>221</th>
      <td>organizations</td>
      <td>cnrs_ids</td>
      <td>string</td>
      <td>CNRS IDs for this organization</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>225</th>
      <td>organizations</td>
      <td>external_ids_fundref</td>
      <td>string</td>
      <td>Fundref IDs for this organization</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>226</th>
      <td>organizations</td>
      <td>hesa_ids</td>
      <td>string</td>
      <td>HESA IDs for this organization</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>227</th>
      <td>organizations</td>
      <td>id</td>
      <td>string</td>
      <td>GRID ID of the organization. E.g., "grid.26999...</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>228</th>
      <td>organizations</td>
      <td>isni_ids</td>
      <td>string</td>
      <td>ISNI IDs for this organization</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>239</th>
      <td>organizations</td>
      <td>organization_child_ids</td>
      <td>string</td>
      <td>Child organization IDs</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>240</th>
      <td>organizations</td>
      <td>organization_parent_ids</td>
      <td>string</td>
      <td>Parent organization IDs</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>241</th>
      <td>organizations</td>
      <td>organization_related_ids</td>
      <td>string</td>
      <td>Related organization IDs</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>242</th>
      <td>organizations</td>
      <td>orgref_ids</td>
      <td>string</td>
      <td>OrgRef IDs for this organization</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>244</th>
      <td>organizations</td>
      <td>ror_ids</td>
      <td>string</td>
      <td>ROR IDs for this organization</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>248</th>
      <td>organizations</td>
      <td>ucas_ids</td>
      <td>string</td>
      <td>UCAS IDs for this organization</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>249</th>
      <td>organizations</td>
      <td>ukprn_ids</td>
      <td>string</td>
      <td>UKPRN IDs for this organization</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>250</th>
      <td>organizations</td>
      <td>wikidata_ids</td>
      <td>string</td>
      <td>WikiData IDs for this organization</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>252</th>
      <td>datasets</td>
      <td>associated_grant_ids</td>
      <td>string</td>
      <td>The Dimensions IDs of the grants linked to the...</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>254</th>
      <td>datasets</td>
      <td>associated_publication_id</td>
      <td>string</td>
      <td>The Dimensions ID of the publication linked to...</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>276</th>
      <td>datasets</td>
      <td>id</td>
      <td>string</td>
      <td>Dimensions dataset ID.</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>283</th>
      <td>datasets</td>
      <td>repository_id</td>
      <td>string</td>
      <td>The ID of the repository of the dataset.</td>
      <td>True</td>
      <td>False</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="What-are-the-external-entities-that-we-can-put-in-a-list?">
<h3>What are the external entities that we can put in a list?<a class="headerlink" href="#What-are-the-external-entities-that-we-can-put-in-a-list?" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>a list of ISSN’s</p></li>
<li><p>a list of External Grant IDs</p></li>
<li><p>a list of DOIs</p></li>
<li><p>a list of categories</p></li>
</ul>
</div>
</div>
<div class="section" id="3.-Making-a-list-from-the-results-of-a-query">
<h2>3. Making a list from the results of a query<a class="headerlink" href="#3.-Making-a-list-from-the-results-of-a-query" title="Permalink to this headline">¶</a></h2>
<p>The list syntax for the Dimensions API is the same as the list syntax for json, so we can use python’s json-to-string functions to make a list of ids for us from the previous query.</p>
<p>Let’s run our example query again.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%%</span><span class="k">dsldf</span>
search publications
where research_orgs.id in [&quot;grid.1008.9&quot;,&quot;grid.1002.3&quot;]
  and year in [2019:2020]
return publications[id]
limit 100
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Returned Publications: 100 (total = 39938)
Time: 0.51s
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>pub.1128910744</td>
    </tr>
    <tr>
      <th>1</th>
      <td>pub.1125408894</td>
    </tr>
    <tr>
      <th>2</th>
      <td>pub.1125679504</td>
    </tr>
    <tr>
      <th>3</th>
      <td>pub.1121881108</td>
    </tr>
    <tr>
      <th>4</th>
      <td>pub.1125399511</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
    </tr>
    <tr>
      <th>95</th>
      <td>pub.1130154967</td>
    </tr>
    <tr>
      <th>96</th>
      <td>pub.1130473004</td>
    </tr>
    <tr>
      <th>97</th>
      <td>pub.1130565969</td>
    </tr>
    <tr>
      <th>98</th>
      <td>pub.1129877063</td>
    </tr>
    <tr>
      <th>99</th>
      <td>pub.1130210026</td>
    </tr>
  </tbody>
</table>
<p>100 rows × 1 columns</p>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">dsl_last_results</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>


</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;[&#34;pub.1128910744&#34;, &#34;pub.1125408894&#34;, &#34;pub.1125679504&#34;, &#34;pub.1121881108&#34;, &#34;pub.1125399511&#34;, &#34;pub.1125025149&#34;, &#34;pub.1129750783&#34;, &#34;pub.1129934894&#34;, &#34;pub.1116652110&#34;, &#34;pub.1130428426&#34;, &#34;pub.1125617654&#34;, &#34;pub.1125508088&#34;, &#34;pub.1125663277&#34;, &#34;pub.1127397677&#34;, &#34;pub.1128670172&#34;, &#34;pub.1129738952&#34;, &#34;pub.1129927065&#34;, &#34;pub.1125488818&#34;, &#34;pub.1127579881&#34;, &#34;pub.1129330483&#34;, &#34;pub.1129969190&#34;, &#34;pub.1124060229&#34;, &#34;pub.1130469744&#34;, &#34;pub.1128526965&#34;, &#34;pub.1127449188&#34;, &#34;pub.1128910055&#34;, &#34;pub.1129152052&#34;, &#34;pub.1128835792&#34;, &#34;pub.1128553673&#34;, &#34;pub.1127171381&#34;, &#34;pub.1128188711&#34;, &#34;pub.1124550366&#34;, &#34;pub.1127403602&#34;, &#34;pub.1126704737&#34;, &#34;pub.1126705781&#34;, &#34;pub.1126697386&#34;, &#34;pub.1128490805&#34;, &#34;pub.1127453116&#34;, &#34;pub.1128581013&#34;, &#34;pub.1125617777&#34;, &#34;pub.1125902856&#34;, &#34;pub.1125545402&#34;, &#34;pub.1128250005&#34;, &#34;pub.1129711942&#34;, &#34;pub.1124633600&#34;, &#34;pub.1125753634&#34;, &#34;pub.1125756054&#34;, &#34;pub.1128670125&#34;, &#34;pub.1127351832&#34;, &#34;pub.1125664038&#34;, &#34;pub.1126125606&#34;, &#34;pub.1124372639&#34;, &#34;pub.1124670593&#34;, &#34;pub.1127514900&#34;, &#34;pub.1126502051&#34;, &#34;pub.1126013995&#34;, &#34;pub.1129038309&#34;, &#34;pub.1129100811&#34;, &#34;pub.1126702062&#34;, &#34;pub.1129384636&#34;, &#34;pub.1129492233&#34;, &#34;pub.1124830567&#34;, &#34;pub.1129357934&#34;, &#34;pub.1129327398&#34;, &#34;pub.1125516023&#34;, &#34;pub.1130259916&#34;, &#34;pub.1130003198&#34;, &#34;pub.1130128246&#34;, &#34;pub.1129417550&#34;, &#34;pub.1128978928&#34;, &#34;pub.1129155555&#34;, &#34;pub.1130240573&#34;, &#34;pub.1130286746&#34;, &#34;pub.1125502024&#34;, &#34;pub.1129668495&#34;, &#34;pub.1125609619&#34;, &#34;pub.1127726353&#34;, &#34;pub.1124284911&#34;, &#34;pub.1124342595&#34;, &#34;pub.1124132392&#34;, &#34;pub.1125488824&#34;, &#34;pub.1128939571&#34;, &#34;pub.1125488819&#34;, &#34;pub.1125152336&#34;, &#34;pub.1129605398&#34;, &#34;pub.1128877084&#34;, &#34;pub.1129604079&#34;, &#34;pub.1127419474&#34;, &#34;pub.1125402193&#34;, &#34;pub.1129847614&#34;, &#34;pub.1128556442&#34;, &#34;pub.1124885124&#34;, &#34;pub.1129640786&#34;, &#34;pub.1127252780&#34;, &#34;pub.1130469679&#34;, &#34;pub.1130154967&#34;, &#34;pub.1130473004&#34;, &#34;pub.1130565969&#34;, &#34;pub.1129877063&#34;, &#34;pub.1130210026&#34;]&#39;
</pre></div></div>
</div>
<p>Let’s try to use this list of IDs.</p>
<p>Unfortunately, you can’t just put your results directly into the query</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%%</span><span class="k">dsldf</span>
  search publications
  where id in [json.dumps(list(dsl_last_results.id))]

  return publications

</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Returned Errors: 1
Time: 0.45s
4 QuerySyntaxErrors found
4 ParserErrors found
  * [Line 2:15] (&#39;json&#39;) no viable alternative at input &#39;[json&#39;
  * [Line 2:26] (&#39;list&#39;) extraneous input &#39;list&#39; expecting {&#39;for&#39;, &#39;in&#39;, &#39;(&#39;}
  * [Line 2:31] (&#39;dsl_last_results&#39;) mismatched input &#39;dsl_last_results&#39; expecting {&#39;for&#39;, &#39;in&#39;, &#39;(&#39;}
  * [Line 2:52] (&#39;]&#39;) extraneous input &#39;]&#39; expecting &#39;return&#39;
</pre></div></div>
</div>
<p>..so let’s get our results back again</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%%</span><span class="k">dsldf</span>
search publications
where research_orgs.id in [&quot;grid.1008.9&quot;,&quot;grid.1002.3&quot;]
  and year in [2019:2020]
return publications[id]
limit 100
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Returned Publications: 100 (total = 39938)
Time: 0.47s
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>pub.1128910744</td>
    </tr>
    <tr>
      <th>1</th>
      <td>pub.1125408894</td>
    </tr>
    <tr>
      <th>2</th>
      <td>pub.1125679504</td>
    </tr>
    <tr>
      <th>3</th>
      <td>pub.1121881108</td>
    </tr>
    <tr>
      <th>4</th>
      <td>pub.1125399511</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
    </tr>
    <tr>
      <th>95</th>
      <td>pub.1130154967</td>
    </tr>
    <tr>
      <th>96</th>
      <td>pub.1130473004</td>
    </tr>
    <tr>
      <th>97</th>
      <td>pub.1130565969</td>
    </tr>
    <tr>
      <th>98</th>
      <td>pub.1129877063</td>
    </tr>
    <tr>
      <th>99</th>
      <td>pub.1130210026</td>
    </tr>
  </tbody>
</table>
<p>100 rows × 1 columns</p>
</div></div>
</div>
<p>… and use the python way of calling the Dimensions API instead</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">dsl</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>

<span class="s2"> search publications</span>
<span class="s2">  where id in </span><span class="si">{</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">dsl_last_results</span><span class="o">.</span><span class="n">id</span><span class="p">))</span><span class="si">}</span><span class="s2"></span>

<span class="s2">  return publications</span>


<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">as_dataframe</span><span class="p">()</span>

<span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>

<span class="s2"> search publications</span>
<span class="s2">  where id in </span><span class="si">{</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">dsl_last_results</span><span class="o">.</span><span class="n">id</span><span class="p">))</span><span class="si">}</span><span class="s2"></span>

<span class="s2">  return publications</span>


<span class="s2">&quot;&quot;&quot;</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Returned Publications: 20 (total = 100)
Time: 0.55s
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;\n\n search publications\n  where id in [&#34;pub.1128910744&#34;, &#34;pub.1125408894&#34;, &#34;pub.1125679504&#34;, &#34;pub.1121881108&#34;, &#34;pub.1125399511&#34;, &#34;pub.1125025149&#34;, &#34;pub.1129750783&#34;, &#34;pub.1129934894&#34;, &#34;pub.1116652110&#34;, &#34;pub.1130428426&#34;, &#34;pub.1125617654&#34;, &#34;pub.1125508088&#34;, &#34;pub.1125663277&#34;, &#34;pub.1127397677&#34;, &#34;pub.1128670172&#34;, &#34;pub.1129738952&#34;, &#34;pub.1129927065&#34;, &#34;pub.1125488818&#34;, &#34;pub.1127579881&#34;, &#34;pub.1129330483&#34;, &#34;pub.1129969190&#34;, &#34;pub.1124060229&#34;, &#34;pub.1130469744&#34;, &#34;pub.1128526965&#34;, &#34;pub.1127449188&#34;, &#34;pub.1128910055&#34;, &#34;pub.1129152052&#34;, &#34;pub.1128835792&#34;, &#34;pub.1128553673&#34;, &#34;pub.1127171381&#34;, &#34;pub.1128188711&#34;, &#34;pub.1124550366&#34;, &#34;pub.1127403602&#34;, &#34;pub.1126704737&#34;, &#34;pub.1126705781&#34;, &#34;pub.1126697386&#34;, &#34;pub.1128490805&#34;, &#34;pub.1127453116&#34;, &#34;pub.1128581013&#34;, &#34;pub.1125617777&#34;, &#34;pub.1125902856&#34;, &#34;pub.1125545402&#34;, &#34;pub.1128250005&#34;, &#34;pub.1129711942&#34;, &#34;pub.1124633600&#34;, &#34;pub.1125753634&#34;, &#34;pub.1125756054&#34;, &#34;pub.1128670125&#34;, &#34;pub.1127351832&#34;, &#34;pub.1125664038&#34;, &#34;pub.1126125606&#34;, &#34;pub.1124372639&#34;, &#34;pub.1124670593&#34;, &#34;pub.1127514900&#34;, &#34;pub.1126502051&#34;, &#34;pub.1126013995&#34;, &#34;pub.1129038309&#34;, &#34;pub.1129100811&#34;, &#34;pub.1126702062&#34;, &#34;pub.1129384636&#34;, &#34;pub.1129492233&#34;, &#34;pub.1124830567&#34;, &#34;pub.1129357934&#34;, &#34;pub.1129327398&#34;, &#34;pub.1125516023&#34;, &#34;pub.1130259916&#34;, &#34;pub.1130003198&#34;, &#34;pub.1130128246&#34;, &#34;pub.1129417550&#34;, &#34;pub.1128978928&#34;, &#34;pub.1129155555&#34;, &#34;pub.1130240573&#34;, &#34;pub.1130286746&#34;, &#34;pub.1125502024&#34;, &#34;pub.1129668495&#34;, &#34;pub.1125609619&#34;, &#34;pub.1127726353&#34;, &#34;pub.1124284911&#34;, &#34;pub.1124342595&#34;, &#34;pub.1124132392&#34;, &#34;pub.1125488824&#34;, &#34;pub.1128939571&#34;, &#34;pub.1125488819&#34;, &#34;pub.1125152336&#34;, &#34;pub.1129605398&#34;, &#34;pub.1128877084&#34;, &#34;pub.1129604079&#34;, &#34;pub.1127419474&#34;, &#34;pub.1125402193&#34;, &#34;pub.1129847614&#34;, &#34;pub.1128556442&#34;, &#34;pub.1124885124&#34;, &#34;pub.1129640786&#34;, &#34;pub.1127252780&#34;, &#34;pub.1130469679&#34;, &#34;pub.1130154967&#34;, &#34;pub.1130473004&#34;, &#34;pub.1130565969&#34;, &#34;pub.1129877063&#34;, &#34;pub.1130210026&#34;]\n\n  return publications\n\n\n&#39;
</pre></div></div>
</div>
<div class="section" id="Putting-both-parts-of-this-example-together">
<h3>Putting both parts of this example together<a class="headerlink" href="#Putting-both-parts-of-this-example-together" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Step 1. Get the list of publications..</span>

<span class="n">pubs</span> <span class="o">=</span> <span class="n">dsl</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                  search publications</span>
<span class="s2">                    where research_orgs.id in [&quot;grid.1008.9&quot;,&quot;grid.1002.3&quot;]</span>
<span class="s2">                      and year in [2019:2020]</span>
<span class="s2">                    return publications[id]</span>
<span class="s2">                    limit 100</span>
<span class="s2">                &quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">as_dataframe</span><span class="p">()</span>

<span class="c1"># Step 2. Put the list into the next query...</span>

<span class="n">dsl</span><span class="o">.</span><span class="n">query_iterative</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                 search publications</span>
<span class="s2">                    where id in </span><span class="si">{</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">pubs</span><span class="o">.</span><span class="n">id</span><span class="p">))</span><span class="si">}</span><span class="s2"></span>
<span class="s2">                    return publications</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">as_dataframe</span><span class="p">()</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Returned Publications: 100 (total = 39938)
Time: 0.47s
Starting iteration with limit=1000 skip=0 ...
0-100 / 100 (0.98s)
===
Records extracted: 100
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>title</th>
      <th>volume</th>
      <th>issue</th>
      <th>pages</th>
      <th>type</th>
      <th>year</th>
      <th>author_affiliations</th>
      <th>journal.id</th>
      <th>journal.title</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>pub.1128910744</td>
      <td>“Surviving not thriving”: experiences of healt...</td>
      <td>25</td>
      <td>1</td>
      <td>809-823</td>
      <td>article</td>
      <td>2020</td>
      <td>[[{'first_name': 'Madelaine', 'last_name': 'Sm...</td>
      <td>jour.1097842</td>
      <td>International Journal of Adolescence and Youth</td>
    </tr>
    <tr>
      <th>1</th>
      <td>pub.1125408894</td>
      <td>Posttraumatic anger: a confirmatory factor ana...</td>
      <td>11</td>
      <td>1</td>
      <td>1731127</td>
      <td>article</td>
      <td>2020</td>
      <td>[[{'first_name': 'Grazia', 'last_name': 'Cesch...</td>
      <td>jour.1045059</td>
      <td>European Journal of Psychotraumatology</td>
    </tr>
    <tr>
      <th>2</th>
      <td>pub.1125679504</td>
      <td>Direct assessment of mental health and metabol...</td>
      <td>13</td>
      <td>1</td>
      <td>1732665</td>
      <td>article</td>
      <td>2020</td>
      <td>[[{'first_name': 'Peter S', 'last_name': 'Azzo...</td>
      <td>jour.1041075</td>
      <td>Global Health Action</td>
    </tr>
    <tr>
      <th>3</th>
      <td>pub.1121881108</td>
      <td>The large-scale implementation and evaluation ...</td>
      <td>25</td>
      <td>1</td>
      <td>1-11</td>
      <td>article</td>
      <td>2020</td>
      <td>[[{'first_name': 'Bengianni', 'last_name': 'Pi...</td>
      <td>jour.1097842</td>
      <td>International Journal of Adolescence and Youth</td>
    </tr>
    <tr>
      <th>4</th>
      <td>pub.1125399511</td>
      <td>Structural brain changes with lifetime trauma ...</td>
      <td>11</td>
      <td>1</td>
      <td>1733247</td>
      <td>article</td>
      <td>2020</td>
      <td>[[{'first_name': 'Marie-Laure', 'last_name': '...</td>
      <td>jour.1045059</td>
      <td>European Journal of Psychotraumatology</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="Doing-something-useful:-Get-all-the-publications-that-cite-my-publications">
<h3>Doing something useful: Get all the publications that cite my publications<a class="headerlink" href="#Doing-something-useful:-Get-all-the-publications-that-cite-my-publications" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pubs</span> <span class="o">=</span> <span class="n">dsl</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                  search publications</span>
<span class="s2">                    where research_orgs.id in [&quot;grid.1008.9&quot;,&quot;grid.1002.3&quot;]</span>
<span class="s2">                      and year in [2019:2020]</span>
<span class="s2">                    return publications[id]</span>
<span class="s2">                    limit 100</span>
<span class="s2">                &quot;&quot;&quot;</span><span class="p">)</span>

<span class="n">mypubslist</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">pubs</span><span class="o">.</span><span class="n">as_dataframe</span><span class="p">()</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>

<span class="n">dsl</span><span class="o">.</span><span class="n">query_iterative</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                 search publications</span>
<span class="s2">                    where reference_ids in </span><span class="si">{</span><span class="n">mypubslist</span><span class="si">}</span><span class="s2"></span>
<span class="s2">                    return publications</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">as_dataframe</span><span class="p">()</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Returned Publications: 100 (total = 39938)
Time: 0.46s
Starting iteration with limit=1000 skip=0 ...
0-47 / 47 (0.61s)
===
Records extracted: 47
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>title</th>
      <th>pages</th>
      <th>author_affiliations</th>
      <th>year</th>
      <th>issue</th>
      <th>id</th>
      <th>type</th>
      <th>volume</th>
      <th>journal.id</th>
      <th>journal.title</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Non-photochemical quenching, a non-invasive pr...</td>
      <td>32-43</td>
      <td>[[{'first_name': 'Pranali', 'last_name': 'Deor...</td>
      <td>2020</td>
      <td>1</td>
      <td>pub.1125663277</td>
      <td>article</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Distribution and pyrethroid resistance status ...</td>
      <td>213</td>
      <td>[[{'first_name': 'Hitoshi', 'last_name': 'Kawa...</td>
      <td>2020</td>
      <td>1</td>
      <td>pub.1126895840</td>
      <td>article</td>
      <td>13</td>
      <td>jour.1039458</td>
      <td>Parasites &amp; Vectors</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Reducing ignorance about who dies of what: res...</td>
      <td>58</td>
      <td>[[{'first_name': 'Alan D.', 'last_name': 'Lope...</td>
      <td>2020</td>
      <td>1</td>
      <td>pub.1125488824</td>
      <td>article</td>
      <td>18</td>
      <td>jour.1032885</td>
      <td>BMC Medicine</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Wolbachia: a possible weapon for controlling d...</td>
      <td>50</td>
      <td>[[{'first_name': 'Sujan', 'last_name': 'Khadka...</td>
      <td>2020</td>
      <td>1</td>
      <td>pub.1128670136</td>
      <td>article</td>
      <td>48</td>
      <td>jour.1312315</td>
      <td>Tropical Medicine and Health</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Can increasing years of schooling reduce type ...</td>
      <td>12908</td>
      <td>[[{'first_name': 'Charleen D.', 'last_name': '...</td>
      <td>2020</td>
      <td>1</td>
      <td>pub.1129772083</td>
      <td>article</td>
      <td>10</td>
      <td>jour.1045337</td>
      <td>Scientific Reports</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
</div>
<div class="section" id="5.-How-Long-can-lists-get?">
<h2>5. How Long can lists get?<a class="headerlink" href="#5.-How-Long-can-lists-get?" title="Permalink to this headline">¶</a></h2>
<p>It is a bit dependent on string length, plus a fixed length of 512 items</p>
<div class="section" id="This-won’t-work">
<h3>This won’t work<a class="headerlink" href="#This-won’t-work" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pubs</span> <span class="o">=</span> <span class="n">dsl</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                  search publications</span>
<span class="s2">                    where research_orgs.id in [&quot;grid.1008.9&quot;,&quot;grid.1002.3&quot;]</span>
<span class="s2">                      and year in [2019:2020]</span>
<span class="s2">                    return publications[id]</span>
<span class="s2">                    limit 1000</span>
<span class="s2">                &quot;&quot;&quot;</span><span class="p">)</span>

<span class="n">mypubslist</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">pubs</span><span class="o">.</span><span class="n">as_dataframe</span><span class="p">()</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>

<span class="n">dsl</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                 search publications</span>
<span class="s2">                    where reference_ids in </span><span class="si">{</span><span class="n">mypubslist</span><span class="si">}</span><span class="s2"></span>
<span class="s2">                    return publications</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">as_dataframe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Returned Publications: 1000 (total = 39938)
Time: 0.50s
Returned Errors: 1
Time: 1.11s
Semantic Error
Semantic errors found:
        Filter operator &#39;in&#39; requires 0 &lt; items &lt; 512. &#39;1000 is out of this range&#39;.
</pre></div></div>
</div>
</div>
<div class="section" id="This-will">
<h3>This will<a class="headerlink" href="#This-will" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pubs</span> <span class="o">=</span> <span class="n">dsl</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                  search publications</span>
<span class="s2">                    where research_orgs.id in [&quot;grid.1008.9&quot;,&quot;grid.1002.3&quot;]</span>
<span class="s2">                      and year in [2019:2020]</span>
<span class="s2">                    return publications[id]</span>
<span class="s2">                    limit 250</span>
<span class="s2">                &quot;&quot;&quot;</span><span class="p">)</span>

<span class="n">mypubslist</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">pubs</span><span class="o">.</span><span class="n">as_dataframe</span><span class="p">()</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>

<span class="n">dsl</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                 search publications</span>
<span class="s2">                    where reference_ids in </span><span class="si">{</span><span class="n">mypubslist</span><span class="si">}</span><span class="s2"></span>
<span class="s2">                    return publications</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">as_dataframe</span><span class="p">()</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Returned Publications: 250 (total = 39938)
Time: 0.59s
Returned Publications: 20 (total = 168)
Time: 0.98s
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>title</th>
      <th>pages</th>
      <th>author_affiliations</th>
      <th>year</th>
      <th>issue</th>
      <th>id</th>
      <th>type</th>
      <th>volume</th>
      <th>journal.id</th>
      <th>journal.title</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Non-photochemical quenching, a non-invasive pr...</td>
      <td>32-43</td>
      <td>[[{'first_name': 'Pranali', 'last_name': 'Deor...</td>
      <td>2020</td>
      <td>1</td>
      <td>pub.1125663277</td>
      <td>article</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Predicting breast cancer risk using interactin...</td>
      <td>11044</td>
      <td>[[{'first_name': 'Hamid', 'last_name': 'Behrav...</td>
      <td>2020</td>
      <td>1</td>
      <td>pub.1129015188</td>
      <td>article</td>
      <td>10</td>
      <td>jour.1045337</td>
      <td>Scientific Reports</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="What-if-I-need-a-very-long-list?">
<h3>What if I need a very long list?<a class="headerlink" href="#What-if-I-need-a-very-long-list?" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference external" href="https://github.com/lambdamusic/dimcli">Dimcli</a> library can break up your query into chunks.</p>
<p>We then loop through each chunk - get the result, and stick them back together again at the end.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Step 1 - same as before - except now we want the query in chunks</span>

<span class="n">pubs_chunks</span> <span class="o">=</span> <span class="n">dsl</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                  search publications</span>
<span class="s2">                    where research_orgs.id in [&quot;grid.1008.9&quot;,&quot;grid.1002.3&quot;]</span>
<span class="s2">                      and year in [2019:2020]</span>
<span class="s2">                    return publications[id]</span>
<span class="s2">                    limit 1000</span>
<span class="s2">                &quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">chunks</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span>

<span class="c1"># Step 2 - almost the same as before - except now we use a for loop to loop through our results</span>

<span class="n">query_results</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">pubs_chunks</span><span class="p">:</span>

      <span class="n">mypubslist</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>

      <span class="n">query_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>

                  <span class="n">dsl</span><span class="o">.</span><span class="n">query_iterative</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                        search publications</span>
<span class="s2">                            where reference_ids in </span><span class="si">{</span><span class="n">mypubslist</span><span class="si">}</span><span class="s2"></span>
<span class="s2">                            return publications</span>
<span class="s2">                        &quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">as_dataframe</span><span class="p">()</span>
      <span class="p">)</span>

<span class="c1"># Step 3 - join our results back together again, and get rid of duplicates</span>

<span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">query_results</span><span class="p">)</span><span class="o">.</span>\
   <span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s1">&#39;id&#39;</span><span class="p">)</span><span class="o">.</span>\
   <span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Returned Publications: 1000 (total = 39938)
Time: 0.87s
Starting iteration with limit=1000 skip=0 ...
0-167 / 167 (2.92s)
===
Records extracted: 167
Starting iteration with limit=1000 skip=0 ...
0-218 / 218 (1.16s)
===
Records extracted: 218
Starting iteration with limit=1000 skip=0 ...
0-262 / 262 (1.29s)
===
Records extracted: 262
Starting iteration with limit=1000 skip=0 ...
0-74 / 74 (0.75s)
===
Records extracted: 74
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>title</th>
      <th>volume</th>
      <th>issue</th>
      <th>pages</th>
      <th>type</th>
      <th>year</th>
      <th>author_affiliations</th>
      <th>journal.id</th>
      <th>journal.title</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>pub.1125663277</td>
      <td>Non-photochemical quenching, a non-invasive pr...</td>
      <td>1</td>
      <td>1</td>
      <td>32-43</td>
      <td>article</td>
      <td>2020</td>
      <td>[[{'first_name': 'Pranali', 'last_name': 'Deor...</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>pub.1126895840</td>
      <td>Distribution and pyrethroid resistance status ...</td>
      <td>13</td>
      <td>1</td>
      <td>213</td>
      <td>article</td>
      <td>2020</td>
      <td>[[{'first_name': 'Hitoshi', 'last_name': 'Kawa...</td>
      <td>jour.1039458</td>
      <td>Parasites &amp; Vectors</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
</div>
<div class="section" id="6.-What-if-I-want-to-get-the-researchers-associated-with-the-publications-the-cite-my-institution?">
<h2>6. What if I want to get the researchers associated with the publications the cite my institution?<a class="headerlink" href="#6.-What-if-I-want-to-get-the-researchers-associated-with-the-publications-the-cite-my-institution?" title="Permalink to this headline">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Step 1 - same as before</span>

<span class="n">pubs_chunks</span> <span class="o">=</span> <span class="n">dsl</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                  search publications</span>
<span class="s2">                    where research_orgs.id in [&quot;grid.1008.9&quot;,&quot;grid.1002.3&quot;]</span>
<span class="s2">                      and year in [2019:2020]</span>
<span class="s2">                    return publications[id]</span>
<span class="s2">                    limit 1000</span>
<span class="s2">                &quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">chunks</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span>

<span class="n">query_results</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Step 2 same as before, but now I returning researchers instead of publications</span>

<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">pubs_chunks</span><span class="p">:</span>

      <span class="n">mypubslist</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>

      <span class="n">query_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>

                  <span class="n">dsl</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                        search publications</span>
<span class="s2">                            where reference_ids in </span><span class="si">{</span><span class="n">mypubslist</span><span class="si">}</span><span class="s2"></span>
<span class="s2">                            return researchers limit 1000</span>
<span class="s2">                        &quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">as_dataframe</span><span class="p">()</span>
      <span class="c1"># Warning 1, If there are more than 1000 researchers involved in this query, you will miss some</span>
      <span class="p">)</span>

<span class="c1"># Step 3 join the queries back together, this time using a groupby statement to join the counts back together again</span>

<span class="n">my_researchers</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">query_results</span><span class="p">)</span><span class="o">.</span>\
                 <span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;id&#39;</span><span class="p">,</span><span class="s1">&#39;first_name&#39;</span><span class="p">,</span><span class="s1">&#39;last_name&#39;</span><span class="p">])</span><span class="o">.</span>\
                  <span class="n">agg</span><span class="p">({</span><span class="s1">&#39;count&#39;</span><span class="p">:</span><span class="s1">&#39;sum&#39;</span><span class="p">})</span><span class="o">.</span>\
                  <span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span>\
                  <span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Returned Publications: 1000 (total = 39938)
Time: 0.46s
Returned Researchers: 1000
Time: 1.48s
Returned Researchers: 1000
Time: 1.43s
Returned Researchers: 1000
Time: 1.29s
Returned Researchers: 293
Time: 1.02s
</pre></div></div>
</div>
</div>
<div class="section" id="7.-What-if-I-want-to-get-all-the-researchers-associated-with-the-publications-that-cite-my-institution?">
<h2>7. What if I want to get <em>all</em> the researchers associated with the publications that cite my institution?<a class="headerlink" href="#7.-What-if-I-want-to-get-all-the-researchers-associated-with-the-publications-that-cite-my-institution?" title="Permalink to this headline">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Step 1 - same as before</span>

<span class="n">pubs_chunks</span> <span class="o">=</span> <span class="n">dsl</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                  search publications</span>
<span class="s2">                    where research_orgs.id in [&quot;grid.1008.9&quot;,&quot;grid.1002.3&quot;]</span>
<span class="s2">                      and year in [2019:2020]</span>
<span class="s2">                    return publications[id]</span>
<span class="s2">                    limit 1000</span>
<span class="s2">                &quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">chunks</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span>

<span class="n">query_results</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Step 2 - almost the same as before -</span>
<span class="c1">#          except now we are asking for the as_dataframe_authors data frame</span>

<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">pubs_chunks</span><span class="p">:</span>

      <span class="n">mypubslist</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>

      <span class="n">query_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>

                  <span class="n">dsl</span><span class="o">.</span><span class="n">query_iterative</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                        search publications</span>
<span class="s2">                            where reference_ids in </span><span class="si">{</span><span class="n">mypubslist</span><span class="si">}</span><span class="s2"></span>
<span class="s2">                            return publications[id+title+authors]</span>
<span class="s2">                        &quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">as_dataframe_authors</span><span class="p">()</span> <span class="c1"># I have changed this line from as_dataframe to as_datframe_authors</span>
      <span class="p">)</span>

<span class="c1"># Step 3 - join the publications back together</span>

<span class="n">researcher_pubs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">query_results</span><span class="p">)</span><span class="o">.</span>\
                <span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;researcher_id&#39;</span><span class="p">,</span><span class="s1">&#39;pub_id&#39;</span><span class="p">])</span>


<span class="c1"># Step 4 - count up the publications using a groupby statement</span>

<span class="n">my_researchers</span> <span class="o">=</span> <span class="n">researcher_pubs</span><span class="p">[</span><span class="n">researcher_pubs</span><span class="p">[</span><span class="s1">&#39;researcher_id&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">]</span><span class="o">.</span>\
    <span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;researcher_id&#39;</span><span class="p">])</span><span class="o">.</span>\
    <span class="n">agg</span><span class="p">({</span><span class="s1">&#39;first_name&#39;</span><span class="p">:</span><span class="s1">&#39;max&#39;</span><span class="p">,</span><span class="s1">&#39;last_name&#39;</span><span class="p">:</span><span class="s1">&#39;max&#39;</span><span class="p">,</span><span class="s1">&#39;pub_id&#39;</span><span class="p">:</span><span class="s1">&#39;count&#39;</span><span class="p">})</span><span class="o">.</span>\
    <span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;pub_id&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span>\
    <span class="n">reset_index</span><span class="p">()</span>

<span class="n">my_researchers</span><span class="o">.</span>\
    <span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Returned Publications: 1000 (total = 39938)
Time: 0.46s
Starting iteration with limit=1000 skip=0 ...
0-167 / 167 (1.42s)
===
Records extracted: 167
Starting iteration with limit=1000 skip=0 ...
0-218 / 218 (1.11s)
===
Records extracted: 218
Starting iteration with limit=1000 skip=0 ...
0-262 / 262 (1.26s)
===
Records extracted: 262
Starting iteration with limit=1000 skip=0 ...
0-74 / 74 (0.87s)
===
Records extracted: 74
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>researcher_id</th>
      <th>first_name</th>
      <th>last_name</th>
      <th>pub_id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ur.013035660527.88</td>
      <td>Paul M.</td>
      <td>Thompson</td>
      <td>16</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ur.0735661630.67</td>
      <td>Neda</td>
      <td>Jahanshad</td>
      <td>11</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ur.010365645710.55</td>
      <td>Sophia I.</td>
      <td>Thomopoulos</td>
      <td>9</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ur.0627614723.01</td>
      <td>Dan J.</td>
      <td>Stein</td>
      <td>9</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ur.01015666354.63</td>
      <td>Dick J.</td>
      <td>Veltman</td>
      <td>8</td>
    </tr>
    <tr>
      <th>5</th>
      <td>ur.01153670556.36</td>
      <td>Carlos M.</td>
      <td>Grilo</td>
      <td>7</td>
    </tr>
    <tr>
      <th>6</th>
      <td>ur.01117110035.48</td>
      <td>Nynke A.</td>
      <td>Groenewold</td>
      <td>6</td>
    </tr>
    <tr>
      <th>7</th>
      <td>ur.0652517237.06</td>
      <td>Tomáš</td>
      <td>Paus</td>
      <td>6</td>
    </tr>
    <tr>
      <th>8</th>
      <td>ur.0750404115.06</td>
      <td>Suzanne</td>
      <td>Fraser</td>
      <td>5</td>
    </tr>
    <tr>
      <th>9</th>
      <td>ur.01056633333.53</td>
      <td>Lars T.</td>
      <td>Westlye</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="8.-..and-if-we-want-details-about-our-researchers,-we-can-put-our-list-of-researchers-into-the-researcher-API">
<h2>8. ..and if we want details about our researchers, we can put our list of researchers into the researcher API<a class="headerlink" href="#8.-..and-if-we-want-details-about-our-researchers,-we-can-put-our-list-of-researchers-into-the-researcher-API" title="Permalink to this headline">¶</a></h2>
<p>See <a class="reference external" href="https://docs.dimensions.ai/dsl/datasource-researchers.html">the researcher source docs</a> for more details.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">## First, we need to chunk up our researcher list</span>

<span class="n">query_results</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">g</span><span class="p">,</span> <span class="n">rschr</span> <span class="ow">in</span> <span class="n">my_researchers</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">my_researchers</span><span class="p">))</span> <span class="o">//</span> <span class="mi">250</span><span class="p">):</span>
          <span class="c1"># This does *almost* the same thing as the chunks command used above</span>

     <span class="n">myreslist</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">rschr</span><span class="o">.</span><span class="n">researcher_id</span><span class="p">))</span>

     <span class="n">query_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>

                  <span class="n">dsl</span><span class="o">.</span><span class="n">query_iterative</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                        search researchers</span>
<span class="s2">                            where id in </span><span class="si">{</span><span class="n">myreslist</span><span class="si">}</span><span class="s2"></span>
<span class="s2">                            return researchers</span>
<span class="s2">                        &quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">as_dataframe</span><span class="p">()</span> <span class="c1">#</span>
      <span class="p">)</span>


<span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">query_results</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (2.62s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (1.47s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (1.63s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (1.38s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (1.29s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (1.24s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (1.12s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (1.22s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (1.77s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (1.12s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (1.12s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (1.25s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (1.16s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (1.15s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (1.11s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (1.16s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (1.14s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (1.17s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (1.27s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-40 / 40 (0.63s)
===
Records extracted: 40
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>first_name</th>
      <th>last_name</th>
      <th>research_orgs</th>
      <th>orcid_id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ur.01262341717.29</td>
      <td>Eric T</td>
      <td>Hahnen</td>
      <td>[{'id': 'grid.411668.c', 'types': ['Healthcare...</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ur.01264721100.06</td>
      <td>Daniel</td>
      <td>Barrowdale</td>
      <td>[{'id': 'grid.5335.0', 'types': ['Education'],...</td>
      <td>[0000-0003-1661-3939]</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ur.0743471221.03</td>
      <td>Tjoung-Won</td>
      <td>Park-Simon</td>
      <td>[{'id': 'grid.4562.5', 'types': ['Education'],...</td>
      <td>[0000-0002-2863-3040]</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ur.01105220501.02</td>
      <td>Maria Adelaide</td>
      <td>Caligo</td>
      <td>[{'id': 'grid.5395.a', 'types': ['Education'],...</td>
      <td>[0000-0003-0589-1829]</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ur.01116254763.53</td>
      <td>Jonathan P</td>
      <td>Tyrer</td>
      <td>[{'id': 'grid.470869.4', 'types': ['Facility']...</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="9.-Patents-example-(patents--&gt;-publications)">
<h2>9. Patents example (patents -&gt; publications)<a class="headerlink" href="#9.-Patents-example-(patents-->-publications)" title="Permalink to this headline">¶</a></h2>
<p>Using the same method, we can retrieve all patents citing publications from my institution.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[40]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">dsldocs</span> patents
<span class="n">dsl_last_results</span><span class="p">[</span><span class="n">dsl_last_results</span><span class="p">[</span><span class="s1">&#39;field&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;publication_ids&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[40]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sources</th>
      <th>field</th>
      <th>type</th>
      <th>description</th>
      <th>is_filter</th>
      <th>is_entity</th>
      <th>is_facet</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>39</th>
      <td>patents</td>
      <td>publication_ids</td>
      <td>string</td>
      <td>Dimensions IDs of the publications related to ...</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[41]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Step 1 - same as before - except now we want the query in chunks</span>

<span class="n">pubs_chunks</span> <span class="o">=</span> <span class="n">dsl</span><span class="o">.</span><span class="n">query_iterative</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                  search publications</span>
<span class="s2">                    where research_orgs.id in [&quot;grid.1008.9&quot;]</span>
<span class="s2">                      and year = 2015</span>
<span class="s2">                    return publications[id]</span>
<span class="s2">                &quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">chunks</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span>

<span class="c1"># Step 2 - almost the same as before - except now we use a for loop to loop through our results</span>
<span class="c1">#. We changed 2 things below.  publications was replaced with patents, and refernce_ids was replaced by publication_ids</span>

<span class="n">query_results</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">pubs_chunks</span><span class="p">:</span>

      <span class="n">mypubslist</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>

      <span class="n">query_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>

                  <span class="n">dsl</span><span class="o">.</span><span class="n">query_iterative</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                        search patents</span>
<span class="s2">                            where publication_ids in </span><span class="si">{</span><span class="n">mypubslist</span><span class="si">}</span><span class="s2"></span>
<span class="s2">                            return patents</span>
<span class="s2">                        &quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">as_dataframe</span><span class="p">()</span>
      <span class="p">)</span>

<span class="c1"># Step 3 - join our results back together again, and get rid of duplicates</span>

<span class="n">cited_patents</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">query_results</span><span class="p">)</span><span class="o">.</span>\
   <span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s1">&#39;id&#39;</span><span class="p">)</span>

<span class="n">cited_patents</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Starting iteration with limit=1000 skip=0 ...
0-1000 / 8388 (2.17s)
1000-2000 / 8388 (1.40s)
2000-3000 / 8388 (1.14s)
3000-4000 / 8388 (2.58s)
4000-5000 / 8388 (1.09s)
5000-6000 / 8388 (1.15s)
6000-7000 / 8388 (0.95s)
7000-8000 / 8388 (1.12s)
8000-8388 / 8388 (0.89s)
===
Records extracted: 8388
Starting iteration with limit=1000 skip=0 ...
0-4 / 4 (1.16s)
===
Records extracted: 4
Starting iteration with limit=1000 skip=0 ...
===
Records extracted: 0
Starting iteration with limit=1000 skip=0 ...
===
Records extracted: 0
Starting iteration with limit=1000 skip=0 ...
0-3 / 3 (0.69s)
===
Records extracted: 3
Starting iteration with limit=1000 skip=0 ...
0-4 / 4 (0.77s)
===
Records extracted: 4
Starting iteration with limit=1000 skip=0 ...
0-2 / 2 (0.78s)
===
Records extracted: 2
Starting iteration with limit=1000 skip=0 ...
0-5 / 5 (0.71s)
===
Records extracted: 5
Starting iteration with limit=1000 skip=0 ...
0-3 / 3 (0.78s)
===
Records extracted: 3
Starting iteration with limit=1000 skip=0 ...
0-9 / 9 (0.73s)
===
Records extracted: 9
Starting iteration with limit=1000 skip=0 ...
0-2 / 2 (0.68s)
===
Records extracted: 2
Starting iteration with limit=1000 skip=0 ...
0-2 / 2 (0.93s)
===
Records extracted: 2
Starting iteration with limit=1000 skip=0 ...
0-3 / 3 (0.74s)
===
Records extracted: 3
Starting iteration with limit=1000 skip=0 ...
0-1 / 1 (0.72s)
===
Records extracted: 1
Starting iteration with limit=1000 skip=0 ...
0-3 / 3 (0.69s)
===
Records extracted: 3
Starting iteration with limit=1000 skip=0 ...
0-2 / 2 (0.69s)
===
Records extracted: 2
Starting iteration with limit=1000 skip=0 ...
0-3 / 3 (0.77s)
===
Records extracted: 3
Starting iteration with limit=1000 skip=0 ...
0-4 / 4 (0.69s)
===
Records extracted: 4
Starting iteration with limit=1000 skip=0 ...
0-4 / 4 (0.67s)
===
Records extracted: 4
Starting iteration with limit=1000 skip=0 ...
0-8 / 8 (0.70s)
===
Records extracted: 8
Starting iteration with limit=1000 skip=0 ...
0-3 / 3 (0.71s)
===
Records extracted: 3
Starting iteration with limit=1000 skip=0 ...
0-2 / 2 (1.15s)
===
Records extracted: 2
Starting iteration with limit=1000 skip=0 ...
0-5 / 5 (0.84s)
===
Records extracted: 5
Starting iteration with limit=1000 skip=0 ...
0-6 / 6 (0.80s)
===
Records extracted: 6
Starting iteration with limit=1000 skip=0 ...
0-3 / 3 (0.74s)
===
Records extracted: 3
Starting iteration with limit=1000 skip=0 ...
0-11 / 11 (0.91s)
===
Records extracted: 11
Starting iteration with limit=1000 skip=0 ...
0-2 / 2 (0.74s)
===
Records extracted: 2
Starting iteration with limit=1000 skip=0 ...
0-8 / 8 (0.69s)
===
Records extracted: 8
Starting iteration with limit=1000 skip=0 ...
===
Records extracted: 0
Starting iteration with limit=1000 skip=0 ...
0-5 / 5 (0.86s)
===
Records extracted: 5
Starting iteration with limit=1000 skip=0 ...
0-4 / 4 (0.81s)
===
Records extracted: 4
Starting iteration with limit=1000 skip=0 ...
0-2 / 2 (0.70s)
===
Records extracted: 2
Starting iteration with limit=1000 skip=0 ...
0-1 / 1 (0.68s)
===
Records extracted: 1
Starting iteration with limit=1000 skip=0 ...
0-1 / 1 (0.69s)
===
Records extracted: 1
Starting iteration with limit=1000 skip=0 ...
===
Records extracted: 0
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[41]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>title</th>
      <th>publication_date</th>
      <th>assignee_names</th>
      <th>year</th>
      <th>assignees</th>
      <th>inventor_names</th>
      <th>times_cited</th>
      <th>filing_status</th>
      <th>id</th>
      <th>granted_year</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>COMPOSITIONS WITH SPECIFIC OLIGOSACCHARIDES TO...</td>
      <td>2017-08-03</td>
      <td>[NESTEC SA]</td>
      <td>2017</td>
      <td>[{'id': 'grid.419905.0', 'city_name': 'Vevey',...</td>
      <td>[BLANCHARD, CARINE, NEMBRINI, Chiara]</td>
      <td>0.0</td>
      <td>Application</td>
      <td>WO-2017129644-A1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>COMPOSITION FOR USE IN THE PREVENTION AND/OR T...</td>
      <td>2017-08-03</td>
      <td>[NESTEC SA]</td>
      <td>2017</td>
      <td>[{'id': 'grid.419905.0', 'city_name': 'Vevey',...</td>
      <td>[BLANCHARD, CARINE, NEMBRINI, Chiara]</td>
      <td>0.0</td>
      <td>Application</td>
      <td>WO-2017129642-A1</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[42]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">dsldocs</span> patents
<span class="n">dsl_last_results</span><span class="p">[</span><span class="n">dsl_last_results</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;organizations&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[42]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sources</th>
      <th>field</th>
      <th>type</th>
      <th>description</th>
      <th>is_filter</th>
      <th>is_entity</th>
      <th>is_facet</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>6</th>
      <td>patents</td>
      <td>assignees</td>
      <td>organizations</td>
      <td>Disambiguated GRID organisations who own or ha...</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
    </tr>
    <tr>
      <th>19</th>
      <td>patents</td>
      <td>current_assignees</td>
      <td>organizations</td>
      <td>Disambiguated GRID organisations currenlty own...</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
    </tr>
    <tr>
      <th>26</th>
      <td>patents</td>
      <td>funders</td>
      <td>organizations</td>
      <td>GRID organisations funding the patent.</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
    </tr>
    <tr>
      <th>35</th>
      <td>patents</td>
      <td>original_assignees</td>
      <td>organizations</td>
      <td>Disambiguated GRID organisations that first ow...</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[43]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">json</span>
<span class="n">cited_patents_assignees</span> <span class="o">=</span> <span class="n">cited_patents</span><span class="o">.</span><span class="n">explode</span><span class="p">(</span><span class="s1">&#39;assignees&#39;</span><span class="p">)</span>

<span class="n">cited_patents_assignees</span><span class="p">[</span><span class="s1">&#39;assignee_grid_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cited_patents_assignees</span><span class="p">[</span><span class="s1">&#39;assignees&#39;</span><span class="p">]</span><span class="o">.</span>\
    <span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">g</span><span class="p">:</span> <span class="n">g</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">g</span><span class="p">)</span> <span class="o">==</span> <span class="nb">dict</span> <span class="k">else</span> <span class="mi">0</span> <span class="p">)</span>

<span class="n">cited_patents_assignees</span><span class="p">[</span><span class="s1">&#39;assignee_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cited_patents_assignees</span><span class="p">[</span><span class="s1">&#39;assignees&#39;</span><span class="p">]</span><span class="o">.</span>\
    <span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">g</span><span class="p">:</span> <span class="n">g</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">g</span><span class="p">)</span> <span class="o">==</span> <span class="nb">dict</span> <span class="k">else</span> <span class="mi">0</span> <span class="p">)</span>

<span class="n">cited_patents_assignees</span><span class="o">.</span>\
    <span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;assignee_grid_id&#39;</span><span class="p">,</span><span class="s1">&#39;assignee_name&#39;</span><span class="p">])</span><span class="o">.</span>\
    <span class="n">agg</span><span class="p">({</span><span class="s1">&#39;id&#39;</span><span class="p">:</span><span class="s1">&#39;count&#39;</span><span class="p">})</span><span class="o">.</span>\
    <span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span>\
    <span class="n">head</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[43]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>id</th>
    </tr>
    <tr>
      <th>assignee_grid_id</th>
      <th>assignee_name</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <th>0</th>
      <td>29</td>
    </tr>
    <tr>
      <th>grid.428999.7</th>
      <th>Pasteur Institute</th>
      <td>5</td>
    </tr>
    <tr>
      <th>grid.1058.c</th>
      <th>Murdoch Children's Research Institute</th>
      <td>4</td>
    </tr>
    <tr>
      <th>grid.453773.1</th>
      <th>Wisconsin Alumni Research Foundation</th>
      <td>3</td>
    </tr>
    <tr>
      <th>grid.419905.0</th>
      <th>Nestlé (Switzerland)</th>
      <td>3</td>
    </tr>
    <tr>
      <th>grid.420918.6</th>
      <th>Imperial Innovations (United Kingdom)</th>
      <td>3</td>
    </tr>
    <tr>
      <th>grid.1055.1</th>
      <th>Peter MacCallum Cancer Centre</th>
      <td>3</td>
    </tr>
    <tr>
      <th>grid.25879.31</th>
      <th>University of Pennsylvania</th>
      <td>2</td>
    </tr>
    <tr>
      <th>grid.1042.7</th>
      <th>Walter and Eliza Hall Institute of Medical Research</th>
      <td>2</td>
    </tr>
    <tr>
      <th>grid.4444.0</th>
      <th>French National Centre for Scientific Research</th>
      <td>2</td>
    </tr>
    <tr>
      <th>grid.452266.1</th>
      <th>Campus Science Support Facilities</th>
      <td>2</td>
    </tr>
    <tr>
      <th>grid.1003.2</th>
      <th>University of Queensland</th>
      <td>2</td>
    </tr>
    <tr>
      <th>grid.420377.5</th>
      <th>NEC (Japan)</th>
      <td>2</td>
    </tr>
    <tr>
      <th>grid.420214.1</th>
      <th>Sanofi (Germany)</th>
      <td>2</td>
    </tr>
    <tr>
      <th>grid.419859.8</th>
      <th>NEC Corporation of America</th>
      <td>2</td>
    </tr>
    <tr>
      <th>grid.419318.6</th>
      <th>Intel (United States)</th>
      <td>2</td>
    </tr>
    <tr>
      <th>grid.417521.4</th>
      <th>Institute of Molecular Biotechnology</th>
      <td>2</td>
    </tr>
    <tr>
      <th>grid.29857.31</th>
      <th>Pennsylvania State University</th>
      <td>2</td>
    </tr>
    <tr>
      <th>grid.431532.2</th>
      <th>Mesoblast (United States)</th>
      <td>2</td>
    </tr>
    <tr>
      <th>grid.7429.8</th>
      <th>French Institute of Health and Medical Research</th>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="10.-Clinical-Trials-(clinical-trials--&gt;-publications)">
<h2>10. Clinical Trials (clinical trials -&gt; publications)<a class="headerlink" href="#10.-Clinical-Trials-(clinical-trials-->-publications)" title="Permalink to this headline">¶</a></h2>
<p>Using the same method, we can retrieve all clinical trials citing publications from my institution.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[44]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">dsldocs</span> clinical_trials
<span class="n">dsl_last_results</span><span class="p">[</span><span class="n">dsl_last_results</span><span class="p">[</span><span class="s1">&#39;field&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;research_orgs&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[44]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sources</th>
      <th>field</th>
      <th>type</th>
      <th>description</th>
      <th>is_filter</th>
      <th>is_entity</th>
      <th>is_facet</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>29</th>
      <td>clinical_trials</td>
      <td>research_orgs</td>
      <td>organizations</td>
      <td>GRID organizations involved, e.g. as sponsors ...</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[45]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Step 1 - same as before - except now we want the query in chunks</span>

<span class="n">clinical_trials_chunks</span> <span class="o">=</span> <span class="n">dsl</span><span class="o">.</span><span class="n">query_iterative</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                  search publications</span>
<span class="s2">                    where research_orgs.id in [&quot;grid.1008.9&quot;]</span>
<span class="s2">                      and year = 2015</span>
<span class="s2">                    return publications[id]</span>
<span class="s2">                &quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">chunks</span><span class="p">(</span><span class="mi">400</span><span class="p">)</span>

<span class="c1"># Step 2 - almost the same as before - except now we use a for loop to loop through our results</span>
<span class="c1">#. We changed 2 things below.  publications was replaced with clinical_trials, and reference_ids was replaced by publication_ids</span>

<span class="n">query_results</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">clinical_trials_chunks</span><span class="p">:</span>

      <span class="n">mypubslist</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>

      <span class="n">query_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>

                  <span class="n">dsl</span><span class="o">.</span><span class="n">query_iterative</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                        search clinical_trials</span>
<span class="s2">                            where publication_ids in </span><span class="si">{</span><span class="n">mypubslist</span><span class="si">}</span><span class="s2"></span>
<span class="s2">                            return clinical_trials[all]</span>
<span class="s2">                        &quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">as_dataframe</span><span class="p">()</span>
      <span class="p">)</span>

<span class="c1"># Step 3 - join our results back together again, and get rid of duplicates</span>

<span class="n">cited_clinical_trials</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">query_results</span><span class="p">)</span><span class="o">.</span>\
   <span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s1">&#39;id&#39;</span><span class="p">)</span>

<span class="n">cited_clinical_trials</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Starting iteration with limit=1000 skip=0 ...
0-1000 / 8388 (0.46s)
1000-2000 / 8388 (0.48s)
2000-3000 / 8388 (0.48s)
3000-4000 / 8388 (0.48s)
4000-5000 / 8388 (0.47s)
5000-6000 / 8388 (0.48s)
6000-7000 / 8388 (0.52s)
7000-8000 / 8388 (0.50s)
8000-8388 / 8388 (0.47s)
===
Records extracted: 8388
Starting iteration with limit=1000 skip=0 ...
0-12 / 12 (1.20s)
===
Records extracted: 12
Starting iteration with limit=1000 skip=0 ...
0-18 / 18 (1.36s)
===
Records extracted: 18
Starting iteration with limit=1000 skip=0 ...
0-25 / 25 (1.40s)
===
Records extracted: 25
Starting iteration with limit=1000 skip=0 ...
0-9 / 9 (1.13s)
===
Records extracted: 9
Starting iteration with limit=1000 skip=0 ...
0-8 / 8 (1.06s)
===
Records extracted: 8
Starting iteration with limit=1000 skip=0 ...
0-15 / 15 (1.11s)
===
Records extracted: 15
Starting iteration with limit=1000 skip=0 ...
0-5 / 5 (1.71s)
===
Records extracted: 5
Starting iteration with limit=1000 skip=0 ...
0-8 / 8 (1.01s)
===
Records extracted: 8
Starting iteration with limit=1000 skip=0 ...
0-13 / 13 (1.17s)
===
Records extracted: 13
Starting iteration with limit=1000 skip=0 ...
0-12 / 12 (1.06s)
===
Records extracted: 12
Starting iteration with limit=1000 skip=0 ...
0-14 / 14 (1.02s)
===
Records extracted: 14
Starting iteration with limit=1000 skip=0 ...
0-15 / 15 (1.08s)
===
Records extracted: 15
Starting iteration with limit=1000 skip=0 ...
0-6 / 6 (0.96s)
===
Records extracted: 6
Starting iteration with limit=1000 skip=0 ...
0-6 / 6 (1.00s)
===
Records extracted: 6
Starting iteration with limit=1000 skip=0 ...
0-16 / 16 (1.33s)
===
Records extracted: 16
Starting iteration with limit=1000 skip=0 ...
0-12 / 12 (1.13s)
===
Records extracted: 12
Starting iteration with limit=1000 skip=0 ...
0-10 / 10 (1.23s)
===
Records extracted: 10
Starting iteration with limit=1000 skip=0 ...
0-13 / 13 (1.10s)
===
Records extracted: 13
Starting iteration with limit=1000 skip=0 ...
0-2 / 2 (0.84s)
===
Records extracted: 2
Starting iteration with limit=1000 skip=0 ...
===
Records extracted: 0
Starting iteration with limit=1000 skip=0 ...
0-3 / 3 (0.90s)
===
Records extracted: 3
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[45]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>phase</th>
      <th>investigators</th>
      <th>abstract</th>
      <th>active_years</th>
      <th>FOR</th>
      <th>RCDC</th>
      <th>researchers</th>
      <th>organizations</th>
      <th>HRCS_HC</th>
      <th>dimensions_url</th>
      <th>...</th>
      <th>publication_ids</th>
      <th>category_for</th>
      <th>HRCS_RAC</th>
      <th>funder_groups</th>
      <th>category_hrcs_rac</th>
      <th>mesh_terms</th>
      <th>associated_grant_ids</th>
      <th>category_icrp_ct</th>
      <th>category_icrp_cso</th>
      <th>acronym</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>N/A</td>
      <td>[[Beverley-Ann Biggs, Prof, Contact person for...</td>
      <td>In this study, we will compare the effects of ...</td>
      <td>[2010]</td>
      <td>[{'id': '3177', 'name': '1117 Public Health an...</td>
      <td>[{'id': '388', 'name': 'Nutrition'}, {'id': '4...</td>
      <td>[{'id': 'ur.015271425054.80', 'first_name': 'B...</td>
      <td>[{'id': 'grid.431143.0', 'name': 'National Hea...</td>
      <td>[{'id': '908', 'name': 'Reproductive Health an...</td>
      <td>https://app.dimensions.ai/details/clinical_tri...</td>
      <td>...</td>
      <td>[pub.1029788523, pub.1032854231, pub.100861447...</td>
      <td>[{'id': '3177', 'name': '1117 Public Health an...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Phase 1/2</td>
      <td>[[Steven Deeks, MD, Principal Investigator, Un...</td>
      <td>The purpose of this study is to determine the ...</td>
      <td>[2013, 2014]</td>
      <td>[{'id': '3114', 'name': '1108 Medical Microbio...</td>
      <td>[{'id': '533', 'name': 'Infectious Diseases'},...</td>
      <td>[{'id': 'ur.012534455317.24', 'first_name': 'S...</td>
      <td>[{'id': 'grid.266102.1', 'name': 'University o...</td>
      <td>[{'id': '898', 'name': 'Infection'}]</td>
      <td>https://app.dimensions.ai/details/clinical_tri...</td>
      <td>...</td>
      <td>[pub.1032634520]</td>
      <td>[{'id': '3114', 'name': '1108 Medical Microbio...</td>
      <td>[{'id': '10601', 'name': '6.1 Pharmaceuticals'...</td>
      <td>[{'id': '5', 'name': 'NIH'}, {'id': '25', 'nam...</td>
      <td>[{'id': '10500', 'name': '5 Development of Tre...</td>
      <td>[Acquired Immunodeficiency Syndrome, HIV Infec...</td>
      <td>[grant.2420809]</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>2 rows × 40 columns</p>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[46]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">dsldocs</span> clinical_trials
<span class="n">dsl_last_results</span><span class="p">[</span><span class="n">dsl_last_results</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;organizations&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[46]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sources</th>
      <th>field</th>
      <th>type</th>
      <th>description</th>
      <th>is_filter</th>
      <th>is_entity</th>
      <th>is_facet</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>18</th>
      <td>clinical_trials</td>
      <td>funders</td>
      <td>organizations</td>
      <td>GRID funding organisations that are involved w...</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
    </tr>
    <tr>
      <th>29</th>
      <td>clinical_trials</td>
      <td>research_orgs</td>
      <td>organizations</td>
      <td>GRID organizations involved, e.g. as sponsors ...</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[47]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">cited_clinical_trials_orgs</span> <span class="o">=</span> <span class="n">cited_clinical_trials</span><span class="o">.</span><span class="n">explode</span><span class="p">(</span><span class="s1">&#39;research_orgs&#39;</span><span class="p">)</span>

<span class="n">cited_clinical_trials_orgs</span><span class="p">[</span><span class="s1">&#39;research_orgs_grid_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cited_clinical_trials_orgs</span><span class="p">[</span><span class="s1">&#39;research_orgs&#39;</span><span class="p">]</span><span class="o">.</span>\
    <span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">g</span><span class="p">:</span> <span class="n">g</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">g</span><span class="p">)</span> <span class="o">==</span> <span class="nb">dict</span> <span class="k">else</span> <span class="mi">0</span> <span class="p">)</span>

<span class="n">cited_clinical_trials_orgs</span><span class="p">[</span><span class="s1">&#39;research_orgs_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cited_clinical_trials_orgs</span><span class="p">[</span><span class="s1">&#39;research_orgs&#39;</span><span class="p">]</span><span class="o">.</span>\
    <span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">g</span><span class="p">:</span> <span class="n">g</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">g</span><span class="p">)</span> <span class="o">==</span> <span class="nb">dict</span> <span class="k">else</span> <span class="mi">0</span> <span class="p">)</span>

<span class="n">cited_clinical_trials_orgs</span><span class="o">.</span>\
    <span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;research_orgs_grid_id&#39;</span><span class="p">,</span><span class="s1">&#39;research_orgs_name&#39;</span><span class="p">])</span><span class="o">.</span>\
    <span class="n">agg</span><span class="p">({</span><span class="s1">&#39;id&#39;</span><span class="p">:</span><span class="s1">&#39;count&#39;</span><span class="p">})</span><span class="o">.</span>\
    <span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span>\
    <span class="n">head</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[47]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>id</th>
    </tr>
    <tr>
      <th>research_orgs_grid_id</th>
      <th>research_orgs_name</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>grid.431143.0</th>
      <th>National Health and Medical Research Council</th>
      <td>11</td>
    </tr>
    <tr>
      <th>grid.1008.9</th>
      <th>University of Melbourne</th>
      <td>11</td>
    </tr>
    <tr>
      <th>grid.416153.4</th>
      <th>Royal Melbourne Hospital</th>
      <td>6</td>
    </tr>
    <tr>
      <th>grid.21107.35</th>
      <th>Johns Hopkins University</th>
      <td>6</td>
    </tr>
    <tr>
      <th>0</th>
      <th>0</th>
      <td>5</td>
    </tr>
    <tr>
      <th>grid.266102.1</th>
      <th>University of California, San Francisco</th>
      <td>5</td>
    </tr>
    <tr>
      <th>grid.1058.c</th>
      <th>Murdoch Children's Research Institute</th>
      <td>5</td>
    </tr>
    <tr>
      <th>grid.1055.1</th>
      <th>Peter MacCallum Cancer Centre</th>
      <td>5</td>
    </tr>
    <tr>
      <th>grid.1002.3</th>
      <th>Monash University</th>
      <td>5</td>
    </tr>
    <tr>
      <th>grid.413249.9</th>
      <th>Royal Prince Alfred Hospital</th>
      <td>4</td>
    </tr>
    <tr>
      <th>grid.84393.35</th>
      <th>Hospital Universitari i Politècnic La Fe</th>
      <td>4</td>
    </tr>
    <tr>
      <th>grid.416259.d</th>
      <th>Royal Women's Hospital</th>
      <td>4</td>
    </tr>
    <tr>
      <th>grid.419681.3</th>
      <th>National Institute of Allergy and Infectious Diseases</th>
      <td>4</td>
    </tr>
    <tr>
      <th>grid.416100.2</th>
      <th>Royal Brisbane and Women's Hospital</th>
      <td>4</td>
    </tr>
    <tr>
      <th>grid.277151.7</th>
      <th>Centre Hospitalier Universitaire de Nantes</th>
      <td>4</td>
    </tr>
    <tr>
      <th>grid.1003.2</th>
      <th>University of Queensland</th>
      <td>4</td>
    </tr>
    <tr>
      <th>grid.1623.6</th>
      <th>The Alfred Hospital</th>
      <td>4</td>
    </tr>
    <tr>
      <th>grid.5650.6</th>
      <th>Academic Medical Center</th>
      <td>4</td>
    </tr>
    <tr>
      <th>grid.411109.c</th>
      <th>Virgen del Rocío University Hospital</th>
      <td>4</td>
    </tr>
    <tr>
      <th>grid.412687.e</th>
      <th>Ottawa Hospital</th>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="11.-Grants-(publications--&gt;-grants)">
<h2>11. Grants (publications -&gt; grants)<a class="headerlink" href="#11.-Grants-(publications-->-grants)" title="Permalink to this headline">¶</a></h2>
<p>Using the same method, we can retrieve all grants funding publications from my institution.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[48]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">dsldocs</span> publications
<span class="n">dsl_last_results</span><span class="p">[</span><span class="n">dsl_last_results</span><span class="p">[</span><span class="s1">&#39;field&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;ids&#39;</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[48]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sources</th>
      <th>field</th>
      <th>type</th>
      <th>description</th>
      <th>is_filter</th>
      <th>is_entity</th>
      <th>is_facet</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>39</th>
      <td>publications</td>
      <td>reference_ids</td>
      <td>string</td>
      <td>Dimensions publication ID for publications in ...</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>51</th>
      <td>publications</td>
      <td>supporting_grant_ids</td>
      <td>string</td>
      <td>Grants supporting a publication, returned as a...</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[49]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Step 1 - same as before - except now we want the query in chunks</span>

<span class="n">publications</span> <span class="o">=</span> <span class="n">dsl</span><span class="o">.</span><span class="n">query_iterative</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                  search publications</span>
<span class="s2">                    where research_orgs.id in [&quot;grid.1008.9&quot;]</span>
<span class="s2">                      and year = 2020</span>
<span class="s2">                    return publications[id+supporting_grant_ids]</span>
<span class="s2">                &quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">as_dataframe</span><span class="p">()</span>

<span class="c1"># Step 2 - we can get the grants IDs directly from publications this time.</span>
<span class="c1"># So as a second step, we want to pull grants metadata using these identifiers.</span>

<span class="n">pubs_grants</span> <span class="o">=</span> <span class="n">publications</span><span class="o">.</span><span class="n">explode</span><span class="p">(</span><span class="s1">&#39;supporting_grant_ids&#39;</span><span class="p">)</span>

<span class="n">grants_from_pubs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pubs_grants</span><span class="o">.</span><span class="n">supporting_grant_ids</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span><span class="o">.</span>\
                   <span class="n">dropna</span><span class="p">()</span><span class="o">.</span>\
                   <span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span><span class="s1">&#39;id&#39;</span><span class="p">})</span>

<span class="n">query_results</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">g</span><span class="p">,</span> <span class="n">gnts</span> <span class="ow">in</span> <span class="n">grants_from_pubs</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">grants_from_pubs</span><span class="p">))</span> <span class="o">//</span> <span class="mi">250</span><span class="p">):</span>
          <span class="c1"># This does *almost* the same thing as the chunks command used above</span>

      <span class="n">myglist</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">gnts</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>

      <span class="n">query_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>

                  <span class="n">dsl</span><span class="o">.</span><span class="n">query_iterative</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">                        search grants</span>
<span class="s2">                            where id in </span><span class="si">{</span><span class="n">myglist</span><span class="si">}</span><span class="s2"></span>
<span class="s2">                          return grants[all]</span>
<span class="s2">                        &quot;&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">as_dataframe</span><span class="p">()</span>
      <span class="p">)</span>

<span class="c1"># Step 3 - join our results back together again, and get rid of duplicates</span>

<span class="n">grant_details</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">query_results</span><span class="p">)</span><span class="o">.</span>\
   <span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s1">&#39;id&#39;</span><span class="p">)</span>

<span class="n">grant_details</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Starting iteration with limit=1000 skip=0 ...
0-1000 / 10740 (2.57s)
1000-2000 / 10740 (1.55s)
2000-3000 / 10740 (1.03s)
3000-4000 / 10740 (0.97s)
4000-5000 / 10740 (1.16s)
5000-6000 / 10740 (2.27s)
6000-7000 / 10740 (0.96s)
7000-8000 / 10740 (0.97s)
8000-9000 / 10740 (0.96s)
9000-10000 / 10740 (1.00s)
10000-10740 / 10740 (0.95s)
===
Records extracted: 10740
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (2.85s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-249 / 249 (2.21s)
===
Records extracted: 249
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (2.34s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-249 / 249 (2.33s)
===
Records extracted: 249
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (3.55s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-249 / 249 (5.50s)
===
Records extracted: 249
Starting iteration with limit=1000 skip=0 ...
0-248 / 248 (3.39s)
===
Records extracted: 248
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (3.06s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (2.95s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-249 / 249 (3.08s)
===
Records extracted: 249
Starting iteration with limit=1000 skip=0 ...
0-249 / 249 (3.34s)
===
Records extracted: 249
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (2.94s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-249 / 249 (2.87s)
===
Records extracted: 249
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (2.85s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-249 / 249 (2.86s)
===
Records extracted: 249
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (3.12s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (3.11s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-250 / 250 (2.95s)
===
Records extracted: 250
Starting iteration with limit=1000 skip=0 ...
0-249 / 249 (2.99s)
===
Records extracted: 249
Starting iteration with limit=1000 skip=0 ...
0-249 / 249 (2.90s)
===
Records extracted: 249
Starting iteration with limit=1000 skip=0 ...
0-29 / 29 (0.77s)
===
Records extracted: 29
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[49]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>project_num</th>
      <th>funding_org_name</th>
      <th>abstract</th>
      <th>HRCS_RAC</th>
      <th>FOR</th>
      <th>funding_jpy</th>
      <th>researchers</th>
      <th>funding_nzd</th>
      <th>original_title</th>
      <th>funding_cad</th>
      <th>...</th>
      <th>terms</th>
      <th>foa_number</th>
      <th>category_for</th>
      <th>category_bra</th>
      <th>category_hra</th>
      <th>category_icrp_ct</th>
      <th>category_icrp_cso</th>
      <th>funding_org_acronym</th>
      <th>funding_org_city</th>
      <th>category_sdg</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>R01HG010480</td>
      <td>National Human Genome Research Institute</td>
      <td>Abstract Modern genome-wide association studie...</td>
      <td>[{'id': '10201', 'name': '2.1 Biological and e...</td>
      <td>[{'id': '2358', 'name': '0104 Statistics'}, {'...</td>
      <td>120732088.0</td>
      <td>[{'id': 'ur.013651144457.90', 'first_name': 'N...</td>
      <td>1675920.0</td>
      <td>Robust Methods for Polygenic Analysis to Infor...</td>
      <td>1459322.0</td>
      <td>...</td>
      <td>[robust method, polygenic analysis, analysis, ...</td>
      <td>PA-18-484</td>
      <td>[{'id': '2201', 'name': '01 Mathematical Scien...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>R21NS107739</td>
      <td>National Institute of Neurological Disorders a...</td>
      <td>ABSTRACT Epilepsy is a devastating neurologica...</td>
      <td>NaN</td>
      <td>[{'id': '3120', 'name': '1109 Neurosciences'}]</td>
      <td>48433820.0</td>
      <td>[{'id': 'ur.01011324163.07', 'first_name': 'Ca...</td>
      <td>674575.0</td>
      <td>Prediction of seizure lateralization and posto...</td>
      <td>589505.0</td>
      <td>...</td>
      <td>[seizure lateralization, lateralization, posto...</td>
      <td>PA-18-358</td>
      <td>[{'id': '2211', 'name': '11 Medical and Health...</td>
      <td>[{'id': '4001', 'name': 'Clinical Medicine and...</td>
      <td>[{'id': '3901', 'name': 'Clinical'}]</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1158127</td>
      <td>National Health and Medical Research Council</td>
      <td>Genome-wide association studies for psychiatri...</td>
      <td>[{'id': '10201', 'name': '2.1 Biological and e...</td>
      <td>[{'id': '2620', 'name': '0604 Genetics'}, {'id...</td>
      <td>72444320.0</td>
      <td>[{'id': 'ur.01074226355.01', 'first_name': 'Sa...</td>
      <td>1008990.0</td>
      <td>Using Statistical Genetics to Elucidate the Ef...</td>
      <td>881753.0</td>
      <td>...</td>
      <td>[statistical genetics, genetics, effect, assoc...</td>
      <td>Not available</td>
      <td>[{'id': '2620', 'name': '0604 Genetics'}, {'id...</td>
      <td>[{'id': '4000', 'name': 'Basic Science'}]</td>
      <td>[{'id': '3900', 'name': 'Biomedical'}]</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1154217</td>
      <td>National Health and Medical Research Council</td>
      <td>Arthritis and musculoskeletal conditions are a...</td>
      <td>[{'id': '10201', 'name': '2.1 Biological and e...</td>
      <td>[{'id': '3053', 'name': '1103 Clinical Science...</td>
      <td>54872472.0</td>
      <td>[{'id': 'ur.016155464604.94', 'first_name': 'R...</td>
      <td>764253.0</td>
      <td>Lifestyle management of knee osteoarthritis: c...</td>
      <td>667878.0</td>
      <td>...</td>
      <td>[lifestyle management, management, knee osteoa...</td>
      <td>Not available</td>
      <td>[{'id': '3053', 'name': '1103 Clinical Science...</td>
      <td>[{'id': '4001', 'name': 'Clinical Medicine and...</td>
      <td>[{'id': '3901', 'name': 'Clinical'}]</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1159261</td>
      <td>National Health and Medical Research Council</td>
      <td>Preeclampsia and fetal growth restriction are ...</td>
      <td>NaN</td>
      <td>[{'id': '3158', 'name': '1114 Paediatrics and ...</td>
      <td>36628680.0</td>
      <td>[{'id': 'ur.010007620107.38', 'first_name': 'T...</td>
      <td>510157.0</td>
      <td>New diagnostics to predict preelampsia and fet...</td>
      <td>445824.0</td>
      <td>...</td>
      <td>[new diagnostics, diagnostics, fetal growth re...</td>
      <td>Not available</td>
      <td>[{'id': '3158', 'name': '1114 Paediatrics and ...</td>
      <td>[{'id': '4000', 'name': 'Basic Science'}]</td>
      <td>[{'id': '3900', 'name': 'Biomedical'}]</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 58 columns</p>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[50]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">pubs_grants</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;supporting_grant_ids&#39;</span><span class="p">)</span><span class="o">.</span>\
    <span class="n">agg</span><span class="p">({</span><span class="s1">&#39;id&#39;</span><span class="p">:</span><span class="s1">&#39;count&#39;</span><span class="p">})</span><span class="o">.</span>\
    <span class="n">reset_index</span><span class="p">()</span><span class="o">.</span>\
    <span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span><span class="s1">&#39;pubs&#39;</span><span class="p">,</span><span class="s1">&#39;supporting_grant_ids&#39;</span><span class="p">:</span><span class="s1">&#39;id&#39;</span><span class="p">})</span><span class="o">.</span>\
    <span class="n">merge</span><span class="p">(</span><span class="n">grant_details</span><span class="p">[[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span><span class="s1">&#39;original_title&#39;</span><span class="p">,</span><span class="s1">&#39;funding_usd&#39;</span><span class="p">]],</span>
          <span class="n">on</span><span class="o">=</span><span class="s1">&#39;id&#39;</span><span class="p">)</span><span class="o">.</span>\
    <span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;pubs&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[50]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>pubs</th>
      <th>original_title</th>
      <th>funding_usd</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2213</th>
      <td>grant.6711717</td>
      <td>35</td>
      <td>ARC Centre of Excellence in Exciton Science</td>
      <td>22669994.0</td>
    </tr>
    <tr>
      <th>1210</th>
      <td>grant.3931418</td>
      <td>31</td>
      <td>ARC Centre of Excellence in Convergent Bio-Nan...</td>
      <td>19674412.0</td>
    </tr>
    <tr>
      <th>3478</th>
      <td>grant.7874297</td>
      <td>23</td>
      <td>Advancing Nanomedicine through Particle Techno...</td>
      <td>617151.0</td>
    </tr>
    <tr>
      <th>1146</th>
      <td>grant.3860228</td>
      <td>22</td>
      <td>ENIGMA Center for Worldwide Medicine, Imaging ...</td>
      <td>10065774.0</td>
    </tr>
    <tr>
      <th>4159</th>
      <td>grant.7878111</td>
      <td>22</td>
      <td>Novel therapies, risk pathways and prevention ...</td>
      <td>643236.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1953</th>
      <td>grant.5498709</td>
      <td>1</td>
      <td>Non-Invasive Imaging of Glymphatic Clearance: ...</td>
      <td>411126.0</td>
    </tr>
    <tr>
      <th>1954</th>
      <td>grant.5498721</td>
      <td>1</td>
      <td>Mitochondrial ubiquitin dynamics and apoptotic...</td>
      <td>754966.0</td>
    </tr>
    <tr>
      <th>1955</th>
      <td>grant.5499803</td>
      <td>1</td>
      <td>EMPOWER: Early Signs Monitoring to Prevent Rel...</td>
      <td>1105477.0</td>
    </tr>
    <tr>
      <th>1956</th>
      <td>grant.5503573</td>
      <td>1</td>
      <td>Molecular Regulation of AEP during Ageing</td>
      <td>3307629.0</td>
    </tr>
    <tr>
      <th>5017</th>
      <td>grant.8681118</td>
      <td>1</td>
      <td>Development of molecular markers for applicati...</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>5018 rows × 4 columns</p>
</div></div>
</div>
<div class="section" id="Why-didn’t-I-use-resulting_publication_ids-?">
<h3>Why didn’t I use resulting_publication_ids ?<a class="headerlink" href="#Why-didn’t-I-use-resulting_publication_ids-?" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[51]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%%</span><span class="k">dsldf</span>

search grants
where resulting_publication_ids in [&quot;pub.1005269097&quot;]
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Returned Grants: 3 (total = 3)
Time: 0.46s
WARNINGS [1]
Field &#39;resulting_publication_ids&#39; is deprecated. Please refer to https://docs.dimensions.ai/dsl/releasenotes.html for more details
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[51]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>start_date</th>
      <th>language</th>
      <th>id</th>
      <th>original_title</th>
      <th>title_language</th>
      <th>title</th>
      <th>active_year</th>
      <th>start_year</th>
      <th>funding_org_name</th>
      <th>end_date</th>
      <th>project_num</th>
      <th>funders</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2018-12-15</td>
      <td>en</td>
      <td>grant.4320525</td>
      <td>Nanoscale X-Ray Imaging and Dynamics of Electr...</td>
      <td>en</td>
      <td>Nanoscale X-Ray Imaging and Dynamics of Electr...</td>
      <td>[2018, 2019, 2020, 2021]</td>
      <td>2018</td>
      <td>Office of Basic Energy Sciences</td>
      <td>2021-12-14</td>
      <td>DE-SC0001805</td>
      <td>[{'id': 'grid.452988.a', 'types': ['Government...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2014-08-15</td>
      <td>en</td>
      <td>grant.3660654</td>
      <td>Strain-induced modification of nanoscale mater...</td>
      <td>en</td>
      <td>Strain-induced modification of nanoscale mater...</td>
      <td>[2014, 2015, 2016, 2017, 2018]</td>
      <td>2014</td>
      <td>Directorate for Mathematical &amp; Physical Sciences</td>
      <td>2018-07-31</td>
      <td>1411335</td>
      <td>[{'id': 'grid.457875.c', 'types': ['Government...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2009-08-15</td>
      <td>en</td>
      <td>grant.3100327</td>
      <td>Magnetic Transition Metal Nanowires</td>
      <td>en</td>
      <td>Magnetic Transition Metal Nanowires</td>
      <td>[2009, 2010, 2011, 2012, 2013]</td>
      <td>2009</td>
      <td>Directorate for Mathematical &amp; Physical Sciences</td>
      <td>2013-09-30</td>
      <td>0906957</td>
      <td>[{'id': 'grid.457875.c', 'types': ['Government...</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
</div>
<div class="section" id="Conclusions">
<h2>Conclusions<a class="headerlink" href="#Conclusions" title="Permalink to this headline">¶</a></h2>
<p>Lists are a simple data structure that can have a great number of applications.</p>
<p>When used in conjuction with the <a class="reference external" href="https://docs.dimensions.ai/dsl/tour.html">DSL</a> language, they make it easy to concatenate the results of one query with another query e.g. in order to navigate through links available in Dimensions (from publications to grants, patents etc…).</p>
<p>See also this <a class="reference external" href="https://api-lab.dimensions.ai/cookbooks/5-patents/1-Patents-referencing-a-Research-Organization.html">patents tutorial</a> or this <a class="reference external" href="https://api-lab.dimensions.ai/cookbooks/4-clinical-trials/Clinical_Trials_by_Volume_of_Pubs.html">clinical trials tutorial</a> for more in-depth applications of the queries discussed above.</p>
</div>
</div>
<hr class="docutils" />
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <a class="reference external" href="https://www.dimensions.ai/dimensions-apis/">Dimensions Analytics API</a> allows to carry out sophisticated research data analytics tasks like the ones described on this website. Check out also the associated <a class="reference external" href="https://github.com/digital-science/dimensions-api-lab">Github repository</a> for examples, the source code of these tutorials and much more.</p>
</div>
<a class="reference external image-reference" href="https://www.dimensions.ai/dimensions-apis/"><img alt="../../_images/badge-dimensions-api.svg" src="../../_images/badge-dimensions-api.svg" /></a>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
    <p>© Copyright 2020 Digital Science & Research Solutions, Inc. All Rights Reserved | <a href="https://www.dimensions.ai/">About us</a> · <a href="https://www.dimensions.ai/privacy/">Privacy policy</a> · <a href="https://www.dimensions.ai/website-terms/">Legal terms</a></p>
     


</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
    

    <!-- Adds target=_blank to external links -->

  <script type="text/javascript">
    $(document).ready(function () {
      $('a[href^="http://"], a[href^="https://"]').not('a[class*=internal]').attr('target', '_blank');
    });
  </script>
  


</body>
</html>